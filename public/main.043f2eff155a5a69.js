"use strict";(self.webpackChunkoskey_challenge=self.webpackChunkoskey_challenge||[]).push([[179],{9058:(Gt,Ue,k)=>{k.d(Ue,{BH:()=>me,G6:()=>En,L:()=>le,LL:()=>ut,Pz:()=>De,Sg:()=>He,UG:()=>Ut,ZB:()=>Ee,ZR:()=>wt,aH:()=>ue,b$:()=>dn,eu:()=>Be,hl:()=>Ne,jU:()=>nt,m9:()=>lt,ne:()=>tr,pd:()=>wn,r3:()=>Rt,ru:()=>an,tV:()=>ee,uI:()=>Et,vZ:()=>It,w1:()=>br,xO:()=>Tr,xb:()=>Pt,z$:()=>Ye,zd:()=>fn});const ne=function(de){const U=[];let V=0;for(let R=0;R<de.length;R++){let F=de.charCodeAt(R);F<128?U[V++]=F:F<2048?(U[V++]=F>>6|192,U[V++]=63&F|128):55296==(64512&F)&&R+1<de.length&&56320==(64512&de.charCodeAt(R+1))?(F=65536+((1023&F)<<10)+(1023&de.charCodeAt(++R)),U[V++]=F>>18|240,U[V++]=F>>12&63|128,U[V++]=F>>6&63|128,U[V++]=63&F|128):(U[V++]=F>>12|224,U[V++]=F>>6&63|128,U[V++]=63&F|128)}return U},_e={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(de,U){if(!Array.isArray(de))throw Error("encodeByteArray takes an array as a parameter");this.init_();const V=U?this.byteToCharMapWebSafe_:this.byteToCharMap_,R=[];for(let F=0;F<de.length;F+=3){const se=de[F],Ze=F+1<de.length,Bt=Ze?de[F+1]:0,Yt=F+2<de.length,Sn=Yt?de[F+2]:0;let Zn=(15&Bt)<<2|Sn>>6,je=63&Sn;Yt||(je=64,Ze||(Zn=64)),R.push(V[se>>2],V[(3&se)<<4|Bt>>4],V[Zn],V[je])}return R.join("")},encodeString(de,U){return this.HAS_NATIVE_SUPPORT&&!U?btoa(de):this.encodeByteArray(ne(de),U)},decodeString(de,U){return this.HAS_NATIVE_SUPPORT&&!U?atob(de):function(de){const U=[];let V=0,R=0;for(;V<de.length;){const F=de[V++];if(F<128)U[R++]=String.fromCharCode(F);else if(F>191&&F<224){const se=de[V++];U[R++]=String.fromCharCode((31&F)<<6|63&se)}else if(F>239&&F<365){const Yt=((7&F)<<18|(63&de[V++])<<12|(63&de[V++])<<6|63&de[V++])-65536;U[R++]=String.fromCharCode(55296+(Yt>>10)),U[R++]=String.fromCharCode(56320+(1023&Yt))}else{const se=de[V++],Ze=de[V++];U[R++]=String.fromCharCode((15&F)<<12|(63&se)<<6|63&Ze)}}return U.join("")}(this.decodeStringToByteArray(de,U))},decodeStringToByteArray(de,U){this.init_();const V=U?this.charToByteMapWebSafe_:this.charToByteMap_,R=[];for(let F=0;F<de.length;){const se=V[de.charAt(F++)],Bt=F<de.length?V[de.charAt(F)]:0;++F;const Sn=F<de.length?V[de.charAt(F)]:64;++F;const en=F<de.length?V[de.charAt(F)]:64;if(++F,null==se||null==Bt||null==Sn||null==en)throw new ve;R.push(se<<2|Bt>>4),64!==Sn&&(R.push(Bt<<4&240|Sn>>2),64!==en&&R.push(Sn<<6&192|en))}return R},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let de=0;de<this.ENCODED_VALS.length;de++)this.byteToCharMap_[de]=this.ENCODED_VALS.charAt(de),this.charToByteMap_[this.byteToCharMap_[de]]=de,this.byteToCharMapWebSafe_[de]=this.ENCODED_VALS_WEBSAFE.charAt(de),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[de]]=de,de>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(de)]=de,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(de)]=de)}}};class ve extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const le=function(de){return function(de){const U=ne(de);return _e.encodeByteArray(U,!0)}(de).replace(/\./g,"")},ee=function(de){try{return _e.decodeString(de,!0)}catch(U){console.error("base64Decode failed: ",U)}return null};function Ee(de,U){if(!(U instanceof Object))return U;switch(U.constructor){case Date:return new Date(U.getTime());case Object:void 0===de&&(de={});break;case Array:de=[];break;default:return U}for(const V in U)!U.hasOwnProperty(V)||!qe(V)||(de[V]=Ee(de[V],U[V]));return de}function qe(de){return"__proto__"!==de}const Tt=()=>{try{return function We(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const de=process.env.__FIREBASE_DEFAULTS__;return de?JSON.parse(de):void 0})()||(()=>{if(typeof document>"u")return;let de;try{de=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const U=de&&ee(de[1]);return U&&JSON.parse(U)})()}catch(de){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${de}`)}},ue=()=>{var de;return null===(de=Tt())||void 0===de?void 0:de.config},De=de=>{var U;return null===(U=Tt())||void 0===U?void 0:U[`_${de}`]};class me{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((U,V)=>{this.resolve=U,this.reject=V})}wrapCallback(U){return(V,R)=>{V?this.reject(V):this.resolve(R),"function"==typeof U&&(this.promise.catch(()=>{}),1===U.length?U(V):U(V,R))}}}function He(de,U){if(de.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const R=U||"demo-project",F=de.iat||0,se=de.sub||de.user_id;if(!se)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ze=Object.assign({iss:`https://securetoken.google.com/${R}`,aud:R,iat:F,exp:F+3600,auth_time:F,sub:se,user_id:se,firebase:{sign_in_provider:"custom",identities:{}}},de);return[le(JSON.stringify({alg:"none",type:"JWT"})),le(JSON.stringify(Ze)),""].join(".")}function Ye(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Et(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ye())}function Ut(){var de;const U=null===(de=Tt())||void 0===de?void 0:de.forceEnvironment;if("node"===U)return!0;if("browser"===U)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function nt(){return"object"==typeof self&&self.self===self}function an(){const de="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof de&&void 0!==de.id}function dn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function br(){const de=Ye();return de.indexOf("MSIE ")>=0||de.indexOf("Trident/")>=0}function En(){return!Ut()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ne(){try{return"object"==typeof indexedDB}catch{return!1}}function Be(){return new Promise((de,U)=>{try{let V=!0;const R="validate-browser-context-for-indexeddb-analytics-module",F=self.indexedDB.open(R);F.onsuccess=()=>{F.result.close(),V||self.indexedDB.deleteDatabase(R),de(!0)},F.onupgradeneeded=()=>{V=!1},F.onerror=()=>{var se;U((null===(se=F.error)||void 0===se?void 0:se.message)||"")}}catch(V){U(V)}})}class wt extends Error{constructor(U,V,R){super(V),this.code=U,this.customData=R,this.name="FirebaseError",Object.setPrototypeOf(this,wt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ut.prototype.create)}}class ut{constructor(U,V,R){this.service=U,this.serviceName=V,this.errors=R}create(U,...V){const R=V[0]||{},F=`${this.service}/${U}`,se=this.errors[U],Ze=se?function jt(de,U){return de.replace(yt,(V,R)=>{const F=U[R];return null!=F?String(F):`<${R}?>`})}(se,R):"Error";return new wt(F,`${this.serviceName}: ${Ze} (${F}).`,R)}}const yt=/\{\$([^}]+)}/g;function Rt(de,U){return Object.prototype.hasOwnProperty.call(de,U)}function Pt(de){for(const U in de)if(Object.prototype.hasOwnProperty.call(de,U))return!1;return!0}function It(de,U){if(de===U)return!0;const V=Object.keys(de),R=Object.keys(U);for(const F of V){if(!R.includes(F))return!1;const se=de[F],Ze=U[F];if(or(se)&&or(Ze)){if(!It(se,Ze))return!1}else if(se!==Ze)return!1}for(const F of R)if(!V.includes(F))return!1;return!0}function or(de){return null!==de&&"object"==typeof de}function Tr(de){const U=[];for(const[V,R]of Object.entries(de))Array.isArray(R)?R.forEach(F=>{U.push(encodeURIComponent(V)+"="+encodeURIComponent(F))}):U.push(encodeURIComponent(V)+"="+encodeURIComponent(R));return U.length?"&"+U.join("&"):""}function fn(de){const U={};return de.replace(/^\?/,"").split("&").forEach(R=>{if(R){const[F,se]=R.split("=");U[decodeURIComponent(F)]=decodeURIComponent(se)}}),U}function wn(de){const U=de.indexOf("?");if(!U)return"";const V=de.indexOf("#",U);return de.substring(U,V>0?V:void 0)}function tr(de,U){const V=new Cn(de,U);return V.subscribe.bind(V)}class Cn{constructor(U,V){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=V,this.task.then(()=>{U(this)}).catch(R=>{this.error(R)})}next(U){this.forEachObserver(V=>{V.next(U)})}error(U){this.forEachObserver(V=>{V.error(U)}),this.close(U)}complete(){this.forEachObserver(U=>{U.complete()}),this.close()}subscribe(U,V,R){let F;if(void 0===U&&void 0===V&&void 0===R)throw new Error("Missing Observer.");F=function ir(de,U){if("object"!=typeof de||null===de)return!1;for(const V of U)if(V in de&&"function"==typeof de[V])return!0;return!1}(U,["next","error","complete"])?U:{next:U,error:V,complete:R},void 0===F.next&&(F.next=Dr),void 0===F.error&&(F.error=Dr),void 0===F.complete&&(F.complete=Dr);const se=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?F.error(this.finalError):F.complete()}catch{}}),this.observers.push(F),se}unsubscribeOne(U){void 0===this.observers||void 0===this.observers[U]||(delete this.observers[U],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(U){if(!this.finalized)for(let V=0;V<this.observers.length;V++)this.sendOne(V,U)}sendOne(U,V){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[U])try{V(this.observers[U])}catch(R){typeof console<"u"&&console.error&&console.error(R)}})}close(U){this.finalized||(this.finalized=!0,void 0!==U&&(this.finalError=U),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Dr(){}function lt(de){return de&&de._delegate?de._delegate:de}},5211:(Gt,Ue,k)=>{k.d(Ue,{e:()=>_e});var p=k(5861),te=k(5879),Y=k(981);let ne=(()=>{class ve{constructor(){}setItem(le,ee){localStorage.setItem(le,ee)}getData(le){return localStorage.getItem(le)}clearData(){localStorage.clear()}static#e=this.\u0275fac=function(ee){return new(ee||ve)};static#t=this.\u0275prov=te.Yz7({token:ve,factory:ve.\u0275fac,providedIn:"root"})}return ve})();var ye=k(7650);let _e=(()=>{class ve{constructor(le,ee,ae){this.auth=le,this.localStorageService=ee,this.firestore=ae,this._authUser=null,this._collection=this.firestore.collection("users").ref}authenticatedUser(){return this._authUser||(this._authUser=JSON.parse(this.localStorageService.getData("authUser"))),this._authUser}signIn(le){var ee=this;return(0,p.Z)(function*(){try{const ae=yield ee.auth.signInWithEmailAndPassword(le.email,le.password);return ee._authUser={id:ae.user.uid,email:ae.user.email,lastLoginAt:parseInt(ae.user.metadata.lastSignInTime),createdAt:parseInt(ae.user.metadata.creationTime)},ee.localStorageService.setItem("authUser",JSON.stringify(ee._authUser)),yield ee._collection.doc(ee._authUser.id).update({lastLoginAt:(new Date).getTime()}),ee._authUser}catch(ae){return console.log(ae),null}})()}signUp(le){var ee=this;return(0,p.Z)(function*(){try{const ae=yield ee.auth.createUserWithEmailAndPassword(le.email,le.password);return ee._collection.doc(ae.user.uid).set({createdAt:(new Date).getTime(),email:ae.user.email,lastLoginAt:(new Date).getTime()}),ae}catch(ae){return console.error(ae),null}})()}signOut(){var le=this;this.auth.signOut().then((0,p.Z)(function*(){yield le.updateLastUserActivity(),le._authUser=null,le.localStorageService.clearData()}))}updateLastUserActivity(){var le=this;return(0,p.Z)(function*(){le._authUser&&(yield le._collection.doc(le._authUser.id).update({lastLoginAt:(new Date).getTime()}))})()}static#e=this.\u0275fac=function(ee){return new(ee||ve)(te.LFG(Y.zQ),te.LFG(ne),te.LFG(ye.ST))};static#t=this.\u0275prov=te.Yz7({token:ve,factory:ve.\u0275fac,providedIn:"root"})}return ve})()},9694:(Gt,Ue,k)=>{var p=k(6593),te=k(9790),Y=k(5879),ne=k(5211);const _e=[{path:"",redirectTo:"auth/sign-in",pathMatch:"full"},{path:"auth",loadChildren:()=>Promise.all([k.e(194),k.e(243)]).then(k.bind(k,9243)).then(K=>K.AuthModule)},{path:"home",loadChildren:()=>Promise.all([k.e(194),k.e(834)]).then(k.bind(k,7834)).then(K=>K.HomeModule),canActivate:[(K,E)=>{const w=null!==(0,Y.f3M)(ne.e).authenticatedUser();return console.log("Authenticated user:",w),!!w||((0,Y.f3M)(te.F0).navigate(["auth/sign-in"]),!1)}]}];let ve=(()=>{class K{static#e=this.\u0275fac=function(N){return new(N||K)};static#t=this.\u0275mod=Y.oAB({type:K});static#n=this.\u0275inj=Y.cJS({imports:[te.Bz.forRoot(_e),te.Bz]})}return K})(),Pe=(()=>{class K{static#e=this.\u0275fac=function(N){return new(N||K)};static#t=this.\u0275cmp=Y.Xpm({type:K,selectors:[["app-root"]],decls:1,vars:0,template:function(N,W){1&N&&Y._UZ(0,"router-outlet")},dependencies:[te.lC]})}return K})();var le=k(6825);function ae(K){return new Y.vHH(3e3,!1)}function Yn(K){switch(K.length){case 0:return new le.ZN;case 1:return K[0];default:return new le.ZE(K)}}function In(K,E,w=new Map,N=new Map){const W=[],re=[];let Ce=-1,Me=null;if(E.forEach(it=>{const vt=it.get("offset"),Xt=vt==Ce,nn=Xt&&Me||new Map;it.forEach((ur,Pn)=>{let On=Pn,Tn=ur;if("offset"!==Pn)switch(On=K.normalizePropertyName(On,W),Tn){case le.k1:Tn=w.get(Pn);break;case le.l3:Tn=N.get(Pn);break;default:Tn=K.normalizeStyleValue(Pn,On,Tn,W)}nn.set(On,Tn)}),Xt||re.push(nn),Me=nn,Ce=vt}),W.length)throw function En(K){return new Y.vHH(3502,!1)}();return re}function St(K,E,w,N){switch(E){case"start":K.onStart(()=>N(w&&Rt(w,"start",K)));break;case"done":K.onDone(()=>N(w&&Rt(w,"done",K)));break;case"destroy":K.onDestroy(()=>N(w&&Rt(w,"destroy",K)))}}function Rt(K,E,w){const re=Jn(K.element,K.triggerName,K.fromState,K.toState,E||K.phaseName,w.totalTime??K.totalTime,!!w.disabled),Ce=K._data;return null!=Ce&&(re._data=Ce),re}function Jn(K,E,w,N,W="",re=0,Ce){return{element:K,triggerName:E,fromState:w,toState:N,phaseName:W,totalTime:re,disabled:!!Ce}}function Pt(K,E,w){let N=K.get(E);return N||K.set(E,N=w),N}function tt(K){const E=K.indexOf(":");return[K.substring(1,E),K.slice(E+1)]}const It=(()=>typeof document>"u"?null:document.documentElement)();function or(K){const E=K.parentNode||K.host||null;return E===It?null:E}let Tr=null,fn=!1;function Cn(K,E){for(;E;){if(E===K)return!0;E=or(E)}return!1}function gr(K,E,w){if(w)return Array.from(K.querySelectorAll(E));const N=K.querySelector(E);return N?[N]:[]}let Dr=(()=>{class K{validateStyleProperty(w){return function wn(K){Tr||(Tr=function tr(){return typeof document<"u"?document.body:null}()||{},fn=!!Tr.style&&"WebkitAppearance"in Tr.style);let E=!0;return Tr.style&&!function Nr(K){return"ebkit"==K.substring(1,6)}(K)&&(E=K in Tr.style,!E&&fn&&(E="Webkit"+K.charAt(0).toUpperCase()+K.slice(1)in Tr.style)),E}(w)}matchesElement(w,N){return!1}containsElement(w,N){return Cn(w,N)}getParentElement(w){return or(w)}query(w,N,W){return gr(w,N,W)}computeStyle(w,N,W){return W||""}animate(w,N,W,re,Ce,Me=[],it){return new le.ZN(W,re)}static#e=this.\u0275fac=function(N){return new(N||K)};static#t=this.\u0275prov=Y.Yz7({token:K,factory:K.\u0275fac})}return K})(),vi=(()=>{class K{static#e=this.NOOP=new Dr}return K})();const At=1e3,Gn="ng-enter",Ht="ng-leave",Pr="ng-trigger",ln=".ng-trigger",$r="ng-animating",dt=".ng-animating";function he(K){if("number"==typeof K)return K;const E=K.match(/^(-?[\.\d]+)(m?s)/);return!E||E.length<2?0:X(parseFloat(E[1]),E[2])}function X(K,E){return"s"===E?K*At:K}function Se(K,E,w){return K.hasOwnProperty("duration")?K:function oe(K,E,w){let W,re=0,Ce="";if("string"==typeof K){const Me=K.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Me)return E.push(ae()),{duration:0,delay:0,easing:""};W=X(parseFloat(Me[1]),Me[2]);const it=Me[3];null!=it&&(re=X(parseFloat(it),Me[4]));const vt=Me[5];vt&&(Ce=vt)}else W=K;if(!w){let Me=!1,it=E.length;W<0&&(E.push(function Ee(){return new Y.vHH(3100,!1)}()),Me=!0),re<0&&(E.push(function qe(){return new Y.vHH(3101,!1)}()),Me=!0),Me&&E.splice(it,0,ae())}return{duration:W,delay:re,easing:Ce}}(K,E,w)}function Ge(K,E={}){return Object.keys(K).forEach(w=>{E[w]=K[w]}),E}function lt(K){const E=new Map;return Object.keys(K).forEach(w=>{E.set(w,K[w])}),E}function V(K,E=new Map,w){if(w)for(let[N,W]of w)E.set(N,W);for(let[N,W]of K)E.set(N,W);return E}function R(K,E,w){E.forEach((N,W)=>{const re=Zn(W);w&&!w.has(W)&&w.set(W,K.style[re]),K.style[re]=N})}function F(K,E){E.forEach((w,N)=>{const W=Zn(N);K.style[W]=""})}function se(K){return Array.isArray(K)?1==K.length?K[0]:(0,le.vP)(K):K}const Bt=new RegExp("{{\\s*(.+?)\\s*}}","g");function Yt(K){let E=[];if("string"==typeof K){let w;for(;w=Bt.exec(K);)E.push(w[1]);Bt.lastIndex=0}return E}function Sn(K,E,w){const N=K.toString(),W=N.replace(Bt,(re,Ce)=>{let Me=E[Ce];return null==Me&&(w.push(function Ct(K){return new Y.vHH(3003,!1)}()),Me=""),Me.toString()});return W==N?K:W}function be(K){const E=[];let w=K.next();for(;!w.done;)E.push(w.value),w=K.next();return E}const en=/-+([a-z0-9])/g;function Zn(K){return K.replace(en,(...E)=>E[1].toUpperCase())}function mt(K,E,w){switch(E.type){case 7:return K.visitTrigger(E,w);case 0:return K.visitState(E,w);case 1:return K.visitTransition(E,w);case 2:return K.visitSequence(E,w);case 3:return K.visitGroup(E,w);case 4:return K.visitAnimate(E,w);case 5:return K.visitKeyframes(E,w);case 6:return K.visitStyle(E,w);case 8:return K.visitReference(E,w);case 9:return K.visitAnimateChild(E,w);case 10:return K.visitAnimateRef(E,w);case 11:return K.visitQuery(E,w);case 12:return K.visitStagger(E,w);default:throw function ht(K){return new Y.vHH(3004,!1)}()}}function Ft(K,E){return window.getComputedStyle(K)[E]}const _t="*";function $t(K,E){const w=[];return"string"==typeof K?K.split(/\s*,\s*/).forEach(N=>function _n(K,E,w){if(":"==K[0]){const it=function on(K,E){switch(K){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(w,N)=>parseFloat(N)>parseFloat(w);case":decrement":return(w,N)=>parseFloat(N)<parseFloat(w);default:return E.push(function An(K){return new Y.vHH(3016,!1)}()),"* => *"}}(K,w);if("function"==typeof it)return void E.push(it);K=it}const N=K.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==N||N.length<4)return w.push(function dn(K){return new Y.vHH(3015,!1)}()),E;const W=N[1],re=N[2],Ce=N[3];E.push(jn(W,Ce));"<"==re[0]&&!(W==_t&&Ce==_t)&&E.push(jn(Ce,W))}(N,w,E)):w.push(K),w}const un=new Set(["true","1"]),Rn=new Set(["false","0"]);function jn(K,E){const w=un.has(K)||Rn.has(K),N=un.has(E)||Rn.has(E);return(W,re)=>{let Ce=K==_t||K==W,Me=E==_t||E==re;return!Ce&&w&&"boolean"==typeof W&&(Ce=W?un.has(K):Rn.has(K)),!Me&&N&&"boolean"==typeof re&&(Me=re?un.has(E):Rn.has(E)),Ce&&Me}}const Ar=new RegExp("s*:selfs*,?","g");function Lr(K,E,w,N){return new Li(K).build(E,w,N)}class Li{constructor(E){this._driver=E}build(E,w,N){const W=new qi(w);return this._resetContextStyleTimingState(W),mt(this,se(E),W)}_resetContextStyleTimingState(E){E.currentQuerySelector="",E.collectedStyles=new Map,E.collectedStyles.set("",new Map),E.currentTime=0}visitTrigger(E,w){let N=w.queryCount=0,W=w.depCount=0;const re=[],Ce=[];return"@"==E.name.charAt(0)&&w.errors.push(function Tt(){return new Y.vHH(3006,!1)}()),E.definitions.forEach(Me=>{if(this._resetContextStyleTimingState(w),0==Me.type){const it=Me,vt=it.name;vt.toString().split(/\s*,\s*/).forEach(Xt=>{it.name=Xt,re.push(this.visitState(it,w))}),it.name=vt}else if(1==Me.type){const it=this.visitTransition(Me,w);N+=it.queryCount,W+=it.depCount,Ce.push(it)}else w.errors.push(function Jt(){return new Y.vHH(3007,!1)}())}),{type:7,name:E.name,states:re,transitions:Ce,queryCount:N,depCount:W,options:null}}visitState(E,w){const N=this.visitStyle(E.styles,w),W=E.options&&E.options.params||null;if(N.containsDynamicStyles){const re=new Set,Ce=W||{};N.styles.forEach(Me=>{Me instanceof Map&&Me.forEach(it=>{Yt(it).forEach(vt=>{Ce.hasOwnProperty(vt)||re.add(vt)})})}),re.size&&(be(re.values()),w.errors.push(function Ie(K,E){return new Y.vHH(3008,!1)}()))}return{type:0,name:E.name,style:N,options:W?{params:W}:null}}visitTransition(E,w){w.queryCount=0,w.depCount=0;const N=mt(this,se(E.animation),w);return{type:1,matchers:$t(E.expr,w.errors),animation:N,queryCount:w.queryCount,depCount:w.depCount,options:Vs(E.options)}}visitSequence(E,w){return{type:2,steps:E.steps.map(N=>mt(this,N,w)),options:Vs(E.options)}}visitGroup(E,w){const N=w.currentTime;let W=0;const re=E.steps.map(Ce=>{w.currentTime=N;const Me=mt(this,Ce,w);return W=Math.max(W,w.currentTime),Me});return w.currentTime=W,{type:3,steps:re,options:Vs(E.options)}}visitAnimate(E,w){const N=function Ai(K,E){if(K.hasOwnProperty("duration"))return K;if("number"==typeof K)return no(Se(K,E).duration,0,"");const w=K;if(w.split(/\s+/).some(re=>"{"==re.charAt(0)&&"{"==re.charAt(1))){const re=no(0,0,"");return re.dynamic=!0,re.strValue=w,re}const W=Se(w,E);return no(W.duration,W.delay,W.easing)}(E.timings,w.errors);w.currentAnimateTimings=N;let W,re=E.styles?E.styles:(0,le.oB)({});if(5==re.type)W=this.visitKeyframes(re,w);else{let Ce=E.styles,Me=!1;if(!Ce){Me=!0;const vt={};N.easing&&(vt.easing=N.easing),Ce=(0,le.oB)(vt)}w.currentTime+=N.duration+N.delay;const it=this.visitStyle(Ce,w);it.isEmptyStep=Me,W=it}return w.currentAnimateTimings=null,{type:4,timings:N,style:W,options:null}}visitStyle(E,w){const N=this._makeStyleAst(E,w);return this._validateStyleAst(N,w),N}_makeStyleAst(E,w){const N=[],W=Array.isArray(E.styles)?E.styles:[E.styles];for(let Me of W)"string"==typeof Me?Me===le.l3?N.push(Me):w.errors.push(new Y.vHH(3002,!1)):N.push(lt(Me));let re=!1,Ce=null;return N.forEach(Me=>{if(Me instanceof Map&&(Me.has("easing")&&(Ce=Me.get("easing"),Me.delete("easing")),!re))for(let it of Me.values())if(it.toString().indexOf("{{")>=0){re=!0;break}}),{type:6,styles:N,easing:Ce,offset:E.offset,containsDynamicStyles:re,options:null}}_validateStyleAst(E,w){const N=w.currentAnimateTimings;let W=w.currentTime,re=w.currentTime;N&&re>0&&(re-=N.duration+N.delay),E.styles.forEach(Ce=>{"string"!=typeof Ce&&Ce.forEach((Me,it)=>{const vt=w.collectedStyles.get(w.currentQuerySelector),Xt=vt.get(it);let nn=!0;Xt&&(re!=W&&re>=Xt.startTime&&W<=Xt.endTime&&(w.errors.push(function me(K,E,w,N,W){return new Y.vHH(3010,!1)}()),nn=!1),re=Xt.startTime),nn&&vt.set(it,{startTime:re,endTime:W}),w.options&&function Ze(K,E,w){const N=E.params||{},W=Yt(K);W.length&&W.forEach(re=>{N.hasOwnProperty(re)||w.push(function We(K){return new Y.vHH(3001,!1)}())})}(Me,w.options,w.errors)})})}visitKeyframes(E,w){const N={type:5,styles:[],options:null};if(!w.currentAnimateTimings)return w.errors.push(function He(){return new Y.vHH(3011,!1)}()),N;let re=0;const Ce=[];let Me=!1,it=!1,vt=0;const Xt=E.steps.map(jr=>{const di=this._makeStyleAst(jr,w);let Wr=null!=di.offset?di.offset:function $s(K){if("string"==typeof K)return null;let E=null;if(Array.isArray(K))K.forEach(w=>{if(w instanceof Map&&w.has("offset")){const N=w;E=parseFloat(N.get("offset")),N.delete("offset")}});else if(K instanceof Map&&K.has("offset")){const w=K;E=parseFloat(w.get("offset")),w.delete("offset")}return E}(di.styles),gi=0;return null!=Wr&&(re++,gi=di.offset=Wr),it=it||gi<0||gi>1,Me=Me||gi<vt,vt=gi,Ce.push(gi),di});it&&w.errors.push(function Ye(){return new Y.vHH(3012,!1)}()),Me&&w.errors.push(function Et(){return new Y.vHH(3200,!1)}());const nn=E.steps.length;let ur=0;re>0&&re<nn?w.errors.push(function Ut(){return new Y.vHH(3202,!1)}()):0==re&&(ur=1/(nn-1));const Pn=nn-1,On=w.currentTime,Tn=w.currentAnimateTimings,Jr=Tn.duration;return Xt.forEach((jr,di)=>{const Wr=ur>0?di==Pn?1:ur*di:Ce[di],gi=Wr*Jr;w.currentTime=On+Tn.delay+gi,Tn.duration=gi,this._validateStyleAst(jr,w),jr.offset=Wr,N.styles.push(jr)}),N}visitReference(E,w){return{type:8,animation:mt(this,se(E.animation),w),options:Vs(E.options)}}visitAnimateChild(E,w){return w.depCount++,{type:9,options:Vs(E.options)}}visitAnimateRef(E,w){return{type:10,animation:this.visitReference(E.animation,w),options:Vs(E.options)}}visitQuery(E,w){const N=w.currentQuerySelector,W=E.options||{};w.queryCount++,w.currentQuery=E;const[re,Ce]=function Ki(K){const E=!!K.split(/\s*,\s*/).find(w=>":self"==w);return E&&(K=K.replace(Ar,"")),K=K.replace(/@\*/g,ln).replace(/@\w+/g,w=>ln+"-"+w.slice(1)).replace(/:animating/g,dt),[K,E]}(E.selector);w.currentQuerySelector=N.length?N+" "+re:re,Pt(w.collectedStyles,w.currentQuerySelector,new Map);const Me=mt(this,se(E.animation),w);return w.currentQuery=null,w.currentQuerySelector=N,{type:11,selector:re,limit:W.limit||0,optional:!!W.optional,includeSelf:Ce,animation:Me,originalSelector:E.selector,options:Vs(E.options)}}visitStagger(E,w){w.currentQuery||w.errors.push(function nt(){return new Y.vHH(3013,!1)}());const N="full"===E.timings?{duration:0,delay:0,easing:"full"}:Se(E.timings,w.errors,!0);return{type:12,animation:mt(this,se(E.animation),w),timings:N,options:null}}}class qi{constructor(E){this.errors=E,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Vs(K){return K?(K=Ge(K)).params&&(K.params=function Is(K){return K?Ge(K):null}(K.params)):K={},K}function no(K,E,w){return{duration:K,delay:E,easing:w}}function Na(K,E,w,N,W,re,Ce=null,Me=!1){return{type:1,element:K,keyframes:E,preStyleProps:w,postStyleProps:N,duration:W,delay:re,totalTime:W+re,easing:Ce,subTimeline:Me}}class To{constructor(){this._map=new Map}get(E){return this._map.get(E)||[]}append(E,w){let N=this._map.get(E);N||this._map.set(E,N=[]),N.push(...w)}has(E){return this._map.has(E)}clear(){this._map.clear()}}const wo=new RegExp(":enter","g"),Vi=new RegExp(":leave","g");function Vo(K,E,w,N,W,re=new Map,Ce=new Map,Me,it,vt=[]){return(new zs).buildKeyframes(K,E,w,N,W,re,Ce,Me,it,vt)}class zs{buildKeyframes(E,w,N,W,re,Ce,Me,it,vt,Xt=[]){vt=vt||new To;const nn=new ua(E,w,vt,W,re,Xt,[]);nn.options=it;const ur=it.delay?he(it.delay):0;nn.currentTimeline.delayNextStep(ur),nn.currentTimeline.setStyles([Ce],null,nn.errors,it),mt(this,N,nn);const Pn=nn.timelines.filter(On=>On.containsAnimation());if(Pn.length&&Me.size){let On;for(let Tn=Pn.length-1;Tn>=0;Tn--){const Jr=Pn[Tn];if(Jr.element===w){On=Jr;break}}On&&!On.allowOnlyTimelineStyles()&&On.setStyles([Me],null,nn.errors,it)}return Pn.length?Pn.map(On=>On.buildKeyframes()):[Na(w,[],[],[],0,ur,"",!1)]}visitTrigger(E,w){}visitState(E,w){}visitTransition(E,w){}visitAnimateChild(E,w){const N=w.subInstructions.get(w.element);if(N){const W=w.createSubContext(E.options),re=w.currentTimeline.currentTime,Ce=this._visitSubInstructions(N,W,W.options);re!=Ce&&w.transformIntoNewTimeline(Ce)}w.previousNode=E}visitAnimateRef(E,w){const N=w.createSubContext(E.options);N.transformIntoNewTimeline(),this._applyAnimationRefDelays([E.options,E.animation.options],w,N),this.visitReference(E.animation,N),w.transformIntoNewTimeline(N.currentTimeline.currentTime),w.previousNode=E}_applyAnimationRefDelays(E,w,N){for(const W of E){const re=W?.delay;if(re){const Ce="number"==typeof re?re:he(Sn(re,W?.params??{},w.errors));N.delayNextStep(Ce)}}}_visitSubInstructions(E,w,N){let re=w.currentTimeline.currentTime;const Ce=null!=N.duration?he(N.duration):null,Me=null!=N.delay?he(N.delay):null;return 0!==Ce&&E.forEach(it=>{const vt=w.appendInstructionToTimeline(it,Ce,Me);re=Math.max(re,vt.duration+vt.delay)}),re}visitReference(E,w){w.updateOptions(E.options,!0),mt(this,E.animation,w),w.previousNode=E}visitSequence(E,w){const N=w.subContextCount;let W=w;const re=E.options;if(re&&(re.params||re.delay)&&(W=w.createSubContext(re),W.transformIntoNewTimeline(),null!=re.delay)){6==W.previousNode.type&&(W.currentTimeline.snapshotCurrentStyles(),W.previousNode=Gs);const Ce=he(re.delay);W.delayNextStep(Ce)}E.steps.length&&(E.steps.forEach(Ce=>mt(this,Ce,W)),W.currentTimeline.applyStylesToKeyframe(),W.subContextCount>N&&W.transformIntoNewTimeline()),w.previousNode=E}visitGroup(E,w){const N=[];let W=w.currentTimeline.currentTime;const re=E.options&&E.options.delay?he(E.options.delay):0;E.steps.forEach(Ce=>{const Me=w.createSubContext(E.options);re&&Me.delayNextStep(re),mt(this,Ce,Me),W=Math.max(W,Me.currentTimeline.currentTime),N.push(Me.currentTimeline)}),N.forEach(Ce=>w.currentTimeline.mergeTimelineCollectedStyles(Ce)),w.transformIntoNewTimeline(W),w.previousNode=E}_visitTiming(E,w){if(E.dynamic){const N=E.strValue;return Se(w.params?Sn(N,w.params,w.errors):N,w.errors)}return{duration:E.duration,delay:E.delay,easing:E.easing}}visitAnimate(E,w){const N=w.currentAnimateTimings=this._visitTiming(E.timings,w),W=w.currentTimeline;N.delay&&(w.incrementTime(N.delay),W.snapshotCurrentStyles());const re=E.style;5==re.type?this.visitKeyframes(re,w):(w.incrementTime(N.duration),this.visitStyle(re,w),W.applyStylesToKeyframe()),w.currentAnimateTimings=null,w.previousNode=E}visitStyle(E,w){const N=w.currentTimeline,W=w.currentAnimateTimings;!W&&N.hasCurrentStyleProperties()&&N.forwardFrame();const re=W&&W.easing||E.easing;E.isEmptyStep?N.applyEmptyStep(re):N.setStyles(E.styles,re,w.errors,w.options),w.previousNode=E}visitKeyframes(E,w){const N=w.currentAnimateTimings,W=w.currentTimeline.duration,re=N.duration,Me=w.createSubContext().currentTimeline;Me.easing=N.easing,E.styles.forEach(it=>{Me.forwardTime((it.offset||0)*re),Me.setStyles(it.styles,it.easing,w.errors,w.options),Me.applyStylesToKeyframe()}),w.currentTimeline.mergeTimelineCollectedStyles(Me),w.transformIntoNewTimeline(W+re),w.previousNode=E}visitQuery(E,w){const N=w.currentTimeline.currentTime,W=E.options||{},re=W.delay?he(W.delay):0;re&&(6===w.previousNode.type||0==N&&w.currentTimeline.hasCurrentStyleProperties())&&(w.currentTimeline.snapshotCurrentStyles(),w.previousNode=Gs);let Ce=N;const Me=w.invokeQuery(E.selector,E.originalSelector,E.limit,E.includeSelf,!!W.optional,w.errors);w.currentQueryTotal=Me.length;let it=null;Me.forEach((vt,Xt)=>{w.currentQueryIndex=Xt;const nn=w.createSubContext(E.options,vt);re&&nn.delayNextStep(re),vt===w.element&&(it=nn.currentTimeline),mt(this,E.animation,nn),nn.currentTimeline.applyStylesToKeyframe(),Ce=Math.max(Ce,nn.currentTimeline.currentTime)}),w.currentQueryIndex=0,w.currentQueryTotal=0,w.transformIntoNewTimeline(Ce),it&&(w.currentTimeline.mergeTimelineCollectedStyles(it),w.currentTimeline.snapshotCurrentStyles()),w.previousNode=E}visitStagger(E,w){const N=w.parentContext,W=w.currentTimeline,re=E.timings,Ce=Math.abs(re.duration),Me=Ce*(w.currentQueryTotal-1);let it=Ce*w.currentQueryIndex;switch(re.duration<0?"reverse":re.easing){case"reverse":it=Me-it;break;case"full":it=N.currentStaggerTime}const Xt=w.currentTimeline;it&&Xt.delayNextStep(it);const nn=Xt.currentTime;mt(this,E.animation,w),w.previousNode=E,N.currentStaggerTime=W.currentTime-nn+(W.startTime-N.currentTimeline.startTime)}}const Gs={};class ua{constructor(E,w,N,W,re,Ce,Me,it){this._driver=E,this.element=w,this.subInstructions=N,this._enterClassName=W,this._leaveClassName=re,this.errors=Ce,this.timelines=Me,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Gs,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=it||new Do(this._driver,w,0),Me.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(E,w){if(!E)return;const N=E;let W=this.options;null!=N.duration&&(W.duration=he(N.duration)),null!=N.delay&&(W.delay=he(N.delay));const re=N.params;if(re){let Ce=W.params;Ce||(Ce=this.options.params={}),Object.keys(re).forEach(Me=>{(!w||!Ce.hasOwnProperty(Me))&&(Ce[Me]=Sn(re[Me],Ce,this.errors))})}}_copyOptions(){const E={};if(this.options){const w=this.options.params;if(w){const N=E.params={};Object.keys(w).forEach(W=>{N[W]=w[W]})}}return E}createSubContext(E=null,w,N){const W=w||this.element,re=new ua(this._driver,W,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(W,N||0));return re.previousNode=this.previousNode,re.currentAnimateTimings=this.currentAnimateTimings,re.options=this._copyOptions(),re.updateOptions(E),re.currentQueryIndex=this.currentQueryIndex,re.currentQueryTotal=this.currentQueryTotal,re.parentContext=this,this.subContextCount++,re}transformIntoNewTimeline(E){return this.previousNode=Gs,this.currentTimeline=this.currentTimeline.fork(this.element,E),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(E,w,N){const W={duration:w??E.duration,delay:this.currentTimeline.currentTime+(N??0)+E.delay,easing:""},re=new bs(this._driver,E.element,E.keyframes,E.preStyleProps,E.postStyleProps,W,E.stretchStartingKeyframe);return this.timelines.push(re),W}incrementTime(E){this.currentTimeline.forwardTime(this.currentTimeline.duration+E)}delayNextStep(E){E>0&&this.currentTimeline.delayNextStep(E)}invokeQuery(E,w,N,W,re,Ce){let Me=[];if(W&&Me.push(this.element),E.length>0){E=(E=E.replace(wo,"."+this._enterClassName)).replace(Vi,"."+this._leaveClassName);let vt=this._driver.query(this.element,E,1!=N);0!==N&&(vt=N<0?vt.slice(vt.length+N,vt.length):vt.slice(0,N)),Me.push(...vt)}return!re&&0==Me.length&&Ce.push(function an(K){return new Y.vHH(3014,!1)}()),Me}}class Do{constructor(E,w,N,W){this._driver=E,this.element=w,this.startTime=N,this._elementTimelineStylesLookup=W,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(w),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(w,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(E){const w=1===this._keyframes.size&&this._pendingStyles.size;this.duration||w?(this.forwardTime(this.currentTime+E),w&&this.snapshotCurrentStyles()):this.startTime+=E}fork(E,w){return this.applyStylesToKeyframe(),new Do(this._driver,E,w||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(E){this.applyStylesToKeyframe(),this.duration=E,this._loadKeyframe()}_updateStyle(E,w){this._localTimelineStyles.set(E,w),this._globalTimelineStyles.set(E,w),this._styleSummary.set(E,{time:this.currentTime,value:w})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(E){E&&this._previousKeyframe.set("easing",E);for(let[w,N]of this._globalTimelineStyles)this._backFill.set(w,N||le.l3),this._currentKeyframe.set(w,le.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(E,w,N,W){w&&this._previousKeyframe.set("easing",w);const re=W&&W.params||{},Ce=function ro(K,E){const w=new Map;let N;return K.forEach(W=>{if("*"===W){N=N||E.keys();for(let re of N)w.set(re,le.l3)}else V(W,w)}),w}(E,this._globalTimelineStyles);for(let[Me,it]of Ce){const vt=Sn(it,re,N);this._pendingStyles.set(Me,vt),this._localTimelineStyles.has(Me)||this._backFill.set(Me,this._globalTimelineStyles.get(Me)??le.l3),this._updateStyle(Me,vt)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((E,w)=>{this._currentKeyframe.set(w,E)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((E,w)=>{this._currentKeyframe.has(w)||this._currentKeyframe.set(w,E)}))}snapshotCurrentStyles(){for(let[E,w]of this._localTimelineStyles)this._pendingStyles.set(E,w),this._updateStyle(E,w)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const E=[];for(let w in this._currentKeyframe)E.push(w);return E}mergeTimelineCollectedStyles(E){E._styleSummary.forEach((w,N)=>{const W=this._styleSummary.get(N);(!W||w.time>W.time)&&this._updateStyle(N,w.value)})}buildKeyframes(){this.applyStylesToKeyframe();const E=new Set,w=new Set,N=1===this._keyframes.size&&0===this.duration;let W=[];this._keyframes.forEach((Me,it)=>{const vt=V(Me,new Map,this._backFill);vt.forEach((Xt,nn)=>{Xt===le.k1?E.add(nn):Xt===le.l3&&w.add(nn)}),N||vt.set("offset",it/this.duration),W.push(vt)});const re=E.size?be(E.values()):[],Ce=w.size?be(w.values()):[];if(N){const Me=W[0],it=new Map(Me);Me.set("offset",0),it.set("offset",1),W=[Me,it]}return Na(this.element,W,re,Ce,this.duration,this.startTime,this.easing,!1)}}class bs extends Do{constructor(E,w,N,W,re,Ce,Me=!1){super(E,w,Ce.delay),this.keyframes=N,this.preStyleProps=W,this.postStyleProps=re,this._stretchStartingKeyframe=Me,this.timings={duration:Ce.duration,delay:Ce.delay,easing:Ce.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let E=this.keyframes,{delay:w,duration:N,easing:W}=this.timings;if(this._stretchStartingKeyframe&&w){const re=[],Ce=N+w,Me=w/Ce,it=V(E[0]);it.set("offset",0),re.push(it);const vt=V(E[0]);vt.set("offset",ii(Me)),re.push(vt);const Xt=E.length-1;for(let nn=1;nn<=Xt;nn++){let ur=V(E[nn]);const Pn=ur.get("offset");ur.set("offset",ii((w+Pn*N)/Ce)),re.push(ur)}N=Ce,w=0,W="",E=re}return Na(this.element,E,this.preStyleProps,this.postStyleProps,N,w,W,!0)}}function ii(K,E=3){const w=Math.pow(10,E-1);return Math.round(K*w)/w}class mi{}const Xn=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class ci extends mi{normalizePropertyName(E,w){return Zn(E)}normalizeStyleValue(E,w,N,W){let re="";const Ce=N.toString().trim();if(Xn.has(w)&&0!==N&&"0"!==N)if("number"==typeof N)re="px";else{const Me=N.match(/^[+-]?[\d\.]+([a-z]*)$/);Me&&0==Me[1].length&&W.push(function Ot(K,E){return new Y.vHH(3005,!1)}())}return Ce+re}}function Ur(K,E,w,N,W,re,Ce,Me,it,vt,Xt,nn,ur){return{type:0,element:K,triggerName:E,isRemovalTransition:W,fromState:w,fromStyles:re,toState:N,toStyles:Ce,timelines:Me,queriedElements:it,preStyleProps:vt,postStyleProps:Xt,totalTime:nn,errors:ur}}const Wn={};class Ws{constructor(E,w,N){this._triggerName=E,this.ast=w,this._stateStyles=N}match(E,w,N,W){return function Qr(K,E,w,N,W){return K.some(re=>re(E,w,N,W))}(this.ast.matchers,E,w,N,W)}buildStyles(E,w,N){let W=this._stateStyles.get("*");return void 0!==E&&(W=this._stateStyles.get(E?.toString())||W),W?W.buildStyles(w,N):new Map}build(E,w,N,W,re,Ce,Me,it,vt,Xt){const nn=[],ur=this.ast.options&&this.ast.options.params||Wn,On=this.buildStyles(N,Me&&Me.params||Wn,nn),Tn=it&&it.params||Wn,Jr=this.buildStyles(W,Tn,nn),jr=new Set,di=new Map,Wr=new Map,gi="void"===W,gs={params:da(Tn,ur),delay:this.ast.options?.delay},_s=Xt?[]:Vo(E,w,this.ast.animation,re,Ce,On,Jr,gs,vt,nn);let Si=0;if(_s.forEach($i=>{Si=Math.max($i.duration+$i.delay,Si)}),nn.length)return Ur(w,this._triggerName,N,W,gi,On,Jr,[],[],di,Wr,Si,nn);_s.forEach($i=>{const ls=$i.element,A=Pt(di,ls,new Set);$i.preStyleProps.forEach(O=>A.add(O));const G=Pt(Wr,ls,new Set);$i.postStyleProps.forEach(O=>G.add(O)),ls!==w&&jr.add(ls)});const $n=be(jr.values());return Ur(w,this._triggerName,N,W,gi,On,Jr,_s,$n,di,Wr,Si)}}function da(K,E){const w=Ge(E);for(const N in K)K.hasOwnProperty(N)&&null!=K[N]&&(w[N]=K[N]);return w}class so{constructor(E,w,N){this.styles=E,this.defaultParams=w,this.normalizer=N}buildStyles(E,w){const N=new Map,W=Ge(this.defaultParams);return Object.keys(E).forEach(re=>{const Ce=E[re];null!==Ce&&(W[re]=Ce)}),this.styles.styles.forEach(re=>{"string"!=typeof re&&re.forEach((Ce,Me)=>{Ce&&(Ce=Sn(Ce,W,w));const it=this.normalizer.normalizePropertyName(Me,w);Ce=this.normalizer.normalizeStyleValue(Me,it,Ce,w),N.set(Me,Ce)})}),N}}class tn{constructor(E,w,N){this.name=E,this.ast=w,this._normalizer=N,this.transitionFactories=[],this.states=new Map,w.states.forEach(W=>{this.states.set(W.name,new so(W.style,W.options&&W.options.params||{},N))}),kn(this.states,"true","1"),kn(this.states,"false","0"),w.transitions.forEach(W=>{this.transitionFactories.push(new Ws(E,W,this.states))}),this.fallbackTransition=function Mn(K,E,w){return new Ws(K,{type:1,animation:{type:2,steps:[],options:null},matchers:[(Ce,Me)=>!0],options:null,queryCount:0,depCount:0},E)}(E,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(E,w,N,W){return this.transitionFactories.find(Ce=>Ce.match(E,w,N,W))||null}matchStyles(E,w,N){return this.fallbackTransition.buildStyles(E,w,N)}}function kn(K,E,w){K.has(E)?K.has(w)||K.set(w,K.get(E)):K.has(w)&&K.set(E,K.get(w))}const ei=new To;class ns{constructor(E,w,N){this.bodyNode=E,this._driver=w,this._normalizer=N,this._animations=new Map,this._playersById=new Map,this.players=[]}register(E,w){const N=[],re=Lr(this._driver,w,N,[]);if(N.length)throw function Ne(K){return new Y.vHH(3503,!1)}();this._animations.set(E,re)}_buildPlayer(E,w,N){const W=E.element,re=In(this._normalizer,E.keyframes,w,N);return this._driver.animate(W,re,E.duration,E.delay,E.easing,[],!0)}create(E,w,N={}){const W=[],re=this._animations.get(E);let Ce;const Me=new Map;if(re?(Ce=Vo(this._driver,w,re,Gn,Ht,new Map,new Map,N,ei,W),Ce.forEach(Xt=>{const nn=Pt(Me,Xt.element,new Map);Xt.postStyleProps.forEach(ur=>nn.set(ur,null))})):(W.push(function Be(){return new Y.vHH(3300,!1)}()),Ce=[]),W.length)throw function ct(K){return new Y.vHH(3504,!1)}();Me.forEach((Xt,nn)=>{Xt.forEach((ur,Pn)=>{Xt.set(Pn,this._driver.computeStyle(nn,Pn,le.l3))})});const vt=Yn(Ce.map(Xt=>{const nn=Me.get(Xt.element);return this._buildPlayer(Xt,new Map,nn)}));return this._playersById.set(E,vt),vt.onDestroy(()=>this.destroy(E)),this.players.push(vt),vt}destroy(E){const w=this._getPlayer(E);w.destroy(),this._playersById.delete(E);const N=this.players.indexOf(w);N>=0&&this.players.splice(N,1)}_getPlayer(E){const w=this._playersById.get(E);if(!w)throw function rt(K){return new Y.vHH(3301,!1)}();return w}listen(E,w,N,W){const re=Jn(w,"","","");return St(this._getPlayer(E),N,re,W),()=>{}}command(E,w,N,W){if("register"==N)return void this.register(E,W[0]);if("create"==N)return void this.create(E,w,W[0]||{});const re=this._getPlayer(E);switch(N){case"play":re.play();break;case"pause":re.pause();break;case"reset":re.reset();break;case"restart":re.restart();break;case"finish":re.finish();break;case"init":re.init();break;case"setPosition":re.setPosition(parseFloat(W[0]));break;case"destroy":this.destroy(E)}}}const si="ng-animate-queued",Or="ng-animate-disabled",Qi=[],Pi={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Yi={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Qn="__ng_removed";class ws{get params(){return this.options.params}constructor(E,w=""){this.namespaceId=w;const N=E&&E.hasOwnProperty("value");if(this.value=function qs(K){return K??null}(N?E.value:E),N){const re=Ge(E);delete re.value,this.options=re}else this.options={};this.options.params||(this.options.params={})}absorbOptions(E){const w=E.params;if(w){const N=this.options.params;Object.keys(w).forEach(W=>{null==N[W]&&(N[W]=w[W])})}}}const Oi="void",Yr=new ws(Oi);class Ks{constructor(E,w,N){this.id=E,this.hostElement=w,this._engine=N,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+E,Br(w,this._hostClassName)}listen(E,w,N,W){if(!this._triggers.has(w))throw function wt(K,E){return new Y.vHH(3302,!1)}();if(null==N||0==N.length)throw function ut(K){return new Y.vHH(3303,!1)}();if(!function cr(K){return"start"==K||"done"==K}(N))throw function jt(K,E){return new Y.vHH(3400,!1)}();const re=Pt(this._elementListeners,E,[]),Ce={name:w,phase:N,callback:W};re.push(Ce);const Me=Pt(this._engine.statesByElement,E,new Map);return Me.has(w)||(Br(E,Pr),Br(E,Pr+"-"+w),Me.set(w,Yr)),()=>{this._engine.afterFlush(()=>{const it=re.indexOf(Ce);it>=0&&re.splice(it,1),this._triggers.has(w)||Me.delete(w)})}}register(E,w){return!this._triggers.has(E)&&(this._triggers.set(E,w),!0)}_getTrigger(E){const w=this._triggers.get(E);if(!w)throw function yt(K){return new Y.vHH(3401,!1)}();return w}trigger(E,w,N,W=!0){const re=this._getTrigger(w),Ce=new ps(this.id,w,E);let Me=this._engine.statesByElement.get(E);Me||(Br(E,Pr),Br(E,Pr+"-"+w),this._engine.statesByElement.set(E,Me=new Map));let it=Me.get(w);const vt=new ws(N,this.id);if(!(N&&N.hasOwnProperty("value"))&&it&&vt.absorbOptions(it.options),Me.set(w,vt),it||(it=Yr),vt.value!==Oi&&it.value===vt.value){if(!function vr(K,E){const w=Object.keys(K),N=Object.keys(E);if(w.length!=N.length)return!1;for(let W=0;W<w.length;W++){const re=w[W];if(!E.hasOwnProperty(re)||K[re]!==E[re])return!1}return!0}(it.params,vt.params)){const Tn=[],Jr=re.matchStyles(it.value,it.params,Tn),jr=re.matchStyles(vt.value,vt.params,Tn);Tn.length?this._engine.reportError(Tn):this._engine.afterFlush(()=>{F(E,Jr),R(E,jr)})}return}const ur=Pt(this._engine.playersByElement,E,[]);ur.forEach(Tn=>{Tn.namespaceId==this.id&&Tn.triggerName==w&&Tn.queued&&Tn.destroy()});let Pn=re.matchTransition(it.value,vt.value,E,vt.params),On=!1;if(!Pn){if(!W)return;Pn=re.fallbackTransition,On=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:E,triggerName:w,transition:Pn,fromState:it,toState:vt,player:Ce,isFallbackTransition:On}),On||(Br(E,si),Ce.onStart(()=>{Bs(E,si)})),Ce.onDone(()=>{let Tn=this.players.indexOf(Ce);Tn>=0&&this.players.splice(Tn,1);const Jr=this._engine.playersByElement.get(E);if(Jr){let jr=Jr.indexOf(Ce);jr>=0&&Jr.splice(jr,1)}}),this.players.push(Ce),ur.push(Ce),Ce}deregister(E){this._triggers.delete(E),this._engine.statesByElement.forEach(w=>w.delete(E)),this._elementListeners.forEach((w,N)=>{this._elementListeners.set(N,w.filter(W=>W.name!=E))})}clearElementCache(E){this._engine.statesByElement.delete(E),this._elementListeners.delete(E);const w=this._engine.playersByElement.get(E);w&&(w.forEach(N=>N.destroy()),this._engine.playersByElement.delete(E))}_signalRemovalForInnerTriggers(E,w){const N=this._engine.driver.query(E,ln,!0);N.forEach(W=>{if(W[Qn])return;const re=this._engine.fetchNamespacesByElement(W);re.size?re.forEach(Ce=>Ce.triggerLeaveAnimation(W,w,!1,!0)):this.clearElementCache(W)}),this._engine.afterFlushAnimationsDone(()=>N.forEach(W=>this.clearElementCache(W)))}triggerLeaveAnimation(E,w,N,W){const re=this._engine.statesByElement.get(E),Ce=new Map;if(re){const Me=[];if(re.forEach((it,vt)=>{if(Ce.set(vt,it.value),this._triggers.has(vt)){const Xt=this.trigger(E,vt,Oi,W);Xt&&Me.push(Xt)}}),Me.length)return this._engine.markElementAsRemoved(this.id,E,!0,w,Ce),N&&Yn(Me).onDone(()=>this._engine.processLeaveNode(E)),!0}return!1}prepareLeaveAnimationListeners(E){const w=this._elementListeners.get(E),N=this._engine.statesByElement.get(E);if(w&&N){const W=new Set;w.forEach(re=>{const Ce=re.name;if(W.has(Ce))return;W.add(Ce);const it=this._triggers.get(Ce).fallbackTransition,vt=N.get(Ce)||Yr,Xt=new ws(Oi),nn=new ps(this.id,Ce,E);this._engine.totalQueuedPlayers++,this._queue.push({element:E,triggerName:Ce,transition:it,fromState:vt,toState:Xt,player:nn,isFallbackTransition:!0})})}}removeNode(E,w){const N=this._engine;if(E.childElementCount&&this._signalRemovalForInnerTriggers(E,w),this.triggerLeaveAnimation(E,w,!0))return;let W=!1;if(N.totalAnimations){const re=N.players.length?N.playersByQueriedElement.get(E):[];if(re&&re.length)W=!0;else{let Ce=E;for(;Ce=Ce.parentNode;)if(N.statesByElement.get(Ce)){W=!0;break}}}if(this.prepareLeaveAnimationListeners(E),W)N.markElementAsRemoved(this.id,E,!1,w);else{const re=E[Qn];(!re||re===Pi)&&(N.afterFlush(()=>this.clearElementCache(E)),N.destroyInnerAnimations(E),N._onRemovalComplete(E,w))}}insertNode(E,w){Br(E,this._hostClassName)}drainQueuedTransitions(E){const w=[];return this._queue.forEach(N=>{const W=N.player;if(W.destroyed)return;const re=N.element,Ce=this._elementListeners.get(re);Ce&&Ce.forEach(Me=>{if(Me.name==N.triggerName){const it=Jn(re,N.triggerName,N.fromState.value,N.toState.value);it._data=E,St(N.player,Me.phase,it,Me.callback)}}),W.markedForDestroy?this._engine.afterFlush(()=>{W.destroy()}):w.push(N)}),this._queue=[],w.sort((N,W)=>{const re=N.transition.ast.depCount,Ce=W.transition.ast.depCount;return 0==re||0==Ce?re-Ce:this._engine.driver.containsElement(N.element,W.element)?1:-1})}destroy(E){this.players.forEach(w=>w.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,E)}}class Us{_onRemovalComplete(E,w){this.onRemovalComplete(E,w)}constructor(E,w,N){this.bodyNode=E,this.driver=w,this._normalizer=N,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(W,re)=>{}}get queuedPlayers(){const E=[];return this._namespaceList.forEach(w=>{w.players.forEach(N=>{N.queued&&E.push(N)})}),E}createNamespace(E,w){const N=new Ks(E,w,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,w)?this._balanceNamespaceList(N,w):(this.newHostElements.set(w,N),this.collectEnterElement(w)),this._namespaceLookup[E]=N}_balanceNamespaceList(E,w){const N=this._namespaceList,W=this.namespacesByHostElement;if(N.length-1>=0){let Ce=!1,Me=this.driver.getParentElement(w);for(;Me;){const it=W.get(Me);if(it){const vt=N.indexOf(it);N.splice(vt+1,0,E),Ce=!0;break}Me=this.driver.getParentElement(Me)}Ce||N.unshift(E)}else N.push(E);return W.set(w,E),E}register(E,w){let N=this._namespaceLookup[E];return N||(N=this.createNamespace(E,w)),N}registerTrigger(E,w,N){let W=this._namespaceLookup[E];W&&W.register(w,N)&&this.totalAnimations++}destroy(E,w){E&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const N=this._fetchNamespace(E);this.namespacesByHostElement.delete(N.hostElement);const W=this._namespaceList.indexOf(N);W>=0&&this._namespaceList.splice(W,1),N.destroy(w),delete this._namespaceLookup[E]}))}_fetchNamespace(E){return this._namespaceLookup[E]}fetchNamespacesByElement(E){const w=new Set,N=this.statesByElement.get(E);if(N)for(let W of N.values())if(W.namespaceId){const re=this._fetchNamespace(W.namespaceId);re&&w.add(re)}return w}trigger(E,w,N,W){if(Ds(w)){const re=this._fetchNamespace(E);if(re)return re.trigger(w,N,W),!0}return!1}insertNode(E,w,N,W){if(!Ds(w))return;const re=w[Qn];if(re&&re.setForRemoval){re.setForRemoval=!1,re.setForMove=!0;const Ce=this.collectedLeaveElements.indexOf(w);Ce>=0&&this.collectedLeaveElements.splice(Ce,1)}if(E){const Ce=this._fetchNamespace(E);Ce&&Ce.insertNode(w,N)}W&&this.collectEnterElement(w)}collectEnterElement(E){this.collectedEnterElements.push(E)}markElementAsDisabled(E,w){w?this.disabledNodes.has(E)||(this.disabledNodes.add(E),Br(E,Or)):this.disabledNodes.has(E)&&(this.disabledNodes.delete(E),Bs(E,Or))}removeNode(E,w,N){if(Ds(w)){const W=E?this._fetchNamespace(E):null;W?W.removeNode(w,N):this.markElementAsRemoved(E,w,!1,N);const re=this.namespacesByHostElement.get(w);re&&re.id!==E&&re.removeNode(w,N)}else this._onRemovalComplete(w,N)}markElementAsRemoved(E,w,N,W,re){this.collectedLeaveElements.push(w),w[Qn]={namespaceId:E,setForRemoval:W,hasAnimation:N,removedBeforeQueried:!1,previousTriggersValues:re}}listen(E,w,N,W,re){return Ds(w)?this._fetchNamespace(E).listen(w,N,W,re):()=>{}}_buildInstruction(E,w,N,W,re){return E.transition.build(this.driver,E.element,E.fromState.value,E.toState.value,N,W,E.fromState.options,E.toState.options,w,re)}destroyInnerAnimations(E){let w=this.driver.query(E,ln,!0);w.forEach(N=>this.destroyActiveAnimationsForElement(N)),0!=this.playersByQueriedElement.size&&(w=this.driver.query(E,dt,!0),w.forEach(N=>this.finishActiveQueriedAnimationOnElement(N)))}destroyActiveAnimationsForElement(E){const w=this.playersByElement.get(E);w&&w.forEach(N=>{N.queued?N.markedForDestroy=!0:N.destroy()})}finishActiveQueriedAnimationOnElement(E){const w=this.playersByQueriedElement.get(E);w&&w.forEach(N=>N.finish())}whenRenderingDone(){return new Promise(E=>{if(this.players.length)return Yn(this.players).onDone(()=>E());E()})}processLeaveNode(E){const w=E[Qn];if(w&&w.setForRemoval){if(E[Qn]=Pi,w.namespaceId){this.destroyInnerAnimations(E);const N=this._fetchNamespace(w.namespaceId);N&&N.clearElementCache(E)}this._onRemovalComplete(E,w.setForRemoval)}E.classList?.contains(Or)&&this.markElementAsDisabled(E,!1),this.driver.query(E,".ng-animate-disabled",!0).forEach(N=>{this.markElementAsDisabled(N,!1)})}flush(E=-1){let w=[];if(this.newHostElements.size&&(this.newHostElements.forEach((N,W)=>this._balanceNamespaceList(N,W)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let N=0;N<this.collectedEnterElements.length;N++)Br(this.collectedEnterElements[N],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const N=[];try{w=this._flushAnimations(N,E)}finally{for(let W=0;W<N.length;W++)N[W]()}}else for(let N=0;N<this.collectedLeaveElements.length;N++)this.processLeaveNode(this.collectedLeaveElements[N]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(N=>N()),this._flushFns=[],this._whenQuietFns.length){const N=this._whenQuietFns;this._whenQuietFns=[],w.length?Yn(w).onDone(()=>{N.forEach(W=>W())}):N.forEach(W=>W())}}reportError(E){throw function sr(K){return new Y.vHH(3402,!1)}()}_flushAnimations(E,w){const N=new To,W=[],re=new Map,Ce=[],Me=new Map,it=new Map,vt=new Map,Xt=new Set;this.disabledNodes.forEach(Oe=>{Xt.add(Oe);const Qe=this.driver.query(Oe,".ng-animate-queued",!0);for(let Mt=0;Mt<Qe.length;Mt++)Xt.add(Qe[Mt])});const nn=this.bodyNode,ur=Array.from(this.statesByElement.keys()),Pn=is(ur,this.collectedEnterElements),On=new Map;let Tn=0;Pn.forEach((Oe,Qe)=>{const Mt=Gn+Tn++;On.set(Qe,Mt),Oe.forEach(pn=>Br(pn,Mt))});const Jr=[],jr=new Set,di=new Set;for(let Oe=0;Oe<this.collectedLeaveElements.length;Oe++){const Qe=this.collectedLeaveElements[Oe],Mt=Qe[Qn];Mt&&Mt.setForRemoval&&(Jr.push(Qe),jr.add(Qe),Mt.hasAnimation?this.driver.query(Qe,".ng-star-inserted",!0).forEach(pn=>jr.add(pn)):di.add(Qe))}const Wr=new Map,gi=is(ur,Array.from(jr));gi.forEach((Oe,Qe)=>{const Mt=Ht+Tn++;Wr.set(Qe,Mt),Oe.forEach(pn=>Br(pn,Mt))}),E.push(()=>{Pn.forEach((Oe,Qe)=>{const Mt=On.get(Qe);Oe.forEach(pn=>Bs(pn,Mt))}),gi.forEach((Oe,Qe)=>{const Mt=Wr.get(Qe);Oe.forEach(pn=>Bs(pn,Mt))}),Jr.forEach(Oe=>{this.processLeaveNode(Oe)})});const gs=[],_s=[];for(let Oe=this._namespaceList.length-1;Oe>=0;Oe--)this._namespaceList[Oe].drainQueuedTransitions(w).forEach(Mt=>{const pn=Mt.player,rr=Mt.element;if(gs.push(pn),this.collectedEnterElements.length){const Cr=rr[Qn];if(Cr&&Cr.setForMove){if(Cr.previousTriggersValues&&Cr.previousTriggersValues.has(Mt.triggerName)){const Ji=Cr.previousTriggersValues.get(Mt.triggerName),qn=this.statesByElement.get(Mt.element);if(qn&&qn.has(Mt.triggerName)){const Xi=qn.get(Mt.triggerName);Xi.value=Ji,qn.set(Mt.triggerName,Xi)}}return void pn.destroy()}}const Kn=!nn||!this.driver.containsElement(nn,rr),Nn=Wr.get(rr),fr=On.get(rr),Ln=this._buildInstruction(Mt,N,fr,Nn,Kn);if(Ln.errors&&Ln.errors.length)return void _s.push(Ln);if(Kn)return pn.onStart(()=>F(rr,Ln.fromStyles)),pn.onDestroy(()=>R(rr,Ln.toStyles)),void W.push(pn);if(Mt.isFallbackTransition)return pn.onStart(()=>F(rr,Ln.fromStyles)),pn.onDestroy(()=>R(rr,Ln.toStyles)),void W.push(pn);const Xr=[];Ln.timelines.forEach(Cr=>{Cr.stretchStartingKeyframe=!0,this.disabledNodes.has(Cr.element)||Xr.push(Cr)}),Ln.timelines=Xr,N.append(rr,Ln.timelines),Ce.push({instruction:Ln,player:pn,element:rr}),Ln.queriedElements.forEach(Cr=>Pt(Me,Cr,[]).push(pn)),Ln.preStyleProps.forEach((Cr,Ji)=>{if(Cr.size){let qn=it.get(Ji);qn||it.set(Ji,qn=new Set),Cr.forEach((Xi,ni)=>qn.add(ni))}}),Ln.postStyleProps.forEach((Cr,Ji)=>{let qn=vt.get(Ji);qn||vt.set(Ji,qn=new Set),Cr.forEach((Xi,ni)=>qn.add(ni))})});if(_s.length){const Oe=[];_s.forEach(Qe=>{Oe.push(function st(K,E){return new Y.vHH(3505,!1)}())}),gs.forEach(Qe=>Qe.destroy()),this.reportError(Oe)}const Si=new Map,$n=new Map;Ce.forEach(Oe=>{const Qe=Oe.element;N.has(Qe)&&($n.set(Qe,Qe),this._beforeAnimationBuild(Oe.player.namespaceId,Oe.instruction,Si))}),W.forEach(Oe=>{const Qe=Oe.element;this._getPreviousPlayers(Qe,!1,Oe.namespaceId,Oe.triggerName,null).forEach(pn=>{Pt(Si,Qe,[]).push(pn),pn.destroy()})});const $i=Jr.filter(Oe=>kr(Oe,it,vt)),ls=new Map;Ii(ls,this.driver,di,vt,le.l3).forEach(Oe=>{kr(Oe,it,vt)&&$i.push(Oe)});const G=new Map;Pn.forEach((Oe,Qe)=>{Ii(G,this.driver,new Set(Oe),it,le.k1)}),$i.forEach(Oe=>{const Qe=ls.get(Oe),Mt=G.get(Oe);ls.set(Oe,new Map([...Qe?.entries()??[],...Mt?.entries()??[]]))});const O=[],z=[],pe={};Ce.forEach(Oe=>{const{element:Qe,player:Mt,instruction:pn}=Oe;if(N.has(Qe)){if(Xt.has(Qe))return Mt.onDestroy(()=>R(Qe,pn.toStyles)),Mt.disabled=!0,Mt.overrideTotalTime(pn.totalTime),void W.push(Mt);let rr=pe;if($n.size>1){let Nn=Qe;const fr=[];for(;Nn=Nn.parentNode;){const Ln=$n.get(Nn);if(Ln){rr=Ln;break}fr.push(Nn)}fr.forEach(Ln=>$n.set(Ln,rr))}const Kn=this._buildAnimation(Mt.namespaceId,pn,Si,re,G,ls);if(Mt.setRealPlayer(Kn),rr===pe)O.push(Mt);else{const Nn=this.playersByElement.get(rr);Nn&&Nn.length&&(Mt.parentPlayer=Yn(Nn)),W.push(Mt)}}else F(Qe,pn.fromStyles),Mt.onDestroy(()=>R(Qe,pn.toStyles)),z.push(Mt),Xt.has(Qe)&&W.push(Mt)}),z.forEach(Oe=>{const Qe=re.get(Oe.element);if(Qe&&Qe.length){const Mt=Yn(Qe);Oe.setRealPlayer(Mt)}}),W.forEach(Oe=>{Oe.parentPlayer?Oe.syncPlayerEvents(Oe.parentPlayer):Oe.destroy()});for(let Oe=0;Oe<Jr.length;Oe++){const Qe=Jr[Oe],Mt=Qe[Qn];if(Bs(Qe,Ht),Mt&&Mt.hasAnimation)continue;let pn=[];if(Me.size){let Kn=Me.get(Qe);Kn&&Kn.length&&pn.push(...Kn);let Nn=this.driver.query(Qe,dt,!0);for(let fr=0;fr<Nn.length;fr++){let Ln=Me.get(Nn[fr]);Ln&&Ln.length&&pn.push(...Ln)}}const rr=pn.filter(Kn=>!Kn.destroyed);rr.length?ms(this,Qe,rr):this.processLeaveNode(Qe)}return Jr.length=0,O.forEach(Oe=>{this.players.push(Oe),Oe.onDone(()=>{Oe.destroy();const Qe=this.players.indexOf(Oe);this.players.splice(Qe,1)}),Oe.play()}),O}afterFlush(E){this._flushFns.push(E)}afterFlushAnimationsDone(E){this._whenQuietFns.push(E)}_getPreviousPlayers(E,w,N,W,re){let Ce=[];if(w){const Me=this.playersByQueriedElement.get(E);Me&&(Ce=Me)}else{const Me=this.playersByElement.get(E);if(Me){const it=!re||re==Oi;Me.forEach(vt=>{vt.queued||!it&&vt.triggerName!=W||Ce.push(vt)})}}return(N||W)&&(Ce=Ce.filter(Me=>!(N&&N!=Me.namespaceId||W&&W!=Me.triggerName))),Ce}_beforeAnimationBuild(E,w,N){const re=w.element,Ce=w.isRemovalTransition?void 0:E,Me=w.isRemovalTransition?void 0:w.triggerName;for(const it of w.timelines){const vt=it.element,Xt=vt!==re,nn=Pt(N,vt,[]);this._getPreviousPlayers(vt,Xt,Ce,Me,w.toState).forEach(Pn=>{const On=Pn.getRealPlayer();On.beforeDestroy&&On.beforeDestroy(),Pn.destroy(),nn.push(Pn)})}F(re,w.fromStyles)}_buildAnimation(E,w,N,W,re,Ce){const Me=w.triggerName,it=w.element,vt=[],Xt=new Set,nn=new Set,ur=w.timelines.map(On=>{const Tn=On.element;Xt.add(Tn);const Jr=Tn[Qn];if(Jr&&Jr.removedBeforeQueried)return new le.ZN(On.duration,On.delay);const jr=Tn!==it,di=function oi(K){const E=[];return ti(K,E),E}((N.get(Tn)||Qi).map(Si=>Si.getRealPlayer())).filter(Si=>!!Si.element&&Si.element===Tn),Wr=re.get(Tn),gi=Ce.get(Tn),gs=In(this._normalizer,On.keyframes,Wr,gi),_s=this._buildPlayer(On,gs,di);if(On.subTimeline&&W&&nn.add(Tn),jr){const Si=new ps(E,Me,Tn);Si.setRealPlayer(_s),vt.push(Si)}return _s});vt.forEach(On=>{Pt(this.playersByQueriedElement,On.element,[]).push(On),On.onDone(()=>function Ui(K,E,w){let N=K.get(E);if(N){if(N.length){const W=N.indexOf(w);N.splice(W,1)}0==N.length&&K.delete(E)}return N}(this.playersByQueriedElement,On.element,On))}),Xt.forEach(On=>Br(On,$r));const Pn=Yn(ur);return Pn.onDestroy(()=>{Xt.forEach(On=>Bs(On,$r)),R(it,w.toStyles)}),nn.forEach(On=>{Pt(W,On,[]).push(Pn)}),Pn}_buildPlayer(E,w,N){return w.length>0?this.driver.animate(E.element,w,E.duration,E.delay,E.easing,N):new le.ZN(E.duration,E.delay)}}class ps{constructor(E,w,N){this.namespaceId=E,this.triggerName=w,this.element=N,this._player=new le.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(E){this._containsRealPlayer||(this._player=E,this._queuedCallbacks.forEach((w,N)=>{w.forEach(W=>St(E,N,void 0,W))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(E.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(E){this.totalTime=E}syncPlayerEvents(E){const w=this._player;w.triggerCallback&&E.onStart(()=>w.triggerCallback("start")),E.onDone(()=>this.finish()),E.onDestroy(()=>this.destroy())}_queueEvent(E,w){Pt(this._queuedCallbacks,E,[]).push(w)}onDone(E){this.queued&&this._queueEvent("done",E),this._player.onDone(E)}onStart(E){this.queued&&this._queueEvent("start",E),this._player.onStart(E)}onDestroy(E){this.queued&&this._queueEvent("destroy",E),this._player.onDestroy(E)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(E){this.queued||this._player.setPosition(E)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(E){const w=this._player;w.triggerCallback&&w.triggerCallback(E)}}function Ds(K){return K&&1===K.nodeType}function Zs(K,E){const w=K.style.display;return K.style.display=E??"none",w}function Ii(K,E,w,N,W){const re=[];w.forEach(it=>re.push(Zs(it)));const Ce=[];N.forEach((it,vt)=>{const Xt=new Map;it.forEach(nn=>{const ur=E.computeStyle(vt,nn,W);Xt.set(nn,ur),(!ur||0==ur.length)&&(vt[Qn]=Yi,Ce.push(vt))}),K.set(vt,Xt)});let Me=0;return w.forEach(it=>Zs(it,re[Me++])),Ce}function is(K,E){const w=new Map;if(K.forEach(Me=>w.set(Me,[])),0==E.length)return w;const W=new Set(E),re=new Map;function Ce(Me){if(!Me)return 1;let it=re.get(Me);if(it)return it;const vt=Me.parentNode;return it=w.has(vt)?vt:W.has(vt)?1:Ce(vt),re.set(Me,it),it}return E.forEach(Me=>{const it=Ce(Me);1!==it&&w.get(it).push(Me)}),w}function Br(K,E){K.classList?.add(E)}function Bs(K,E){K.classList?.remove(E)}function ms(K,E,w){Yn(w).onDone(()=>K.processLeaveNode(E))}function ti(K,E){for(let w=0;w<K.length;w++){const N=K[w];N instanceof le.ZE?ti(N.players,E):E.push(N)}}function kr(K,E,w){const N=w.get(K);if(!N)return!1;let W=E.get(K);return W?N.forEach(re=>W.add(re)):E.set(K,N),w.delete(K),!0}class zr{constructor(E,w,N){this.bodyNode=E,this._driver=w,this._normalizer=N,this._triggerCache={},this.onRemovalComplete=(W,re)=>{},this._transitionEngine=new Us(E,w,N),this._timelineEngine=new ns(E,w,N),this._transitionEngine.onRemovalComplete=(W,re)=>this.onRemovalComplete(W,re)}registerTrigger(E,w,N,W,re){const Ce=E+"-"+W;let Me=this._triggerCache[Ce];if(!Me){const it=[],Xt=Lr(this._driver,re,it,[]);if(it.length)throw function hn(K,E){return new Y.vHH(3404,!1)}();Me=function nr(K,E,w){return new tn(K,E,w)}(W,Xt,this._normalizer),this._triggerCache[Ce]=Me}this._transitionEngine.registerTrigger(w,W,Me)}register(E,w){this._transitionEngine.register(E,w)}destroy(E,w){this._transitionEngine.destroy(E,w)}onInsert(E,w,N,W){this._transitionEngine.insertNode(E,w,N,W)}onRemove(E,w,N){this._transitionEngine.removeNode(E,w,N)}disableAnimations(E,w){this._transitionEngine.markElementAsDisabled(E,w)}process(E,w,N,W){if("@"==N.charAt(0)){const[re,Ce]=tt(N);this._timelineEngine.command(re,w,Ce,W)}else this._transitionEngine.trigger(E,w,N,W)}listen(E,w,N,W,re){if("@"==N.charAt(0)){const[Ce,Me]=tt(N);return this._timelineEngine.listen(Ce,w,Me,re)}return this._transitionEngine.listen(E,w,N,W,re)}flush(E=-1){this._transitionEngine.flush(E)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(E){this._transitionEngine.afterFlushAnimationsDone(E)}}let Ni=(()=>{class K{static#e=this.initialStylesByElement=new WeakMap;constructor(w,N,W){this._element=w,this._startStyles=N,this._endStyles=W,this._state=0;let re=K.initialStylesByElement.get(w);re||K.initialStylesByElement.set(w,re=new Map),this._initialStyles=re}start(){this._state<1&&(this._startStyles&&R(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(R(this._element,this._initialStyles),this._endStyles&&(R(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(K.initialStylesByElement.delete(this._element),this._startStyles&&(F(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(F(this._element,this._endStyles),this._endStyles=null),R(this._element,this._initialStyles),this._state=3)}}return K})();function oo(K){let E=null;return K.forEach((w,N)=>{(function ss(K){return"display"===K||"position"===K})(N)&&(E=E||new Map,E.set(N,w))}),E}class Hn{constructor(E,w,N,W){this.element=E,this.keyframes=w,this.options=N,this._specialStyles=W,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=N.duration,this._delay=N.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(E=>E()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const E=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,E,this.options),this._finalKeyframe=E.length?E[E.length-1]:new Map;const w=()=>this._onFinish();this.domPlayer.addEventListener("finish",w),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",w)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(E){const w=[];return E.forEach(N=>{w.push(Object.fromEntries(N))}),w}_triggerWebAnimation(E,w,N){return E.animate(this._convertKeyframesToObject(w),N)}onStart(E){this._originalOnStartFns.push(E),this._onStartFns.push(E)}onDone(E){this._originalOnDoneFns.push(E),this._onDoneFns.push(E)}onDestroy(E){this._onDestroyFns.push(E)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(E=>E()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(E=>E()),this._onDestroyFns=[])}setPosition(E){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=E*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const E=new Map;this.hasStarted()&&this._finalKeyframe.forEach((N,W)=>{"offset"!==W&&E.set(W,this._finished?N:Ft(this.element,W))}),this.currentSnapshot=E}triggerCallback(E){const w="start"===E?this._onStartFns:this._onDoneFns;w.forEach(N=>N()),w.length=0}}class wr{validateStyleProperty(E){return!0}validateAnimatableStyleProperty(E){return!0}matchesElement(E,w){return!1}containsElement(E,w){return Cn(E,w)}getParentElement(E){return or(E)}query(E,w,N){return gr(E,w,N)}computeStyle(E,w,N){return window.getComputedStyle(E)[w]}animate(E,w,N,W,re,Ce=[]){const it={duration:N,delay:W,fill:0==W?"both":"forwards"};re&&(it.easing=re);const vt=new Map,Xt=Ce.filter(Pn=>Pn instanceof Hn);(function Ae(K,E){return 0===K||0===E})(N,W)&&Xt.forEach(Pn=>{Pn.currentSnapshot.forEach((On,Tn)=>vt.set(Tn,On))});let nn=function de(K){return K.length?K[0]instanceof Map?K:K.map(E=>lt(E)):[]}(w).map(Pn=>V(Pn));nn=function Re(K,E,w){if(w.size&&E.length){let N=E[0],W=[];if(w.forEach((re,Ce)=>{N.has(Ce)||W.push(Ce),N.set(Ce,re)}),W.length)for(let re=1;re<E.length;re++){let Ce=E[re];W.forEach(Me=>Ce.set(Me,Ft(K,Me)))}}return E}(E,nn,vt);const ur=function As(K,E){let w=null,N=null;return Array.isArray(E)&&E.length?(w=oo(E[0]),E.length>1&&(N=oo(E[E.length-1]))):E instanceof Map&&(w=oo(E)),w||N?new Ni(K,w,N):null}(E,nn);return new Hn(E,nn,it,ur)}}var Rs=k(6814);let La=(()=>{class K extends le._j{constructor(w,N){super(),this._nextAnimationId=0,this._renderer=w.createRenderer(N.body,{id:"0",encapsulation:Y.ifc.None,styles:[],data:{animation:[]}})}build(w){const N=this._nextAnimationId.toString();this._nextAnimationId++;const W=Array.isArray(w)?(0,le.vP)(w):w;return Bi(this._renderer,null,N,"register",[W]),new Uo(N,this._renderer)}static#e=this.\u0275fac=function(N){return new(N||K)(Y.LFG(Y.FYo),Y.LFG(Rs.K0))};static#t=this.\u0275prov=Y.Yz7({token:K,factory:K.\u0275fac})}return K})();class Uo extends le.LC{constructor(E,w){super(),this._id=E,this._renderer=w}create(E,w){return new Bo(this._id,E,w||{},this._renderer)}}class Bo{constructor(E,w,N,W){this.id=E,this.element=w,this._renderer=W,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",N)}_listen(E,w){return this._renderer.listen(this.element,`@@${this.id}:${E}`,w)}_command(E,...w){return Bi(this._renderer,this.element,this.id,E,w)}onDone(E){this._listen("done",E)}onStart(E){this._listen("start",E)}onDestroy(E){this._listen("destroy",E)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(E){this._command("setPosition",E)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Bi(K,E,w,N,W){return K.setProperty(E,`@@${w}:${N}`,W)}const ql="@.disabled";let Gr=(()=>{class K{constructor(w,N,W){this.delegate=w,this.engine=N,this._zone=W,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,N.onRemovalComplete=(re,Ce)=>{const Me=Ce?.parentNode(re);Me&&Ce.removeChild(Me,re)}}createRenderer(w,N){const re=this.delegate.createRenderer(w,N);if(!(w&&N&&N.data&&N.data.animation)){let Xt=this._rendererCache.get(re);return Xt||(Xt=new Ho("",re,this.engine,()=>this._rendererCache.delete(re)),this._rendererCache.set(re,Xt)),Xt}const Ce=N.id,Me=N.id+"-"+this._currentId;this._currentId++,this.engine.register(Me,w);const it=Xt=>{Array.isArray(Xt)?Xt.forEach(it):this.engine.registerTrigger(Ce,Me,w,Xt.name,Xt)};return N.data.animation.forEach(it),new ha(this,Me,re,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(w,N,W){w>=0&&w<this._microtaskId?this._zone.run(()=>N(W)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(re=>{const[Ce,Me]=re;Ce(Me)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([N,W]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(N){return new(N||K)(Y.LFG(Y.FYo),Y.LFG(zr),Y.LFG(Y.R0b))};static#t=this.\u0275prov=Y.Yz7({token:K,factory:K.\u0275fac})}return K})();class Ho{constructor(E,w,N,W){this.namespaceId=E,this.delegate=w,this.engine=N,this._onDestroy=W}get data(){return this.delegate.data}destroyNode(E){this.delegate.destroyNode?.(E)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(E,w){return this.delegate.createElement(E,w)}createComment(E){return this.delegate.createComment(E)}createText(E){return this.delegate.createText(E)}appendChild(E,w){this.delegate.appendChild(E,w),this.engine.onInsert(this.namespaceId,w,E,!1)}insertBefore(E,w,N,W=!0){this.delegate.insertBefore(E,w,N),this.engine.onInsert(this.namespaceId,w,E,W)}removeChild(E,w,N){this.engine.onRemove(this.namespaceId,w,this.delegate)}selectRootElement(E,w){return this.delegate.selectRootElement(E,w)}parentNode(E){return this.delegate.parentNode(E)}nextSibling(E){return this.delegate.nextSibling(E)}setAttribute(E,w,N,W){this.delegate.setAttribute(E,w,N,W)}removeAttribute(E,w,N){this.delegate.removeAttribute(E,w,N)}addClass(E,w){this.delegate.addClass(E,w)}removeClass(E,w){this.delegate.removeClass(E,w)}setStyle(E,w,N,W){this.delegate.setStyle(E,w,N,W)}removeStyle(E,w,N){this.delegate.removeStyle(E,w,N)}setProperty(E,w,N){"@"==w.charAt(0)&&w==ql?this.disableAnimations(E,!!N):this.delegate.setProperty(E,w,N)}setValue(E,w){this.delegate.setValue(E,w)}listen(E,w,N){return this.delegate.listen(E,w,N)}disableAnimations(E,w){this.engine.disableAnimations(E,w)}}class ha extends Ho{constructor(E,w,N,W,re){super(w,N,W,re),this.factory=E,this.namespaceId=w}setProperty(E,w,N){"@"==w.charAt(0)?"."==w.charAt(1)&&w==ql?this.disableAnimations(E,N=void 0===N||!!N):this.engine.process(this.namespaceId,E,w.slice(1),N):this.delegate.setProperty(E,w,N)}listen(E,w,N){if("@"==w.charAt(0)){const W=function Ao(K){switch(K){case"body":return document.body;case"document":return document;case"window":return window;default:return K}}(E);let re=w.slice(1),Ce="";return"@"!=re.charAt(0)&&([re,Ce]=function Zl(K){const E=K.indexOf(".");return[K.substring(0,E),K.slice(E+1)]}(re)),this.engine.listen(this.namespaceId,W,re,Ce,Me=>{this.factory.scheduleListenerCallback(Me._data||-1,N,Me)})}return this.delegate.listen(E,w,N)}}const $o=[{provide:le._j,useClass:La},{provide:mi,useFactory:function Va(){return new ci}},{provide:zr,useClass:(()=>{class K extends zr{constructor(w,N,W,re){super(w.body,N,W)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(N){return new(N||K)(Y.LFG(Rs.K0),Y.LFG(vi),Y.LFG(mi),Y.LFG(Y.z2F))};static#t=this.\u0275prov=Y.Yz7({token:K,factory:K.\u0275fac})}return K})()},{provide:Y.FYo,useFactory:function rl(K,E,w){return new Gr(K,E,w)},deps:[p.se,zr,Y.R0b]}],Co=[{provide:vi,useFactory:()=>new wr},{provide:Y.QbO,useValue:"BrowserAnimations"},...$o],So=[{provide:vi,useClass:Dr},{provide:Y.QbO,useValue:"NoopAnimations"},...$o];let Qs=(()=>{class K{static withConfig(w){return{ngModule:K,providers:w.disableAnimations?So:Co}}static#e=this.\u0275fac=function(N){return new(N||K)};static#t=this.\u0275mod=Y.oAB({type:K});static#n=this.\u0275inj=Y.cJS({providers:Co,imports:[p.b2]})}return K})();var Ci=k(9116),Ys=k(7217),ji=k(981),ui=k(7650);const as_firebase={apiKey:"AIzaSyDMvYubzInzIMyGYWQMgotkBUq9xajsZMM",authDomain:"angular-oskey.firebaseapp.com",projectId:"angular-oskey",storageBucket:"angular-oskey.appspot.com",messagingSenderId:"753789140568",appId:"1:753789140568:web:88de31520acc5eaeb3142d"};var Hi=k(9862);let Mo=(()=>{class K{static#e=this.\u0275fac=function(N){return new(N||K)};static#t=this.\u0275mod=Y.oAB({type:K,bootstrap:[Pe]});static#n=this.\u0275inj=Y.cJS({providers:[{provide:Ci.o2,useValue:{appearance:"outline"}}],imports:[p.b2,ve,Qs,Ys.hO.initializeApp(as_firebase),ui.yb,ji.ww,Hi.JF]})}return K})();p.q6().bootstrapModule(Mo).catch(K=>console.error(K))},5619:(Gt,Ue,k)=>{k.d(Ue,{X:()=>te});var p=k(8645);class te extends p.x{constructor(ne){super(),this._value=ne}get value(){return this.getValue()}_subscribe(ne){const ye=super._subscribe(ne);return!ye.closed&&ne.next(this._value),ye}getValue(){const{hasError:ne,thrownError:ye,_value:_e}=this;if(ne)throw ye;return this._throwIfClosed(),_e}next(ne){super.next(this._value=ne)}}},5592:(Gt,Ue,k)=>{k.d(Ue,{y:()=>Pe});var p=k(305),te=k(7394),Y=k(4850),ne=k(8407),ye=k(2653),_e=k(4674),ve=k(1441);let Pe=(()=>{class Ee{constructor(We){We&&(this._subscribe=We)}lift(We){const Ct=new Ee;return Ct.source=this,Ct.operator=We,Ct}subscribe(We,Ct,ht){const Ot=function ae(Ee){return Ee&&Ee instanceof p.Lv||function ee(Ee){return Ee&&(0,_e.m)(Ee.next)&&(0,_e.m)(Ee.error)&&(0,_e.m)(Ee.complete)}(Ee)&&(0,te.Nn)(Ee)}(We)?We:new p.Hp(We,Ct,ht);return(0,ve.x)(()=>{const{operator:Tt,source:Jt}=this;Ot.add(Tt?Tt.call(Ot,Jt):Jt?this._subscribe(Ot):this._trySubscribe(Ot))}),Ot}_trySubscribe(We){try{return this._subscribe(We)}catch(Ct){We.error(Ct)}}forEach(We,Ct){return new(Ct=le(Ct))((ht,Ot)=>{const Tt=new p.Hp({next:Jt=>{try{We(Jt)}catch(Ie){Ot(Ie),Tt.unsubscribe()}},error:Ot,complete:ht});this.subscribe(Tt)})}_subscribe(We){var Ct;return null===(Ct=this.source)||void 0===Ct?void 0:Ct.subscribe(We)}[Y.L](){return this}pipe(...We){return(0,ne.U)(We)(this)}toPromise(We){return new(We=le(We))((Ct,ht)=>{let Ot;this.subscribe(Tt=>Ot=Tt,Tt=>ht(Tt),()=>Ct(Ot))})}}return Ee.create=qe=>new Ee(qe),Ee})();function le(Ee){var qe;return null!==(qe=Ee??ye.config.Promise)&&void 0!==qe?qe:Promise}},8645:(Gt,Ue,k)=>{k.d(Ue,{x:()=>ve});var p=k(5592),te=k(7394);const ne=(0,k(2306).d)(le=>function(){le(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ye=k(9039),_e=k(1441);let ve=(()=>{class le extends p.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ae){const Ee=new Pe(this,this);return Ee.operator=ae,Ee}_throwIfClosed(){if(this.closed)throw new ne}next(ae){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ee of this.currentObservers)Ee.next(ae)}})}error(ae){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ae;const{observers:Ee}=this;for(;Ee.length;)Ee.shift().error(ae)}})}complete(){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ae}=this;for(;ae.length;)ae.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ae;return(null===(ae=this.observers)||void 0===ae?void 0:ae.length)>0}_trySubscribe(ae){return this._throwIfClosed(),super._trySubscribe(ae)}_subscribe(ae){return this._throwIfClosed(),this._checkFinalizedStatuses(ae),this._innerSubscribe(ae)}_innerSubscribe(ae){const{hasError:Ee,isStopped:qe,observers:We}=this;return Ee||qe?te.Lc:(this.currentObservers=null,We.push(ae),new te.w0(()=>{this.currentObservers=null,(0,ye.P)(We,ae)}))}_checkFinalizedStatuses(ae){const{hasError:Ee,thrownError:qe,isStopped:We}=this;Ee?ae.error(qe):We&&ae.complete()}asObservable(){const ae=new p.y;return ae.source=this,ae}}return le.create=(ee,ae)=>new Pe(ee,ae),le})();class Pe extends ve{constructor(ee,ae){super(),this.destination=ee,this.source=ae}next(ee){var ae,Ee;null===(Ee=null===(ae=this.destination)||void 0===ae?void 0:ae.next)||void 0===Ee||Ee.call(ae,ee)}error(ee){var ae,Ee;null===(Ee=null===(ae=this.destination)||void 0===ae?void 0:ae.error)||void 0===Ee||Ee.call(ae,ee)}complete(){var ee,ae;null===(ae=null===(ee=this.destination)||void 0===ee?void 0:ee.complete)||void 0===ae||ae.call(ee)}_subscribe(ee){var ae,Ee;return null!==(Ee=null===(ae=this.source)||void 0===ae?void 0:ae.subscribe(ee))&&void 0!==Ee?Ee:te.Lc}}},305:(Gt,Ue,k)=>{k.d(Ue,{Hp:()=>ht,Lv:()=>Ee});var p=k(4674),te=k(7394),Y=k(2653),ne=k(3894),ye=k(2420);const _e=le("C",void 0,void 0);function le(ue,De,me){return{kind:ue,value:De,error:me}}var ee=k(7599),ae=k(1441);class Ee extends te.w0{constructor(De){super(),this.isStopped=!1,De?(this.destination=De,(0,te.Nn)(De)&&De.add(this)):this.destination=Ie}static create(De,me,He){return new ht(De,me,He)}next(De){this.isStopped?Jt(function Pe(ue){return le("N",ue,void 0)}(De),this):this._next(De)}error(De){this.isStopped?Jt(function ve(ue){return le("E",void 0,ue)}(De),this):(this.isStopped=!0,this._error(De))}complete(){this.isStopped?Jt(_e,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(De){this.destination.next(De)}_error(De){try{this.destination.error(De)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const qe=Function.prototype.bind;function We(ue,De){return qe.call(ue,De)}class Ct{constructor(De){this.partialObserver=De}next(De){const{partialObserver:me}=this;if(me.next)try{me.next(De)}catch(He){Ot(He)}}error(De){const{partialObserver:me}=this;if(me.error)try{me.error(De)}catch(He){Ot(He)}else Ot(De)}complete(){const{partialObserver:De}=this;if(De.complete)try{De.complete()}catch(me){Ot(me)}}}class ht extends Ee{constructor(De,me,He){let Ye;if(super(),(0,p.m)(De)||!De)Ye={next:De??void 0,error:me??void 0,complete:He??void 0};else{let Et;this&&Y.config.useDeprecatedNextContext?(Et=Object.create(De),Et.unsubscribe=()=>this.unsubscribe(),Ye={next:De.next&&We(De.next,Et),error:De.error&&We(De.error,Et),complete:De.complete&&We(De.complete,Et)}):Ye=De}this.destination=new Ct(Ye)}}function Ot(ue){Y.config.useDeprecatedSynchronousErrorHandling?(0,ae.O)(ue):(0,ne.h)(ue)}function Jt(ue,De){const{onStoppedNotification:me}=Y.config;me&&ee.z.setTimeout(()=>me(ue,De))}const Ie={closed:!0,next:ye.Z,error:function Tt(ue){throw ue},complete:ye.Z}},7394:(Gt,Ue,k)=>{k.d(Ue,{Lc:()=>_e,w0:()=>ye,Nn:()=>ve});var p=k(4674);const Y=(0,k(2306).d)(le=>function(ae){le(this),this.message=ae?`${ae.length} errors occurred during unsubscription:\n${ae.map((Ee,qe)=>`${qe+1}) ${Ee.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ae});var ne=k(9039);class ye{constructor(ee){this.initialTeardown=ee,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ee;if(!this.closed){this.closed=!0;const{_parentage:ae}=this;if(ae)if(this._parentage=null,Array.isArray(ae))for(const We of ae)We.remove(this);else ae.remove(this);const{initialTeardown:Ee}=this;if((0,p.m)(Ee))try{Ee()}catch(We){ee=We instanceof Y?We.errors:[We]}const{_finalizers:qe}=this;if(qe){this._finalizers=null;for(const We of qe)try{Pe(We)}catch(Ct){ee=ee??[],Ct instanceof Y?ee=[...ee,...Ct.errors]:ee.push(Ct)}}if(ee)throw new Y(ee)}}add(ee){var ae;if(ee&&ee!==this)if(this.closed)Pe(ee);else{if(ee instanceof ye){if(ee.closed||ee._hasParent(this))return;ee._addParent(this)}(this._finalizers=null!==(ae=this._finalizers)&&void 0!==ae?ae:[]).push(ee)}}_hasParent(ee){const{_parentage:ae}=this;return ae===ee||Array.isArray(ae)&&ae.includes(ee)}_addParent(ee){const{_parentage:ae}=this;this._parentage=Array.isArray(ae)?(ae.push(ee),ae):ae?[ae,ee]:ee}_removeParent(ee){const{_parentage:ae}=this;ae===ee?this._parentage=null:Array.isArray(ae)&&(0,ne.P)(ae,ee)}remove(ee){const{_finalizers:ae}=this;ae&&(0,ne.P)(ae,ee),ee instanceof ye&&ee._removeParent(this)}}ye.EMPTY=(()=>{const le=new ye;return le.closed=!0,le})();const _e=ye.EMPTY;function ve(le){return le instanceof ye||le&&"closed"in le&&(0,p.m)(le.remove)&&(0,p.m)(le.add)&&(0,p.m)(le.unsubscribe)}function Pe(le){(0,p.m)(le)?le():le.unsubscribe()}},2653:(Gt,Ue,k)=>{k.d(Ue,{config:()=>p});const p={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},2572:(Gt,Ue,k)=>{k.d(Ue,{a:()=>ee});var p=k(5592),te=k(7453),Y=k(2459),ne=k(2737),ye=k(7400),_e=k(9940),ve=k(2714),Pe=k(8251),le=k(7103);function ee(...qe){const We=(0,_e.yG)(qe),Ct=(0,_e.jO)(qe),{args:ht,keys:Ot}=(0,te.D)(qe);if(0===ht.length)return(0,Y.D)([],We);const Tt=new p.y(function ae(qe,We,Ct=ne.y){return ht=>{Ee(We,()=>{const{length:Ot}=qe,Tt=new Array(Ot);let Jt=Ot,Ie=Ot;for(let ue=0;ue<Ot;ue++)Ee(We,()=>{const De=(0,Y.D)(qe[ue],We);let me=!1;De.subscribe((0,Pe.x)(ht,He=>{Tt[ue]=He,me||(me=!0,Ie--),Ie||ht.next(Ct(Tt.slice()))},()=>{--Jt||ht.complete()}))},ht)},ht)}}(ht,We,Ot?Jt=>(0,ve.n)(Ot,Jt):ne.y));return Ct?Tt.pipe((0,ye.Z)(Ct)):Tt}function Ee(qe,We,Ct){qe?(0,le.f)(Ct,qe,We):We()}},1878:(Gt,Ue,k)=>{k.d(Ue,{z:()=>ye});var p=k(7537),Y=k(9940),ne=k(2459);function ye(..._e){return function te(){return(0,p.J)(1)}()((0,ne.D)(_e,(0,Y.yG)(_e)))}},4911:(Gt,Ue,k)=>{k.d(Ue,{P:()=>Y});var p=k(5592),te=k(4829);function Y(ne){return new p.y(ye=>{(0,te.Xf)(ne()).subscribe(ye)})}},6232:(Gt,Ue,k)=>{k.d(Ue,{E:()=>te});const te=new(k(5592).y)(ye=>ye.complete())},2459:(Gt,Ue,k)=>{k.d(Ue,{D:()=>De});var p=k(4829),te=k(3093),Y=k(5137),_e=k(5592),Pe=k(4971),le=k(4674),ee=k(7103);function Ee(me,He){if(!me)throw new Error("Iterable cannot be null");return new _e.y(Ye=>{(0,ee.f)(Ye,He,()=>{const Et=me[Symbol.asyncIterator]();(0,ee.f)(Ye,He,()=>{Et.next().then(Ut=>{Ut.done?Ye.complete():Ye.next(Ut.value)})},0,!0)})})}var qe=k(8382),We=k(4026),Ct=k(4266),ht=k(3664),Ot=k(5726),Tt=k(9853),Jt=k(541);function De(me,He){return He?function ue(me,He){if(null!=me){if((0,qe.c)(me))return function ne(me,He){return(0,p.Xf)(me).pipe((0,Y.R)(He),(0,te.Q)(He))}(me,He);if((0,Ct.z)(me))return function ve(me,He){return new _e.y(Ye=>{let Et=0;return He.schedule(function(){Et===me.length?Ye.complete():(Ye.next(me[Et++]),Ye.closed||this.schedule())})})}(me,He);if((0,We.t)(me))return function ye(me,He){return(0,p.Xf)(me).pipe((0,Y.R)(He),(0,te.Q)(He))}(me,He);if((0,Ot.D)(me))return Ee(me,He);if((0,ht.T)(me))return function ae(me,He){return new _e.y(Ye=>{let Et;return(0,ee.f)(Ye,He,()=>{Et=me[Pe.h](),(0,ee.f)(Ye,He,()=>{let Ut,nt;try{({value:Ut,done:nt}=Et.next())}catch(an){return void Ye.error(an)}nt?Ye.complete():Ye.next(Ut)},0,!0)}),()=>(0,le.m)(Et?.return)&&Et.return()})}(me,He);if((0,Jt.L)(me))return function Ie(me,He){return Ee((0,Jt.Q)(me),He)}(me,He)}throw(0,Tt.z)(me)}(me,He):(0,p.Xf)(me)}},4829:(Gt,Ue,k)=>{k.d(Ue,{Xf:()=>qe});var p=k(7582),te=k(4266),Y=k(4026),ne=k(5592),ye=k(8382),_e=k(5726),ve=k(9853),Pe=k(3664),le=k(541),ee=k(4674),ae=k(3894),Ee=k(4850);function qe(ue){if(ue instanceof ne.y)return ue;if(null!=ue){if((0,ye.c)(ue))return function We(ue){return new ne.y(De=>{const me=ue[Ee.L]();if((0,ee.m)(me.subscribe))return me.subscribe(De);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ue);if((0,te.z)(ue))return function Ct(ue){return new ne.y(De=>{for(let me=0;me<ue.length&&!De.closed;me++)De.next(ue[me]);De.complete()})}(ue);if((0,Y.t)(ue))return function ht(ue){return new ne.y(De=>{ue.then(me=>{De.closed||(De.next(me),De.complete())},me=>De.error(me)).then(null,ae.h)})}(ue);if((0,_e.D)(ue))return Tt(ue);if((0,Pe.T)(ue))return function Ot(ue){return new ne.y(De=>{for(const me of ue)if(De.next(me),De.closed)return;De.complete()})}(ue);if((0,le.L)(ue))return function Jt(ue){return Tt((0,le.Q)(ue))}(ue)}throw(0,ve.z)(ue)}function Tt(ue){return new ne.y(De=>{(function Ie(ue,De){var me,He,Ye,Et;return(0,p.mG)(this,void 0,void 0,function*(){try{for(me=(0,p.KL)(ue);!(He=yield me.next()).done;)if(De.next(He.value),De.closed)return}catch(Ut){Ye={error:Ut}}finally{try{He&&!He.done&&(Et=me.return)&&(yield Et.call(me))}finally{if(Ye)throw Ye.error}}De.complete()})})(ue,De).catch(me=>De.error(me))})}},3019:(Gt,Ue,k)=>{k.d(Ue,{T:()=>_e});var p=k(7537),te=k(4829),Y=k(6232),ne=k(9940),ye=k(2459);function _e(...ve){const Pe=(0,ne.yG)(ve),le=(0,ne._6)(ve,1/0),ee=ve;return ee.length?1===ee.length?(0,te.Xf)(ee[0]):(0,p.J)(le)((0,ye.D)(ee,Pe)):Y.E}},2096:(Gt,Ue,k)=>{k.d(Ue,{of:()=>Y});var p=k(9940),te=k(2459);function Y(...ne){const ye=(0,p.yG)(ne);return(0,te.D)(ne,ye)}},8504:(Gt,Ue,k)=>{k.d(Ue,{_:()=>Y});var p=k(5592),te=k(4674);function Y(ne,ye){const _e=(0,te.m)(ne)?ne:()=>ne,ve=Pe=>Pe.error(_e());return new p.y(ye?Pe=>ye.schedule(ve,0,Pe):ve)}},8251:(Gt,Ue,k)=>{k.d(Ue,{x:()=>te});var p=k(305);function te(ne,ye,_e,ve,Pe){return new Y(ne,ye,_e,ve,Pe)}class Y extends p.Lv{constructor(ye,_e,ve,Pe,le,ee){super(ye),this.onFinalize=le,this.shouldUnsubscribe=ee,this._next=_e?function(ae){try{_e(ae)}catch(Ee){ye.error(Ee)}}:super._next,this._error=Pe?function(ae){try{Pe(ae)}catch(Ee){ye.error(Ee)}finally{this.unsubscribe()}}:super._error,this._complete=ve?function(){try{ve()}catch(ae){ye.error(ae)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ye;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:_e}=this;super.unsubscribe(),!_e&&(null===(ye=this.onFinalize)||void 0===ye||ye.call(this))}}}},6306:(Gt,Ue,k)=>{k.d(Ue,{K:()=>ne});var p=k(4829),te=k(8251),Y=k(9360);function ne(ye){return(0,Y.e)((_e,ve)=>{let ee,Pe=null,le=!1;Pe=_e.subscribe((0,te.x)(ve,void 0,void 0,ae=>{ee=(0,p.Xf)(ye(ae,ne(ye)(_e))),Pe?(Pe.unsubscribe(),Pe=null,ee.subscribe(ve)):le=!0})),le&&(Pe.unsubscribe(),Pe=null,ee.subscribe(ve))})}},6328:(Gt,Ue,k)=>{k.d(Ue,{b:()=>Y});var p=k(1631),te=k(4674);function Y(ne,ye){return(0,te.m)(ye)?(0,p.z)(ne,ye,1):(0,p.z)(ne,1)}},3620:(Gt,Ue,k)=>{k.d(Ue,{b:()=>ne});var p=k(6321),te=k(9360),Y=k(8251);function ne(ye,_e=p.z){return(0,te.e)((ve,Pe)=>{let le=null,ee=null,ae=null;const Ee=()=>{if(le){le.unsubscribe(),le=null;const We=ee;ee=null,Pe.next(We)}};function qe(){const We=ae+ye,Ct=_e.now();if(Ct<We)return le=this.schedule(void 0,We-Ct),void Pe.add(le);Ee()}ve.subscribe((0,Y.x)(Pe,We=>{ee=We,ae=_e.now(),le||(le=_e.schedule(qe,ye),Pe.add(le))},()=>{Ee(),Pe.complete()},void 0,()=>{ee=le=null}))})}},3572:(Gt,Ue,k)=>{k.d(Ue,{d:()=>Y});var p=k(9360),te=k(8251);function Y(ne){return(0,p.e)((ye,_e)=>{let ve=!1;ye.subscribe((0,te.x)(_e,Pe=>{ve=!0,_e.next(Pe)},()=>{ve||_e.next(ne),_e.complete()}))})}},3997:(Gt,Ue,k)=>{k.d(Ue,{x:()=>ne});var p=k(2737),te=k(9360),Y=k(8251);function ne(_e,ve=p.y){return _e=_e??ye,(0,te.e)((Pe,le)=>{let ee,ae=!0;Pe.subscribe((0,Y.x)(le,Ee=>{const qe=ve(Ee);(ae||!_e(ee,qe))&&(ae=!1,ee=qe,le.next(Ee))}))})}function ye(_e,ve){return _e===ve}},2181:(Gt,Ue,k)=>{k.d(Ue,{h:()=>Y});var p=k(9360),te=k(8251);function Y(ne,ye){return(0,p.e)((_e,ve)=>{let Pe=0;_e.subscribe((0,te.x)(ve,le=>ne.call(ye,le,Pe++)&&ve.next(le)))})}},4716:(Gt,Ue,k)=>{k.d(Ue,{x:()=>te});var p=k(9360);function te(Y){return(0,p.e)((ne,ye)=>{try{ne.subscribe(ye)}finally{ye.add(Y)}})}},1374:(Gt,Ue,k)=>{k.d(Ue,{P:()=>ve});var p=k(6973),te=k(2181),Y=k(8180),ne=k(3572),ye=k(3026),_e=k(2737);function ve(Pe,le){const ee=arguments.length>=2;return ae=>ae.pipe(Pe?(0,te.h)((Ee,qe)=>Pe(Ee,qe,ae)):_e.y,(0,Y.q)(1),ee?(0,ne.d)(le):(0,ye.T)(()=>new p.K))}},7398:(Gt,Ue,k)=>{k.d(Ue,{U:()=>Y});var p=k(9360),te=k(8251);function Y(ne,ye){return(0,p.e)((_e,ve)=>{let Pe=0;_e.subscribe((0,te.x)(ve,le=>{ve.next(ne.call(ye,le,Pe++))}))})}},7537:(Gt,Ue,k)=>{k.d(Ue,{J:()=>Y});var p=k(1631),te=k(2737);function Y(ne=1/0){return(0,p.z)(te.y,ne)}},1631:(Gt,Ue,k)=>{k.d(Ue,{z:()=>Pe});var p=k(7398),te=k(4829),Y=k(9360),ne=k(7103),ye=k(8251),ve=k(4674);function Pe(le,ee,ae=1/0){return(0,ve.m)(ee)?Pe((Ee,qe)=>(0,p.U)((We,Ct)=>ee(Ee,We,qe,Ct))((0,te.Xf)(le(Ee,qe))),ae):("number"==typeof ee&&(ae=ee),(0,Y.e)((Ee,qe)=>function _e(le,ee,ae,Ee,qe,We,Ct,ht){const Ot=[];let Tt=0,Jt=0,Ie=!1;const ue=()=>{Ie&&!Ot.length&&!Tt&&ee.complete()},De=He=>Tt<Ee?me(He):Ot.push(He),me=He=>{We&&ee.next(He),Tt++;let Ye=!1;(0,te.Xf)(ae(He,Jt++)).subscribe((0,ye.x)(ee,Et=>{qe?.(Et),We?De(Et):ee.next(Et)},()=>{Ye=!0},void 0,()=>{if(Ye)try{for(Tt--;Ot.length&&Tt<Ee;){const Et=Ot.shift();Ct?(0,ne.f)(ee,Ct,()=>me(Et)):me(Et)}ue()}catch(Et){ee.error(Et)}}))};return le.subscribe((0,ye.x)(ee,De,()=>{Ie=!0,ue()})),()=>{ht?.()}}(Ee,qe,le,ae)))}},3093:(Gt,Ue,k)=>{k.d(Ue,{Q:()=>ne});var p=k(7103),te=k(9360),Y=k(8251);function ne(ye,_e=0){return(0,te.e)((ve,Pe)=>{ve.subscribe((0,Y.x)(Pe,le=>(0,p.f)(Pe,ye,()=>Pe.next(le),_e),()=>(0,p.f)(Pe,ye,()=>Pe.complete(),_e),le=>(0,p.f)(Pe,ye,()=>Pe.error(le),_e)))})}},6699:(Gt,Ue,k)=>{k.d(Ue,{R:()=>ne});var p=k(9360),te=k(8251);function ne(ye,_e){return(0,p.e)(function Y(ye,_e,ve,Pe,le){return(ee,ae)=>{let Ee=ve,qe=_e,We=0;ee.subscribe((0,te.x)(ae,Ct=>{const ht=We++;qe=Ee?ye(qe,Ct,ht):(Ee=!0,Ct),Pe&&ae.next(qe)},le&&(()=>{Ee&&ae.next(qe),ae.complete()})))}}(ye,_e,arguments.length>=2,!0))}},3020:(Gt,Ue,k)=>{k.d(Ue,{B:()=>ye});var p=k(4829),te=k(8645),Y=k(305),ne=k(9360);function ye(ve={}){const{connector:Pe=(()=>new te.x),resetOnError:le=!0,resetOnComplete:ee=!0,resetOnRefCountZero:ae=!0}=ve;return Ee=>{let qe,We,Ct,ht=0,Ot=!1,Tt=!1;const Jt=()=>{We?.unsubscribe(),We=void 0},Ie=()=>{Jt(),qe=Ct=void 0,Ot=Tt=!1},ue=()=>{const De=qe;Ie(),De?.unsubscribe()};return(0,ne.e)((De,me)=>{ht++,!Tt&&!Ot&&Jt();const He=Ct=Ct??Pe();me.add(()=>{ht--,0===ht&&!Tt&&!Ot&&(We=_e(ue,ae))}),He.subscribe(me),!qe&&ht>0&&(qe=new Y.Hp({next:Ye=>He.next(Ye),error:Ye=>{Tt=!0,Jt(),We=_e(Ie,le,Ye),He.error(Ye)},complete:()=>{Ot=!0,Jt(),We=_e(Ie,ee),He.complete()}}),(0,p.Xf)(De).subscribe(qe))})(Ee)}}function _e(ve,Pe,...le){if(!0===Pe)return void ve();if(!1===Pe)return;const ee=new Y.Hp({next:()=>{ee.unsubscribe(),ve()}});return(0,p.Xf)(Pe(...le)).subscribe(ee)}},940:(Gt,Ue,k)=>{k.d(Ue,{d:()=>ye});var p=k(8645),te=k(4552);class Y extends p.x{constructor(ve=1/0,Pe=1/0,le=te.l){super(),this._bufferSize=ve,this._windowTime=Pe,this._timestampProvider=le,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Pe===1/0,this._bufferSize=Math.max(1,ve),this._windowTime=Math.max(1,Pe)}next(ve){const{isStopped:Pe,_buffer:le,_infiniteTimeWindow:ee,_timestampProvider:ae,_windowTime:Ee}=this;Pe||(le.push(ve),!ee&&le.push(ae.now()+Ee)),this._trimBuffer(),super.next(ve)}_subscribe(ve){this._throwIfClosed(),this._trimBuffer();const Pe=this._innerSubscribe(ve),{_infiniteTimeWindow:le,_buffer:ee}=this,ae=ee.slice();for(let Ee=0;Ee<ae.length&&!ve.closed;Ee+=le?1:2)ve.next(ae[Ee]);return this._checkFinalizedStatuses(ve),Pe}_trimBuffer(){const{_bufferSize:ve,_timestampProvider:Pe,_buffer:le,_infiniteTimeWindow:ee}=this,ae=(ee?1:2)*ve;if(ve<1/0&&ae<le.length&&le.splice(0,le.length-ae),!ee){const Ee=Pe.now();let qe=0;for(let We=1;We<le.length&&le[We]<=Ee;We+=2)qe=We;qe&&le.splice(0,qe+1)}}}var ne=k(3020);function ye(_e,ve,Pe){let le,ee=!1;return _e&&"object"==typeof _e?({bufferSize:le=1/0,windowTime:ve=1/0,refCount:ee=!1,scheduler:Pe}=_e):le=_e??1/0,(0,ne.B)({connector:()=>new Y(le,ve,Pe),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:ee})}},836:(Gt,Ue,k)=>{k.d(Ue,{T:()=>te});var p=k(2181);function te(Y){return(0,p.h)((ne,ye)=>Y<=ye)}},7921:(Gt,Ue,k)=>{k.d(Ue,{O:()=>ne});var p=k(1878),te=k(9940),Y=k(9360);function ne(...ye){const _e=(0,te.yG)(ye);return(0,Y.e)((ve,Pe)=>{(_e?(0,p.z)(ye,ve,_e):(0,p.z)(ye,ve)).subscribe(Pe)})}},5137:(Gt,Ue,k)=>{k.d(Ue,{R:()=>te});var p=k(9360);function te(Y,ne=0){return(0,p.e)((ye,_e)=>{_e.add(Y.schedule(()=>ye.subscribe(_e),ne))})}},4664:(Gt,Ue,k)=>{k.d(Ue,{w:()=>ne});var p=k(4829),te=k(9360),Y=k(8251);function ne(ye,_e){return(0,te.e)((ve,Pe)=>{let le=null,ee=0,ae=!1;const Ee=()=>ae&&!le&&Pe.complete();ve.subscribe((0,Y.x)(Pe,qe=>{le?.unsubscribe();let We=0;const Ct=ee++;(0,p.Xf)(ye(qe,Ct)).subscribe(le=(0,Y.x)(Pe,ht=>Pe.next(_e?_e(qe,ht,Ct,We++):ht),()=>{le=null,Ee()}))},()=>{ae=!0,Ee()}))})}},8180:(Gt,Ue,k)=>{k.d(Ue,{q:()=>ne});var p=k(6232),te=k(9360),Y=k(8251);function ne(ye){return ye<=0?()=>p.E:(0,te.e)((_e,ve)=>{let Pe=0;_e.subscribe((0,Y.x)(ve,le=>{++Pe<=ye&&(ve.next(le),ye<=Pe&&ve.complete())}))})}},9773:(Gt,Ue,k)=>{k.d(Ue,{R:()=>ye});var p=k(9360),te=k(8251),Y=k(4829),ne=k(2420);function ye(_e){return(0,p.e)((ve,Pe)=>{(0,Y.Xf)(_e).subscribe((0,te.x)(Pe,()=>Pe.complete(),ne.Z)),!Pe.closed&&ve.subscribe(Pe)})}},9397:(Gt,Ue,k)=>{k.d(Ue,{b:()=>ye});var p=k(4674),te=k(9360),Y=k(8251),ne=k(2737);function ye(_e,ve,Pe){const le=(0,p.m)(_e)||ve||Pe?{next:_e,error:ve,complete:Pe}:_e;return le?(0,te.e)((ee,ae)=>{var Ee;null===(Ee=le.subscribe)||void 0===Ee||Ee.call(le);let qe=!0;ee.subscribe((0,Y.x)(ae,We=>{var Ct;null===(Ct=le.next)||void 0===Ct||Ct.call(le,We),ae.next(We)},()=>{var We;qe=!1,null===(We=le.complete)||void 0===We||We.call(le),ae.complete()},We=>{var Ct;qe=!1,null===(Ct=le.error)||void 0===Ct||Ct.call(le,We),ae.error(We)},()=>{var We,Ct;qe&&(null===(We=le.unsubscribe)||void 0===We||We.call(le)),null===(Ct=le.finalize)||void 0===Ct||Ct.call(le)}))}):ne.y}},3026:(Gt,Ue,k)=>{k.d(Ue,{T:()=>ne});var p=k(6973),te=k(9360),Y=k(8251);function ne(_e=ye){return(0,te.e)((ve,Pe)=>{let le=!1;ve.subscribe((0,Y.x)(Pe,ee=>{le=!0,Pe.next(ee)},()=>le?Pe.complete():Pe.error(_e())))})}function ye(){return new p.K}},1954:(Gt,Ue,k)=>{k.d(Ue,{o:()=>ye});var p=k(7394);class te extends p.w0{constructor(ve,Pe){super()}schedule(ve,Pe=0){return this}}const Y={setInterval(_e,ve,...Pe){const{delegate:le}=Y;return le?.setInterval?le.setInterval(_e,ve,...Pe):setInterval(_e,ve,...Pe)},clearInterval(_e){const{delegate:ve}=Y;return(ve?.clearInterval||clearInterval)(_e)},delegate:void 0};var ne=k(9039);class ye extends te{constructor(ve,Pe){super(ve,Pe),this.scheduler=ve,this.work=Pe,this.pending=!1}schedule(ve,Pe=0){var le;if(this.closed)return this;this.state=ve;const ee=this.id,ae=this.scheduler;return null!=ee&&(this.id=this.recycleAsyncId(ae,ee,Pe)),this.pending=!0,this.delay=Pe,this.id=null!==(le=this.id)&&void 0!==le?le:this.requestAsyncId(ae,this.id,Pe),this}requestAsyncId(ve,Pe,le=0){return Y.setInterval(ve.flush.bind(ve,this),le)}recycleAsyncId(ve,Pe,le=0){if(null!=le&&this.delay===le&&!1===this.pending)return Pe;null!=Pe&&Y.clearInterval(Pe)}execute(ve,Pe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const le=this._execute(ve,Pe);if(le)return le;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ve,Pe){let ee,le=!1;try{this.work(ve)}catch(ae){le=!0,ee=ae||new Error("Scheduled action threw falsy error")}if(le)return this.unsubscribe(),ee}unsubscribe(){if(!this.closed){const{id:ve,scheduler:Pe}=this,{actions:le}=Pe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ne.P)(le,this),null!=ve&&(this.id=this.recycleAsyncId(Pe,ve,null)),this.delay=null,super.unsubscribe()}}}},2631:(Gt,Ue,k)=>{k.d(Ue,{v:()=>Y});var p=k(4552);class te{constructor(ye,_e=te.now){this.schedulerActionCtor=ye,this.now=_e}schedule(ye,_e=0,ve){return new this.schedulerActionCtor(this,ye).schedule(ve,_e)}}te.now=p.l.now;class Y extends te{constructor(ye,_e=te.now){super(ye,_e),this.actions=[],this._active=!1}flush(ye){const{actions:_e}=this;if(this._active)return void _e.push(ye);let ve;this._active=!0;do{if(ve=ye.execute(ye.state,ye.delay))break}while(ye=_e.shift());if(this._active=!1,ve){for(;ye=_e.shift();)ye.unsubscribe();throw ve}}}},6321:(Gt,Ue,k)=>{k.d(Ue,{P:()=>ne,z:()=>Y});var p=k(1954);const Y=new(k(2631).v)(p.o),ne=Y},4552:(Gt,Ue,k)=>{k.d(Ue,{l:()=>p});const p={now:()=>(p.delegate||Date).now(),delegate:void 0}},7599:(Gt,Ue,k)=>{k.d(Ue,{z:()=>p});const p={setTimeout(te,Y,...ne){const{delegate:ye}=p;return ye?.setTimeout?ye.setTimeout(te,Y,...ne):setTimeout(te,Y,...ne)},clearTimeout(te){const{delegate:Y}=p;return(Y?.clearTimeout||clearTimeout)(te)},delegate:void 0}},4971:(Gt,Ue,k)=>{k.d(Ue,{h:()=>te});const te=function p(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(Gt,Ue,k)=>{k.d(Ue,{L:()=>p});const p="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(Gt,Ue,k)=>{k.d(Ue,{K:()=>te});const te=(0,k(2306).d)(Y=>function(){Y(this),this.name="EmptyError",this.message="no elements in sequence"})},9940:(Gt,Ue,k)=>{k.d(Ue,{_6:()=>_e,jO:()=>ne,yG:()=>ye});var p=k(4674),te=k(671);function Y(ve){return ve[ve.length-1]}function ne(ve){return(0,p.m)(Y(ve))?ve.pop():void 0}function ye(ve){return(0,te.K)(Y(ve))?ve.pop():void 0}function _e(ve,Pe){return"number"==typeof Y(ve)?ve.pop():Pe}},7453:(Gt,Ue,k)=>{k.d(Ue,{D:()=>ye});const{isArray:p}=Array,{getPrototypeOf:te,prototype:Y,keys:ne}=Object;function ye(ve){if(1===ve.length){const Pe=ve[0];if(p(Pe))return{args:Pe,keys:null};if(function _e(ve){return ve&&"object"==typeof ve&&te(ve)===Y}(Pe)){const le=ne(Pe);return{args:le.map(ee=>Pe[ee]),keys:le}}}return{args:ve,keys:null}}},9039:(Gt,Ue,k)=>{function p(te,Y){if(te){const ne=te.indexOf(Y);0<=ne&&te.splice(ne,1)}}k.d(Ue,{P:()=>p})},2306:(Gt,Ue,k)=>{function p(te){const ne=te(ye=>{Error.call(ye),ye.stack=(new Error).stack});return ne.prototype=Object.create(Error.prototype),ne.prototype.constructor=ne,ne}k.d(Ue,{d:()=>p})},2714:(Gt,Ue,k)=>{function p(te,Y){return te.reduce((ne,ye,_e)=>(ne[ye]=Y[_e],ne),{})}k.d(Ue,{n:()=>p})},1441:(Gt,Ue,k)=>{k.d(Ue,{O:()=>ne,x:()=>Y});var p=k(2653);let te=null;function Y(ye){if(p.config.useDeprecatedSynchronousErrorHandling){const _e=!te;if(_e&&(te={errorThrown:!1,error:null}),ye(),_e){const{errorThrown:ve,error:Pe}=te;if(te=null,ve)throw Pe}}else ye()}function ne(ye){p.config.useDeprecatedSynchronousErrorHandling&&te&&(te.errorThrown=!0,te.error=ye)}},7103:(Gt,Ue,k)=>{function p(te,Y,ne,ye=0,_e=!1){const ve=Y.schedule(function(){ne(),_e?te.add(this.schedule(null,ye)):this.unsubscribe()},ye);if(te.add(ve),!_e)return ve}k.d(Ue,{f:()=>p})},2737:(Gt,Ue,k)=>{function p(te){return te}k.d(Ue,{y:()=>p})},4266:(Gt,Ue,k)=>{k.d(Ue,{z:()=>p});const p=te=>te&&"number"==typeof te.length&&"function"!=typeof te},5726:(Gt,Ue,k)=>{k.d(Ue,{D:()=>te});var p=k(4674);function te(Y){return Symbol.asyncIterator&&(0,p.m)(Y?.[Symbol.asyncIterator])}},4674:(Gt,Ue,k)=>{function p(te){return"function"==typeof te}k.d(Ue,{m:()=>p})},8382:(Gt,Ue,k)=>{k.d(Ue,{c:()=>Y});var p=k(4850),te=k(4674);function Y(ne){return(0,te.m)(ne[p.L])}},3664:(Gt,Ue,k)=>{k.d(Ue,{T:()=>Y});var p=k(4971),te=k(4674);function Y(ne){return(0,te.m)(ne?.[p.h])}},4026:(Gt,Ue,k)=>{k.d(Ue,{t:()=>te});var p=k(4674);function te(Y){return(0,p.m)(Y?.then)}},541:(Gt,Ue,k)=>{k.d(Ue,{L:()=>ne,Q:()=>Y});var p=k(7582),te=k(4674);function Y(ye){return(0,p.FC)(this,arguments,function*(){const ve=ye.getReader();try{for(;;){const{value:Pe,done:le}=yield(0,p.qq)(ve.read());if(le)return yield(0,p.qq)(void 0);yield yield(0,p.qq)(Pe)}}finally{ve.releaseLock()}})}function ne(ye){return(0,te.m)(ye?.getReader)}},671:(Gt,Ue,k)=>{k.d(Ue,{K:()=>te});var p=k(4674);function te(Y){return Y&&(0,p.m)(Y.schedule)}},9360:(Gt,Ue,k)=>{k.d(Ue,{A:()=>te,e:()=>Y});var p=k(4674);function te(ne){return(0,p.m)(ne?.lift)}function Y(ne){return ye=>{if(te(ye))return ye.lift(function(_e){try{return ne(_e,this)}catch(ve){this.error(ve)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(Gt,Ue,k)=>{k.d(Ue,{Z:()=>ne});var p=k(7398);const{isArray:te}=Array;function ne(ye){return(0,p.U)(_e=>function Y(ye,_e){return te(_e)?ye(..._e):ye(_e)}(ye,_e))}},2420:(Gt,Ue,k)=>{function p(){}k.d(Ue,{Z:()=>p})},8407:(Gt,Ue,k)=>{k.d(Ue,{U:()=>Y,z:()=>te});var p=k(2737);function te(...ne){return Y(ne)}function Y(ne){return 0===ne.length?p.y:1===ne.length?ne[0]:function(_e){return ne.reduce((ve,Pe)=>Pe(ve),_e)}}},3894:(Gt,Ue,k)=>{k.d(Ue,{h:()=>Y});var p=k(2653),te=k(7599);function Y(ne){te.z.setTimeout(()=>{const{onUnhandledError:ye}=p.config;if(!ye)throw ne;ye(ne)})}},9853:(Gt,Ue,k)=>{function p(te){return new TypeError(`You provided ${null!==te&&"object"==typeof te?"an invalid object":`'${te}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(Ue,{z:()=>p})},6825:(Gt,Ue,k)=>{k.d(Ue,{IO:()=>Ct,LC:()=>te,SB:()=>le,X$:()=>ne,ZE:()=>Tt,ZN:()=>Ot,_j:()=>p,eR:()=>ae,jt:()=>ye,k1:()=>Jt,l3:()=>Y,oB:()=>Pe,pV:()=>qe,vP:()=>ve});class p{}class te{}const Y="*";function ne(Ie,ue){return{type:7,name:Ie,definitions:ue,options:{}}}function ye(Ie,ue=null){return{type:4,styles:ue,timings:Ie}}function ve(Ie,ue=null){return{type:2,steps:Ie,options:ue}}function Pe(Ie){return{type:6,styles:Ie,offset:null}}function le(Ie,ue,De){return{type:0,name:Ie,styles:ue,options:De}}function ae(Ie,ue,De=null){return{type:1,expr:Ie,animation:ue,options:De}}function qe(Ie=null){return{type:9,options:Ie}}function Ct(Ie,ue,De=null){return{type:11,selector:Ie,animation:ue,options:De}}class Ot{constructor(ue=0,De=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=ue+De}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ue=>ue()),this._onDoneFns=[])}onStart(ue){this._originalOnStartFns.push(ue),this._onStartFns.push(ue)}onDone(ue){this._originalOnDoneFns.push(ue),this._onDoneFns.push(ue)}onDestroy(ue){this._onDestroyFns.push(ue)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(ue=>ue()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(ue=>ue()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(ue){this._position=this.totalTime?ue*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(ue){const De="start"==ue?this._onStartFns:this._onDoneFns;De.forEach(me=>me()),De.length=0}}class Tt{constructor(ue){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=ue;let De=0,me=0,He=0;const Ye=this.players.length;0==Ye?queueMicrotask(()=>this._onFinish()):this.players.forEach(Et=>{Et.onDone(()=>{++De==Ye&&this._onFinish()}),Et.onDestroy(()=>{++me==Ye&&this._onDestroy()}),Et.onStart(()=>{++He==Ye&&this._onStart()})}),this.totalTime=this.players.reduce((Et,Ut)=>Math.max(Et,Ut.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ue=>ue()),this._onDoneFns=[])}init(){this.players.forEach(ue=>ue.init())}onStart(ue){this._onStartFns.push(ue)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(ue=>ue()),this._onStartFns=[])}onDone(ue){this._onDoneFns.push(ue)}onDestroy(ue){this._onDestroyFns.push(ue)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(ue=>ue.play())}pause(){this.players.forEach(ue=>ue.pause())}restart(){this.players.forEach(ue=>ue.restart())}finish(){this._onFinish(),this.players.forEach(ue=>ue.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(ue=>ue.destroy()),this._onDestroyFns.forEach(ue=>ue()),this._onDestroyFns=[])}reset(){this.players.forEach(ue=>ue.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(ue){const De=ue*this.totalTime;this.players.forEach(me=>{const He=me.totalTime?Math.min(1,De/me.totalTime):1;me.setPosition(He)})}getPosition(){const ue=this.players.reduce((De,me)=>null===De||me.totalTime>De.totalTime?me:De,null);return null!=ue?ue.getPosition():0}beforeDestroy(){this.players.forEach(ue=>{ue.beforeDestroy&&ue.beforeDestroy()})}triggerCallback(ue){const De="start"==ue?this._onStartFns:this._onDoneFns;De.forEach(me=>me()),De.length=0}}const Jt="!"},4300:(Gt,Ue,k)=>{k.d(Ue,{Kd:()=>ir,X6:()=>tt,Zf:()=>Jt,iD:()=>Ie,qm:()=>ln,s1:()=>dn,tE:()=>Fr,yG:()=>It});var p=k(6814),te=k(5879),Y=k(2831),ne=k(8645),ye=k(7394),_e=k(5619),ve=k(2096),Pe=k(6028),le=k(9397),ee=k(3620),ae=k(2181),Ee=k(7398),qe=k(836),We=k(3997),Ct=k(9773),ht=k(2495),Ot=k(1088);const Tt=" ";function Jt(dt,he,X){const Se=ue(dt,he);Se.some(oe=>oe.trim()==X.trim())||(Se.push(X.trim()),dt.setAttribute(he,Se.join(Tt)))}function Ie(dt,he,X){const oe=ue(dt,he).filter(Ge=>Ge!=X.trim());oe.length?dt.setAttribute(he,oe.join(Tt)):dt.removeAttribute(he)}function ue(dt,he){return(dt.getAttribute(he)||"").match(/\S+/g)||[]}class an{constructor(he){this._items=he,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new ne.x,this._typeaheadSubscription=ye.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=X=>X.disabled,this._pressedLetters=[],this.tabOut=new ne.x,this.change=new ne.x,he instanceof te.n_E&&(this._itemChangesSubscription=he.changes.subscribe(X=>{if(this._activeItem){const oe=X.toArray().indexOf(this._activeItem);oe>-1&&oe!==this._activeItemIndex&&(this._activeItemIndex=oe)}}))}skipPredicate(he){return this._skipPredicateFn=he,this}withWrap(he=!0){return this._wrap=he,this}withVerticalOrientation(he=!0){return this._vertical=he,this}withHorizontalOrientation(he){return this._horizontal=he,this}withAllowedModifierKeys(he){return this._allowedModifierKeys=he,this}withTypeAhead(he=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,le.b)(X=>this._pressedLetters.push(X)),(0,ee.b)(he),(0,ae.h)(()=>this._pressedLetters.length>0),(0,Ee.U)(()=>this._pressedLetters.join(""))).subscribe(X=>{const Se=this._getItemsArray();for(let oe=1;oe<Se.length+1;oe++){const Ge=(this._activeItemIndex+oe)%Se.length,lt=Se[Ge];if(!this._skipPredicateFn(lt)&&0===lt.getLabel().toUpperCase().trim().indexOf(X)){this.setActiveItem(Ge);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(he=!0){return this._homeAndEnd=he,this}withPageUpDown(he=!0,X=10){return this._pageUpAndDown={enabled:he,delta:X},this}setActiveItem(he){const X=this._activeItem;this.updateActiveItem(he),this._activeItem!==X&&this.change.next(this._activeItemIndex)}onKeydown(he){const X=he.keyCode,oe=["altKey","ctrlKey","metaKey","shiftKey"].every(Ge=>!he[Ge]||this._allowedModifierKeys.indexOf(Ge)>-1);switch(X){case Pe.Mf:return void this.tabOut.next();case Pe.JH:if(this._vertical&&oe){this.setNextItemActive();break}return;case Pe.LH:if(this._vertical&&oe){this.setPreviousItemActive();break}return;case Pe.SV:if(this._horizontal&&oe){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case Pe.oh:if(this._horizontal&&oe){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case Pe.Sd:if(this._homeAndEnd&&oe){this.setFirstItemActive();break}return;case Pe.uR:if(this._homeAndEnd&&oe){this.setLastItemActive();break}return;case Pe.Ku:if(this._pageUpAndDown.enabled&&oe){const Ge=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(Ge>0?Ge:0,1);break}return;case Pe.VM:if(this._pageUpAndDown.enabled&&oe){const Ge=this._activeItemIndex+this._pageUpAndDown.delta,lt=this._getItemsArray().length;this._setActiveItemByIndex(Ge<lt?Ge:lt-1,-1);break}return;default:return void((oe||(0,Pe.Vb)(he,"shiftKey"))&&(he.key&&1===he.key.length?this._letterKeyStream.next(he.key.toLocaleUpperCase()):(X>=Pe.A&&X<=Pe.Z||X>=Pe.xE&&X<=Pe.aO)&&this._letterKeyStream.next(String.fromCharCode(X))))}this._pressedLetters=[],he.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(he){const X=this._getItemsArray(),Se="number"==typeof he?he:X.indexOf(he);this._activeItem=X[Se]??null,this._activeItemIndex=Se}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(he){this._wrap?this._setActiveInWrapMode(he):this._setActiveInDefaultMode(he)}_setActiveInWrapMode(he){const X=this._getItemsArray();for(let Se=1;Se<=X.length;Se++){const oe=(this._activeItemIndex+he*Se+X.length)%X.length;if(!this._skipPredicateFn(X[oe]))return void this.setActiveItem(oe)}}_setActiveInDefaultMode(he){this._setActiveItemByIndex(this._activeItemIndex+he,he)}_setActiveItemByIndex(he,X){const Se=this._getItemsArray();if(Se[he]){for(;this._skipPredicateFn(Se[he]);)if(!Se[he+=X])return;this.setActiveItem(he)}}_getItemsArray(){return this._items instanceof te.n_E?this._items.toArray():this._items}}class dn extends an{setActiveItem(he){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(he),this.activeItem&&this.activeItem.setActiveStyles()}}function tt(dt){return 0===dt.buttons||0===dt.detail}function It(dt){const he=dt.touches&&dt.touches[0]||dt.changedTouches&&dt.changedTouches[0];return!(!he||-1!==he.identifier||null!=he.radiusX&&1!==he.radiusX||null!=he.radiusY&&1!==he.radiusY)}const or=new te.OlP("cdk-input-modality-detector-options"),Nr={ignoreKeys:[Pe.zL,Pe.jx,Pe.b2,Pe.MW,Pe.JU]},fn=(0,Y.i$)({passive:!0,capture:!0});let wn=(()=>{class dt{get mostRecentModality(){return this._modality.value}constructor(X,Se,oe,Ge){this._platform=X,this._mostRecentTarget=null,this._modality=new _e.X(null),this._lastTouchMs=0,this._onKeydown=lt=>{this._options?.ignoreKeys?.some(de=>de===lt.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,Y.sA)(lt))},this._onMousedown=lt=>{Date.now()-this._lastTouchMs<650||(this._modality.next(tt(lt)?"keyboard":"mouse"),this._mostRecentTarget=(0,Y.sA)(lt))},this._onTouchstart=lt=>{It(lt)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,Y.sA)(lt))},this._options={...Nr,...Ge},this.modalityDetected=this._modality.pipe((0,qe.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,We.x)()),X.isBrowser&&Se.runOutsideAngular(()=>{oe.addEventListener("keydown",this._onKeydown,fn),oe.addEventListener("mousedown",this._onMousedown,fn),oe.addEventListener("touchstart",this._onTouchstart,fn)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,fn),document.removeEventListener("mousedown",this._onMousedown,fn),document.removeEventListener("touchstart",this._onTouchstart,fn))}static#e=this.\u0275fac=function(Se){return new(Se||dt)(te.LFG(Y.t4),te.LFG(te.R0b),te.LFG(p.K0),te.LFG(or,8))};static#t=this.\u0275prov=te.Yz7({token:dt,factory:dt.\u0275fac,providedIn:"root"})}return dt})();const xn=new te.OlP("liveAnnouncerElement",{providedIn:"root",factory:function tr(){return null}}),Cn=new te.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let gr=0,ir=(()=>{class dt{constructor(X,Se,oe,Ge){this._ngZone=Se,this._defaultOptions=Ge,this._document=oe,this._liveElement=X||this._createLiveElement()}announce(X,...Se){const oe=this._defaultOptions;let Ge,lt;return 1===Se.length&&"number"==typeof Se[0]?lt=Se[0]:[Ge,lt]=Se,this.clear(),clearTimeout(this._previousTimeout),Ge||(Ge=oe&&oe.politeness?oe.politeness:"polite"),null==lt&&oe&&(lt=oe.duration),this._liveElement.setAttribute("aria-live",Ge),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(de=>this._currentResolve=de)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=X,"number"==typeof lt&&(this._previousTimeout=setTimeout(()=>this.clear(),lt)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const X="cdk-live-announcer-element",Se=this._document.getElementsByClassName(X),oe=this._document.createElement("div");for(let Ge=0;Ge<Se.length;Ge++)Se[Ge].remove();return oe.classList.add(X),oe.classList.add("cdk-visually-hidden"),oe.setAttribute("aria-atomic","true"),oe.setAttribute("aria-live","polite"),oe.id="cdk-live-announcer-"+gr++,this._document.body.appendChild(oe),oe}_exposeAnnouncerToModals(X){const Se=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let oe=0;oe<Se.length;oe++){const Ge=Se[oe],lt=Ge.getAttribute("aria-owns");lt?-1===lt.indexOf(X)&&Ge.setAttribute("aria-owns",lt+" "+X):Ge.setAttribute("aria-owns",X)}}static#e=this.\u0275fac=function(Se){return new(Se||dt)(te.LFG(xn,8),te.LFG(te.R0b),te.LFG(p.K0),te.LFG(Cn,8))};static#t=this.\u0275prov=te.Yz7({token:dt,factory:dt.\u0275fac,providedIn:"root"})}return dt})();const vi=new te.OlP("cdk-focus-monitor-default-options"),At=(0,Y.i$)({passive:!0,capture:!0});let Fr=(()=>{class dt{constructor(X,Se,oe,Ge,lt){this._ngZone=X,this._platform=Se,this._inputModalityDetector=oe,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ne.x,this._rootNodeFocusAndBlurListener=de=>{for(let V=(0,Y.sA)(de);V;V=V.parentElement)"focus"===de.type?this._onFocus(de,V):this._onBlur(de,V)},this._document=Ge,this._detectionMode=lt?.detectionMode||0}monitor(X,Se=!1){const oe=(0,ht.fI)(X);if(!this._platform.isBrowser||1!==oe.nodeType)return(0,ve.of)();const Ge=(0,Y.kV)(oe)||this._getDocument(),lt=this._elementInfo.get(oe);if(lt)return Se&&(lt.checkChildren=!0),lt.subject;const de={checkChildren:Se,subject:new ne.x,rootNode:Ge};return this._elementInfo.set(oe,de),this._registerGlobalListeners(de),de.subject}stopMonitoring(X){const Se=(0,ht.fI)(X),oe=this._elementInfo.get(Se);oe&&(oe.subject.complete(),this._setClasses(Se),this._elementInfo.delete(Se),this._removeGlobalListeners(oe))}focusVia(X,Se,oe){const Ge=(0,ht.fI)(X);Ge===this._getDocument().activeElement?this._getClosestElementsInfo(Ge).forEach(([de,U])=>this._originChanged(de,Se,U)):(this._setOrigin(Se),"function"==typeof Ge.focus&&Ge.focus(oe))}ngOnDestroy(){this._elementInfo.forEach((X,Se)=>this.stopMonitoring(Se))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(X){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(X)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:X&&this._isLastInteractionFromInputLabel(X)?"mouse":"program"}_shouldBeAttributedToTouch(X){return 1===this._detectionMode||!!X?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(X,Se){X.classList.toggle("cdk-focused",!!Se),X.classList.toggle("cdk-touch-focused","touch"===Se),X.classList.toggle("cdk-keyboard-focused","keyboard"===Se),X.classList.toggle("cdk-mouse-focused","mouse"===Se),X.classList.toggle("cdk-program-focused","program"===Se)}_setOrigin(X,Se=!1){this._ngZone.runOutsideAngular(()=>{this._origin=X,this._originFromTouchInteraction="touch"===X&&Se,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(X,Se){const oe=this._elementInfo.get(Se),Ge=(0,Y.sA)(X);!oe||!oe.checkChildren&&Se!==Ge||this._originChanged(Se,this._getFocusOrigin(Ge),oe)}_onBlur(X,Se){const oe=this._elementInfo.get(Se);!oe||oe.checkChildren&&X.relatedTarget instanceof Node&&Se.contains(X.relatedTarget)||(this._setClasses(Se),this._emitOrigin(oe,null))}_emitOrigin(X,Se){X.subject.observers.length&&this._ngZone.run(()=>X.subject.next(Se))}_registerGlobalListeners(X){if(!this._platform.isBrowser)return;const Se=X.rootNode,oe=this._rootNodeFocusListenerCount.get(Se)||0;oe||this._ngZone.runOutsideAngular(()=>{Se.addEventListener("focus",this._rootNodeFocusAndBlurListener,At),Se.addEventListener("blur",this._rootNodeFocusAndBlurListener,At)}),this._rootNodeFocusListenerCount.set(Se,oe+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,Ct.R)(this._stopInputModalityDetector)).subscribe(Ge=>{this._setOrigin(Ge,!0)}))}_removeGlobalListeners(X){const Se=X.rootNode;if(this._rootNodeFocusListenerCount.has(Se)){const oe=this._rootNodeFocusListenerCount.get(Se);oe>1?this._rootNodeFocusListenerCount.set(Se,oe-1):(Se.removeEventListener("focus",this._rootNodeFocusAndBlurListener,At),Se.removeEventListener("blur",this._rootNodeFocusAndBlurListener,At),this._rootNodeFocusListenerCount.delete(Se))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(X,Se,oe){this._setClasses(X,Se),this._emitOrigin(oe,Se),this._lastFocusOrigin=Se}_getClosestElementsInfo(X){const Se=[];return this._elementInfo.forEach((oe,Ge)=>{(Ge===X||oe.checkChildren&&Ge.contains(X))&&Se.push([Ge,oe])}),Se}_isLastInteractionFromInputLabel(X){const{_mostRecentTarget:Se,mostRecentModality:oe}=this._inputModalityDetector;if("mouse"!==oe||!Se||Se===X||"INPUT"!==X.nodeName&&"TEXTAREA"!==X.nodeName||X.disabled)return!1;const Ge=X.labels;if(Ge)for(let lt=0;lt<Ge.length;lt++)if(Ge[lt].contains(Se))return!0;return!1}static#e=this.\u0275fac=function(Se){return new(Se||dt)(te.LFG(te.R0b),te.LFG(Y.t4),te.LFG(wn),te.LFG(p.K0,8),te.LFG(vi,8))};static#t=this.\u0275prov=te.Yz7({token:dt,factory:dt.\u0275fac,providedIn:"root"})}return dt})();const Gn="cdk-high-contrast-black-on-white",Ht="cdk-high-contrast-white-on-black",Pr="cdk-high-contrast-active";let ln=(()=>{class dt{constructor(X,Se){this._platform=X,this._document=Se,this._breakpointSubscription=(0,te.f3M)(Ot.Yg).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const X=this._document.createElement("div");X.style.backgroundColor="rgb(1,2,3)",X.style.position="absolute",this._document.body.appendChild(X);const Se=this._document.defaultView||window,oe=Se&&Se.getComputedStyle?Se.getComputedStyle(X):null,Ge=(oe&&oe.backgroundColor||"").replace(/ /g,"");switch(X.remove(),Ge){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const X=this._document.body.classList;X.remove(Pr,Gn,Ht),this._hasCheckedHighContrastMode=!0;const Se=this.getHighContrastMode();1===Se?X.add(Pr,Gn):2===Se&&X.add(Pr,Ht)}}static#e=this.\u0275fac=function(Se){return new(Se||dt)(te.LFG(Y.t4),te.LFG(p.K0))};static#t=this.\u0275prov=te.Yz7({token:dt,factory:dt.\u0275fac,providedIn:"root"})}return dt})()},9388:(Gt,Ue,k)=>{k.d(Ue,{Is:()=>ve,vT:()=>le});var p=k(5879),te=k(6814);const Y=new p.OlP("cdk-dir-doc",{providedIn:"root",factory:function ne(){return(0,p.f3M)(te.K0)}}),ye=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let ve=(()=>{class ee{constructor(Ee){this.value="ltr",this.change=new p.vpe,Ee&&(this.value=function _e(ee){const ae=ee?.toLowerCase()||"";return"auto"===ae&&typeof navigator<"u"&&navigator?.language?ye.test(navigator.language)?"rtl":"ltr":"rtl"===ae?"rtl":"ltr"}((Ee.body?Ee.body.dir:null)||(Ee.documentElement?Ee.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(qe){return new(qe||ee)(p.LFG(Y,8))};static#t=this.\u0275prov=p.Yz7({token:ee,factory:ee.\u0275fac,providedIn:"root"})}return ee})(),le=(()=>{class ee{static#e=this.\u0275fac=function(qe){return new(qe||ee)};static#t=this.\u0275mod=p.oAB({type:ee});static#n=this.\u0275inj=p.cJS({})}return ee})()},2495:(Gt,Ue,k)=>{k.d(Ue,{Eq:()=>ye,HM:()=>_e,Ig:()=>te,fI:()=>ve,su:()=>Y});var p=k(5879);function te(le){return null!=le&&"false"!=`${le}`}function Y(le,ee=0){return function ne(le){return!isNaN(parseFloat(le))&&!isNaN(Number(le))}(le)?Number(le):ee}function ye(le){return Array.isArray(le)?le:[le]}function _e(le){return null==le?"":"string"==typeof le?le:`${le}px`}function ve(le){return le instanceof p.SBq?le.nativeElement:le}},6028:(Gt,Ue,k)=>{k.d(Ue,{A:()=>rt,JH:()=>Ie,JU:()=>_e,K5:()=>ye,Ku:()=>qe,LH:()=>Tt,L_:()=>Ee,MW:()=>ir,Mf:()=>Y,SV:()=>Jt,Sd:()=>ht,VM:()=>We,Vb:()=>Is,Z:()=>gr,aO:()=>hn,b2:()=>Ki,hY:()=>ae,jx:()=>ve,oh:()=>Ot,uR:()=>Ct,xE:()=>Ye,zL:()=>Pe});const Y=9,ye=13,_e=16,ve=17,Pe=18,ae=27,Ee=32,qe=33,We=34,Ct=35,ht=36,Ot=37,Tt=38,Jt=39,Ie=40,Ye=48,hn=57,rt=65,gr=90,ir=91,Ki=224;function Is(qi,...$s){return $s.length?$s.some(Ai=>qi[Ai]):qi.altKey||qi.shiftKey||qi.ctrlKey||qi.metaKey}},1088:(Gt,Ue,k)=>{k.d(Ue,{Yg:()=>Ie,u3:()=>De});var p=k(5879),te=k(2495),Y=k(8645),ne=k(2572),ye=k(1878),_e=k(5592),ve=k(8180),Pe=k(836),le=k(3620),ee=k(7398),ae=k(7921),Ee=k(9773),qe=k(2831);const Ct=new Set;let ht,Ot=(()=>{class me{constructor(Ye,Et){this._platform=Ye,this._nonce=Et,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Jt}matchMedia(Ye){return(this._platform.WEBKIT||this._platform.BLINK)&&function Tt(me,He){if(!Ct.has(me))try{ht||(ht=document.createElement("style"),He&&(ht.nonce=He),ht.setAttribute("type","text/css"),document.head.appendChild(ht)),ht.sheet&&(ht.sheet.insertRule(`@media ${me} {body{ }}`,0),Ct.add(me))}catch(Ye){console.error(Ye)}}(Ye,this._nonce),this._matchMedia(Ye)}static#e=this.\u0275fac=function(Et){return new(Et||me)(p.LFG(qe.t4),p.LFG(p.Ojb,8))};static#t=this.\u0275prov=p.Yz7({token:me,factory:me.\u0275fac,providedIn:"root"})}return me})();function Jt(me){return{matches:"all"===me||""===me,media:me,addListener:()=>{},removeListener:()=>{}}}let Ie=(()=>{class me{constructor(Ye,Et){this._mediaMatcher=Ye,this._zone=Et,this._queries=new Map,this._destroySubject=new Y.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(Ye){return ue((0,te.Eq)(Ye)).some(Ut=>this._registerQuery(Ut).mql.matches)}observe(Ye){const Ut=ue((0,te.Eq)(Ye)).map(an=>this._registerQuery(an).observable);let nt=(0,ne.a)(Ut);return nt=(0,ye.z)(nt.pipe((0,ve.q)(1)),nt.pipe((0,Pe.T)(1),(0,le.b)(0))),nt.pipe((0,ee.U)(an=>{const dn={matches:!1,breakpoints:{}};return an.forEach(({matches:An,query:br})=>{dn.matches=dn.matches||An,dn.breakpoints[br]=An}),dn}))}_registerQuery(Ye){if(this._queries.has(Ye))return this._queries.get(Ye);const Et=this._mediaMatcher.matchMedia(Ye),nt={observable:new _e.y(an=>{const dn=An=>this._zone.run(()=>an.next(An));return Et.addListener(dn),()=>{Et.removeListener(dn)}}).pipe((0,ae.O)(Et),(0,ee.U)(({matches:an})=>({query:Ye,matches:an})),(0,Ee.R)(this._destroySubject)),mql:Et};return this._queries.set(Ye,nt),nt}static#e=this.\u0275fac=function(Et){return new(Et||me)(p.LFG(Ot),p.LFG(p.R0b))};static#t=this.\u0275prov=p.Yz7({token:me,factory:me.\u0275fac,providedIn:"root"})}return me})();function ue(me){return me.map(He=>He.split(",")).reduce((He,Ye)=>He.concat(Ye)).map(He=>He.trim())}const De={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},2831:(Gt,Ue,k)=>{k.d(Ue,{Mq:()=>We,Oy:()=>ue,i$:()=>ae,kV:()=>Tt,qK:()=>Pe,sA:()=>Ie,t4:()=>ne});var p=k(5879),te=k(6814);let Y;try{Y=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Y=!1}let _e,ne=(()=>{class De{constructor(He){this._platformId=He,this.isBrowser=this._platformId?(0,te.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Y)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(Ye){return new(Ye||De)(p.LFG(p.Lbi))};static#t=this.\u0275prov=p.Yz7({token:De,factory:De.\u0275fac,providedIn:"root"})}return De})();const ve=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Pe(){if(_e)return _e;if("object"!=typeof document||!document)return _e=new Set(ve),_e;let De=document.createElement("input");return _e=new Set(ve.filter(me=>(De.setAttribute("type",me),De.type===me))),_e}let le,qe,ht;function ae(De){return function ee(){if(null==le&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>le=!0}))}finally{le=le||!1}return le}()?De:!!De.capture}function We(){if(null==qe){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return qe=!1,qe;if("scrollBehavior"in document.documentElement.style)qe=!0;else{const De=Element.prototype.scrollTo;qe=!!De&&!/\{\s*\[native code\]\s*\}/.test(De.toString())}}return qe}function Tt(De){if(function Ot(){if(null==ht){const De=typeof document<"u"?document.head:null;ht=!(!De||!De.createShadowRoot&&!De.attachShadow)}return ht}()){const me=De.getRootNode?De.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&me instanceof ShadowRoot)return me}return null}function Ie(De){return De.composedPath?De.composedPath()[0]:De.target}function ue(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},6814:(Gt,Ue,k)=>{k.d(Ue,{Do:()=>ht,ED:()=>no,EM:()=>Oi,HT:()=>ne,JF:()=>ps,K0:()=>_e,Mx:()=>_n,NF:()=>Qi,O5:()=>Ki,PM:()=>Pi,RF:()=>Ai,S$:()=>qe,V_:()=>Pe,Ye:()=>Ot,b0:()=>Ct,bD:()=>Or,ez:()=>rs,mk:()=>Rn,n9:()=>Vs,q:()=>Y,sg:()=>Lr,tP:()=>wo,w_:()=>ye});var p=k(5879);let te=null;function Y(){return te}function ne(A){te||(te=A)}class ye{}const _e=new p.OlP("DocumentToken");let ve=(()=>{class A{historyGo(O){throw new Error("Not implemented")}static#e=this.\u0275fac=function(z){return new(z||A)};static#t=this.\u0275prov=p.Yz7({token:A,factory:function(){return(0,p.f3M)(le)},providedIn:"platform"})}return A})();const Pe=new p.OlP("Location Initialized");let le=(()=>{class A extends ve{constructor(){super(),this._doc=(0,p.f3M)(_e),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Y().getBaseHref(this._doc)}onPopState(O){const z=Y().getGlobalEventTarget(this._doc,"window");return z.addEventListener("popstate",O,!1),()=>z.removeEventListener("popstate",O)}onHashChange(O){const z=Y().getGlobalEventTarget(this._doc,"window");return z.addEventListener("hashchange",O,!1),()=>z.removeEventListener("hashchange",O)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(O){this._location.pathname=O}pushState(O,z,pe){this._history.pushState(O,z,pe)}replaceState(O,z,pe){this._history.replaceState(O,z,pe)}forward(){this._history.forward()}back(){this._history.back()}historyGo(O=0){this._history.go(O)}getState(){return this._history.state}static#e=this.\u0275fac=function(z){return new(z||A)};static#t=this.\u0275prov=p.Yz7({token:A,factory:function(){return new A},providedIn:"platform"})}return A})();function ee(A,G){if(0==A.length)return G;if(0==G.length)return A;let O=0;return A.endsWith("/")&&O++,G.startsWith("/")&&O++,2==O?A+G.substring(1):1==O?A+G:A+"/"+G}function ae(A){const G=A.match(/#|\?|$/),O=G&&G.index||A.length;return A.slice(0,O-("/"===A[O-1]?1:0))+A.slice(O)}function Ee(A){return A&&"?"!==A[0]?"?"+A:A}let qe=(()=>{class A{historyGo(O){throw new Error("Not implemented")}static#e=this.\u0275fac=function(z){return new(z||A)};static#t=this.\u0275prov=p.Yz7({token:A,factory:function(){return(0,p.f3M)(Ct)},providedIn:"root"})}return A})();const We=new p.OlP("appBaseHref");let Ct=(()=>{class A extends qe{constructor(O,z){super(),this._platformLocation=O,this._removeListenerFns=[],this._baseHref=z??this._platformLocation.getBaseHrefFromDOM()??(0,p.f3M)(_e).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(O){this._removeListenerFns.push(this._platformLocation.onPopState(O),this._platformLocation.onHashChange(O))}getBaseHref(){return this._baseHref}prepareExternalUrl(O){return ee(this._baseHref,O)}path(O=!1){const z=this._platformLocation.pathname+Ee(this._platformLocation.search),pe=this._platformLocation.hash;return pe&&O?`${z}${pe}`:z}pushState(O,z,pe,Oe){const Qe=this.prepareExternalUrl(pe+Ee(Oe));this._platformLocation.pushState(O,z,Qe)}replaceState(O,z,pe,Oe){const Qe=this.prepareExternalUrl(pe+Ee(Oe));this._platformLocation.replaceState(O,z,Qe)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(O=0){this._platformLocation.historyGo?.(O)}static#e=this.\u0275fac=function(z){return new(z||A)(p.LFG(ve),p.LFG(We,8))};static#t=this.\u0275prov=p.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"})}return A})(),ht=(()=>{class A extends qe{constructor(O,z){super(),this._platformLocation=O,this._baseHref="",this._removeListenerFns=[],null!=z&&(this._baseHref=z)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(O){this._removeListenerFns.push(this._platformLocation.onPopState(O),this._platformLocation.onHashChange(O))}getBaseHref(){return this._baseHref}path(O=!1){let z=this._platformLocation.hash;return null==z&&(z="#"),z.length>0?z.substring(1):z}prepareExternalUrl(O){const z=ee(this._baseHref,O);return z.length>0?"#"+z:z}pushState(O,z,pe,Oe){let Qe=this.prepareExternalUrl(pe+Ee(Oe));0==Qe.length&&(Qe=this._platformLocation.pathname),this._platformLocation.pushState(O,z,Qe)}replaceState(O,z,pe,Oe){let Qe=this.prepareExternalUrl(pe+Ee(Oe));0==Qe.length&&(Qe=this._platformLocation.pathname),this._platformLocation.replaceState(O,z,Qe)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(O=0){this._platformLocation.historyGo?.(O)}static#e=this.\u0275fac=function(z){return new(z||A)(p.LFG(ve),p.LFG(We,8))};static#t=this.\u0275prov=p.Yz7({token:A,factory:A.\u0275fac})}return A})(),Ot=(()=>{class A{constructor(O){this._subject=new p.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=O;const z=this._locationStrategy.getBaseHref();this._basePath=function ue(A){if(new RegExp("^(https?:)?//").test(A)){const[,O]=A.split(/\/\/[^\/]+/);return O}return A}(ae(Ie(z))),this._locationStrategy.onPopState(pe=>{this._subject.emit({url:this.path(!0),pop:!0,state:pe.state,type:pe.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(O=!1){return this.normalize(this._locationStrategy.path(O))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(O,z=""){return this.path()==this.normalize(O+Ee(z))}normalize(O){return A.stripTrailingSlash(function Jt(A,G){if(!A||!G.startsWith(A))return G;const O=G.substring(A.length);return""===O||["/",";","?","#"].includes(O[0])?O:G}(this._basePath,Ie(O)))}prepareExternalUrl(O){return O&&"/"!==O[0]&&(O="/"+O),this._locationStrategy.prepareExternalUrl(O)}go(O,z="",pe=null){this._locationStrategy.pushState(pe,"",O,z),this._notifyUrlChangeListeners(this.prepareExternalUrl(O+Ee(z)),pe)}replaceState(O,z="",pe=null){this._locationStrategy.replaceState(pe,"",O,z),this._notifyUrlChangeListeners(this.prepareExternalUrl(O+Ee(z)),pe)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(O=0){this._locationStrategy.historyGo?.(O)}onUrlChange(O){return this._urlChangeListeners.push(O),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(z=>{this._notifyUrlChangeListeners(z.url,z.state)})),()=>{const z=this._urlChangeListeners.indexOf(O);this._urlChangeListeners.splice(z,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(O="",z){this._urlChangeListeners.forEach(pe=>pe(O,z))}subscribe(O,z,pe){return this._subject.subscribe({next:O,error:z,complete:pe})}static#e=this.normalizeQueryParams=Ee;static#t=this.joinWithSlash=ee;static#n=this.stripTrailingSlash=ae;static#r=this.\u0275fac=function(z){return new(z||A)(p.LFG(qe))};static#i=this.\u0275prov=p.Yz7({token:A,factory:function(){return function Tt(){return new Ot((0,p.LFG)(qe))}()},providedIn:"root"})}return A})();function Ie(A){return A.replace(/\/index.html$/,"")}function _n(A,G){G=encodeURIComponent(G);for(const O of A.split(";")){const z=O.indexOf("="),[pe,Oe]=-1==z?[O,""]:[O.slice(0,z),O.slice(z+1)];if(pe.trim()===G)return decodeURIComponent(Oe)}return null}const on=/\s+/,un=[];let Rn=(()=>{class A{constructor(O,z,pe,Oe){this._iterableDiffers=O,this._keyValueDiffers=z,this._ngEl=pe,this._renderer=Oe,this.initialClasses=un,this.stateMap=new Map}set klass(O){this.initialClasses=null!=O?O.trim().split(on):un}set ngClass(O){this.rawClass="string"==typeof O?O.trim().split(on):O}ngDoCheck(){for(const z of this.initialClasses)this._updateState(z,!0);const O=this.rawClass;if(Array.isArray(O)||O instanceof Set)for(const z of O)this._updateState(z,!0);else if(null!=O)for(const z of Object.keys(O))this._updateState(z,!!O[z]);this._applyStateDiff()}_updateState(O,z){const pe=this.stateMap.get(O);void 0!==pe?(pe.enabled!==z&&(pe.changed=!0,pe.enabled=z),pe.touched=!0):this.stateMap.set(O,{enabled:z,changed:!0,touched:!0})}_applyStateDiff(){for(const O of this.stateMap){const z=O[0],pe=O[1];pe.changed?(this._toggleClass(z,pe.enabled),pe.changed=!1):pe.touched||(pe.enabled&&this._toggleClass(z,!1),this.stateMap.delete(z)),pe.touched=!1}}_toggleClass(O,z){(O=O.trim()).length>0&&O.split(on).forEach(pe=>{z?this._renderer.addClass(this._ngEl.nativeElement,pe):this._renderer.removeClass(this._ngEl.nativeElement,pe)})}static#e=this.\u0275fac=function(z){return new(z||A)(p.Y36(p.ZZ4),p.Y36(p.aQg),p.Y36(p.SBq),p.Y36(p.Qsj))};static#t=this.\u0275dir=p.lG2({type:A,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return A})();class Ar{constructor(G,O,z,pe){this.$implicit=G,this.ngForOf=O,this.index=z,this.count=pe}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Lr=(()=>{class A{set ngForOf(O){this._ngForOf=O,this._ngForOfDirty=!0}set ngForTrackBy(O){this._trackByFn=O}get ngForTrackBy(){return this._trackByFn}constructor(O,z,pe){this._viewContainer=O,this._template=z,this._differs=pe,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(O){O&&(this._template=O)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const O=this._ngForOf;!this._differ&&O&&(this._differ=this._differs.find(O).create(this.ngForTrackBy))}if(this._differ){const O=this._differ.diff(this._ngForOf);O&&this._applyChanges(O)}}_applyChanges(O){const z=this._viewContainer;O.forEachOperation((pe,Oe,Qe)=>{if(null==pe.previousIndex)z.createEmbeddedView(this._template,new Ar(pe.item,this._ngForOf,-1,-1),null===Qe?void 0:Qe);else if(null==Qe)z.remove(null===Oe?void 0:Oe);else if(null!==Oe){const Mt=z.get(Oe);z.move(Mt,Qe),_r(Mt,pe)}});for(let pe=0,Oe=z.length;pe<Oe;pe++){const Mt=z.get(pe).context;Mt.index=pe,Mt.count=Oe,Mt.ngForOf=this._ngForOf}O.forEachIdentityChange(pe=>{_r(z.get(pe.currentIndex),pe)})}static ngTemplateContextGuard(O,z){return!0}static#e=this.\u0275fac=function(z){return new(z||A)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(p.ZZ4))};static#t=this.\u0275dir=p.lG2({type:A,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return A})();function _r(A,G){A.context.$implicit=G.item}let Ki=(()=>{class A{constructor(O,z){this._viewContainer=O,this._context=new Is,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=z}set ngIf(O){this._context.$implicit=this._context.ngIf=O,this._updateView()}set ngIfThen(O){qi("ngIfThen",O),this._thenTemplateRef=O,this._thenViewRef=null,this._updateView()}set ngIfElse(O){qi("ngIfElse",O),this._elseTemplateRef=O,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(O,z){return!0}static#e=this.\u0275fac=function(z){return new(z||A)(p.Y36(p.s_b),p.Y36(p.Rgc))};static#t=this.\u0275dir=p.lG2({type:A,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return A})();class Is{constructor(){this.$implicit=null,this.ngIf=null}}function qi(A,G){if(G&&!G.createEmbeddedView)throw new Error(`${A} must be a TemplateRef, but received '${(0,p.AaK)(G)}'.`)}class $s{constructor(G,O){this._viewContainerRef=G,this._templateRef=O,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(G){G&&!this._created?this.create():!G&&this._created&&this.destroy()}}let Ai=(()=>{class A{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(O){this._ngSwitch=O,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(O){this._defaultViews.push(O)}_matchCase(O){const z=O==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||z,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),z}_updateDefaultCases(O){if(this._defaultViews.length>0&&O!==this._defaultUsed){this._defaultUsed=O;for(const z of this._defaultViews)z.enforceState(O)}}static#e=this.\u0275fac=function(z){return new(z||A)};static#t=this.\u0275dir=p.lG2({type:A,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return A})(),Vs=(()=>{class A{constructor(O,z,pe){this.ngSwitch=pe,pe._addCase(),this._view=new $s(O,z)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(z){return new(z||A)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(Ai,9))};static#t=this.\u0275dir=p.lG2({type:A,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return A})(),no=(()=>{class A{constructor(O,z,pe){pe._addDefault(new $s(O,z))}static#e=this.\u0275fac=function(z){return new(z||A)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(Ai,9))};static#t=this.\u0275dir=p.lG2({type:A,selectors:[["","ngSwitchDefault",""]],standalone:!0})}return A})(),wo=(()=>{class A{constructor(O){this._viewContainerRef=O,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(O){if(O.ngTemplateOutlet||O.ngTemplateOutletInjector){const z=this._viewContainerRef;if(this._viewRef&&z.remove(z.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:pe,ngTemplateOutletContext:Oe,ngTemplateOutletInjector:Qe}=this;this._viewRef=z.createEmbeddedView(pe,Oe,Qe?{injector:Qe}:void 0)}else this._viewRef=null}else this._viewRef&&O.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(z){return new(z||A)(p.Y36(p.s_b))};static#t=this.\u0275dir=p.lG2({type:A,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[p.TTD]})}return A})(),rs=(()=>{class A{static#e=this.\u0275fac=function(z){return new(z||A)};static#t=this.\u0275mod=p.oAB({type:A});static#n=this.\u0275inj=p.cJS({})}return A})();const Or="browser",Ei="server";function Qi(A){return A===Or}function Pi(A){return A===Ei}let Oi=(()=>{class A{static#e=this.\u0275prov=(0,p.Yz7)({token:A,providedIn:"root",factory:()=>new Yr((0,p.LFG)(_e),window)})}return A})();class Yr{constructor(G,O){this.document=G,this.window=O,this.offset=()=>[0,0]}setOffset(G){this.offset=Array.isArray(G)?()=>G:G}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(G){this.supportsScrolling()&&this.window.scrollTo(G[0],G[1])}scrollToAnchor(G){if(!this.supportsScrolling())return;const O=function Ks(A,G){const O=A.getElementById(G)||A.getElementsByName(G)[0];if(O)return O;if("function"==typeof A.createTreeWalker&&A.body&&"function"==typeof A.body.attachShadow){const z=A.createTreeWalker(A.body,NodeFilter.SHOW_ELEMENT);let pe=z.currentNode;for(;pe;){const Oe=pe.shadowRoot;if(Oe){const Qe=Oe.getElementById(G)||Oe.querySelector(`[name="${G}"]`);if(Qe)return Qe}pe=z.nextNode()}}return null}(this.document,G);O&&(this.scrollToElement(O),O.focus())}setHistoryScrollRestoration(G){this.supportsScrolling()&&(this.window.history.scrollRestoration=G)}scrollToElement(G){const O=G.getBoundingClientRect(),z=O.left+this.window.pageXOffset,pe=O.top+this.window.pageYOffset,Oe=this.offset();this.window.scrollTo(z-Oe[0],pe-Oe[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class ps{}},9862:(Gt,Ue,k)=>{k.d(Ue,{JF:()=>F,eN:()=>Ne});var p=k(5879),te=k(2096),Y=k(2459),ne=k(5592),ye=k(6328),_e=k(2181),ve=k(7398),Pe=k(4716),le=k(4664),ee=k(6814);class ae{}class Ee{}class qe{constructor(Ae){this.normalizedNames=new Map,this.lazyUpdate=null,Ae?"string"==typeof Ae?this.lazyInit=()=>{this.headers=new Map,Ae.split("\n").forEach(Re=>{const mt=Re.indexOf(":");if(mt>0){const Ft=Re.slice(0,mt),Kt=Ft.toLowerCase(),zt=Re.slice(mt+1).trim();this.maybeSetNormalizedName(Ft,Kt),this.headers.has(Kt)?this.headers.get(Kt).push(zt):this.headers.set(Kt,[zt])}})}:typeof Headers<"u"&&Ae instanceof Headers?(this.headers=new Map,Ae.forEach((Re,mt)=>{this.setHeaderEntries(mt,Re)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(Ae).forEach(([Re,mt])=>{this.setHeaderEntries(Re,mt)})}:this.headers=new Map}has(Ae){return this.init(),this.headers.has(Ae.toLowerCase())}get(Ae){this.init();const Re=this.headers.get(Ae.toLowerCase());return Re&&Re.length>0?Re[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Ae){return this.init(),this.headers.get(Ae.toLowerCase())||null}append(Ae,Re){return this.clone({name:Ae,value:Re,op:"a"})}set(Ae,Re){return this.clone({name:Ae,value:Re,op:"s"})}delete(Ae,Re){return this.clone({name:Ae,value:Re,op:"d"})}maybeSetNormalizedName(Ae,Re){this.normalizedNames.has(Re)||this.normalizedNames.set(Re,Ae)}init(){this.lazyInit&&(this.lazyInit instanceof qe?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Ae=>this.applyUpdate(Ae)),this.lazyUpdate=null))}copyFrom(Ae){Ae.init(),Array.from(Ae.headers.keys()).forEach(Re=>{this.headers.set(Re,Ae.headers.get(Re)),this.normalizedNames.set(Re,Ae.normalizedNames.get(Re))})}clone(Ae){const Re=new qe;return Re.lazyInit=this.lazyInit&&this.lazyInit instanceof qe?this.lazyInit:this,Re.lazyUpdate=(this.lazyUpdate||[]).concat([Ae]),Re}applyUpdate(Ae){const Re=Ae.name.toLowerCase();switch(Ae.op){case"a":case"s":let mt=Ae.value;if("string"==typeof mt&&(mt=[mt]),0===mt.length)return;this.maybeSetNormalizedName(Ae.name,Re);const Ft=("a"===Ae.op?this.headers.get(Re):void 0)||[];Ft.push(...mt),this.headers.set(Re,Ft);break;case"d":const Kt=Ae.value;if(Kt){let zt=this.headers.get(Re);if(!zt)return;zt=zt.filter(hr=>-1===Kt.indexOf(hr)),0===zt.length?(this.headers.delete(Re),this.normalizedNames.delete(Re)):this.headers.set(Re,zt)}else this.headers.delete(Re),this.normalizedNames.delete(Re)}}setHeaderEntries(Ae,Re){const mt=(Array.isArray(Re)?Re:[Re]).map(Kt=>Kt.toString()),Ft=Ae.toLowerCase();this.headers.set(Ft,mt),this.maybeSetNormalizedName(Ae,Ft)}forEach(Ae){this.init(),Array.from(this.normalizedNames.keys()).forEach(Re=>Ae(this.normalizedNames.get(Re),this.headers.get(Re)))}}class Ct{encodeKey(Ae){return Jt(Ae)}encodeValue(Ae){return Jt(Ae)}decodeKey(Ae){return decodeURIComponent(Ae)}decodeValue(Ae){return decodeURIComponent(Ae)}}const Ot=/%(\d[a-f0-9])/gi,Tt={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Jt(je){return encodeURIComponent(je).replace(Ot,(Ae,Re)=>Tt[Re]??Ae)}function Ie(je){return`${je}`}class ue{constructor(Ae={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Ae.encoder||new Ct,Ae.fromString){if(Ae.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function ht(je,Ae){const Re=new Map;return je.length>0&&je.replace(/^\?/,"").split("&").forEach(Ft=>{const Kt=Ft.indexOf("="),[zt,hr]=-1==Kt?[Ae.decodeKey(Ft),""]:[Ae.decodeKey(Ft.slice(0,Kt)),Ae.decodeValue(Ft.slice(Kt+1))],Qt=Re.get(zt)||[];Qt.push(hr),Re.set(zt,Qt)}),Re}(Ae.fromString,this.encoder)}else Ae.fromObject?(this.map=new Map,Object.keys(Ae.fromObject).forEach(Re=>{const mt=Ae.fromObject[Re],Ft=Array.isArray(mt)?mt.map(Ie):[Ie(mt)];this.map.set(Re,Ft)})):this.map=null}has(Ae){return this.init(),this.map.has(Ae)}get(Ae){this.init();const Re=this.map.get(Ae);return Re?Re[0]:null}getAll(Ae){return this.init(),this.map.get(Ae)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Ae,Re){return this.clone({param:Ae,value:Re,op:"a"})}appendAll(Ae){const Re=[];return Object.keys(Ae).forEach(mt=>{const Ft=Ae[mt];Array.isArray(Ft)?Ft.forEach(Kt=>{Re.push({param:mt,value:Kt,op:"a"})}):Re.push({param:mt,value:Ft,op:"a"})}),this.clone(Re)}set(Ae,Re){return this.clone({param:Ae,value:Re,op:"s"})}delete(Ae,Re){return this.clone({param:Ae,value:Re,op:"d"})}toString(){return this.init(),this.keys().map(Ae=>{const Re=this.encoder.encodeKey(Ae);return this.map.get(Ae).map(mt=>Re+"="+this.encoder.encodeValue(mt)).join("&")}).filter(Ae=>""!==Ae).join("&")}clone(Ae){const Re=new ue({encoder:this.encoder});return Re.cloneFrom=this.cloneFrom||this,Re.updates=(this.updates||[]).concat(Ae),Re}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Ae=>this.map.set(Ae,this.cloneFrom.map.get(Ae))),this.updates.forEach(Ae=>{switch(Ae.op){case"a":case"s":const Re=("a"===Ae.op?this.map.get(Ae.param):void 0)||[];Re.push(Ie(Ae.value)),this.map.set(Ae.param,Re);break;case"d":if(void 0===Ae.value){this.map.delete(Ae.param);break}{let mt=this.map.get(Ae.param)||[];const Ft=mt.indexOf(Ie(Ae.value));-1!==Ft&&mt.splice(Ft,1),mt.length>0?this.map.set(Ae.param,mt):this.map.delete(Ae.param)}}}),this.cloneFrom=this.updates=null)}}class me{constructor(){this.map=new Map}set(Ae,Re){return this.map.set(Ae,Re),this}get(Ae){return this.map.has(Ae)||this.map.set(Ae,Ae.defaultValue()),this.map.get(Ae)}delete(Ae){return this.map.delete(Ae),this}has(Ae){return this.map.has(Ae)}keys(){return this.map.keys()}}function Ye(je){return typeof ArrayBuffer<"u"&&je instanceof ArrayBuffer}function Et(je){return typeof Blob<"u"&&je instanceof Blob}function Ut(je){return typeof FormData<"u"&&je instanceof FormData}class an{constructor(Ae,Re,mt,Ft){let Kt;if(this.url=Re,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Ae.toUpperCase(),function He(je){switch(je){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Ft?(this.body=void 0!==mt?mt:null,Kt=Ft):Kt=mt,Kt&&(this.reportProgress=!!Kt.reportProgress,this.withCredentials=!!Kt.withCredentials,Kt.responseType&&(this.responseType=Kt.responseType),Kt.headers&&(this.headers=Kt.headers),Kt.context&&(this.context=Kt.context),Kt.params&&(this.params=Kt.params)),this.headers||(this.headers=new qe),this.context||(this.context=new me),this.params){const zt=this.params.toString();if(0===zt.length)this.urlWithParams=Re;else{const hr=Re.indexOf("?");this.urlWithParams=Re+(-1===hr?"?":hr<Re.length-1?"&":"")+zt}}else this.params=new ue,this.urlWithParams=Re}serializeBody(){return null===this.body?null:Ye(this.body)||Et(this.body)||Ut(this.body)||function nt(je){return typeof URLSearchParams<"u"&&je instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ue?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ut(this.body)?null:Et(this.body)?this.body.type||null:Ye(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ue?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Ae={}){const Re=Ae.method||this.method,mt=Ae.url||this.url,Ft=Ae.responseType||this.responseType,Kt=void 0!==Ae.body?Ae.body:this.body,zt=void 0!==Ae.withCredentials?Ae.withCredentials:this.withCredentials,hr=void 0!==Ae.reportProgress?Ae.reportProgress:this.reportProgress;let Qt=Ae.headers||this.headers,ot=Ae.params||this.params;const Ve=Ae.context??this.context;return void 0!==Ae.setHeaders&&(Qt=Object.keys(Ae.setHeaders).reduce((_t,$t)=>_t.set($t,Ae.setHeaders[$t]),Qt)),Ae.setParams&&(ot=Object.keys(Ae.setParams).reduce((_t,$t)=>_t.set($t,Ae.setParams[$t]),ot)),new an(Re,mt,Kt,{params:ot,headers:Qt,context:Ve,reportProgress:hr,responseType:Ft,withCredentials:zt})}}var dn=function(je){return je[je.Sent=0]="Sent",je[je.UploadProgress=1]="UploadProgress",je[je.ResponseHeader=2]="ResponseHeader",je[je.DownloadProgress=3]="DownloadProgress",je[je.Response=4]="Response",je[je.User=5]="User",je}(dn||{});class An{constructor(Ae,Re=200,mt="OK"){this.headers=Ae.headers||new qe,this.status=void 0!==Ae.status?Ae.status:Re,this.statusText=Ae.statusText||mt,this.url=Ae.url||null,this.ok=this.status>=200&&this.status<300}}class br extends An{constructor(Ae={}){super(Ae),this.type=dn.ResponseHeader}clone(Ae={}){return new br({headers:Ae.headers||this.headers,status:void 0!==Ae.status?Ae.status:this.status,statusText:Ae.statusText||this.statusText,url:Ae.url||this.url||void 0})}}class Vn extends An{constructor(Ae={}){super(Ae),this.type=dn.Response,this.body=void 0!==Ae.body?Ae.body:null}clone(Ae={}){return new Vn({body:void 0!==Ae.body?Ae.body:this.body,headers:Ae.headers||this.headers,status:void 0!==Ae.status?Ae.status:this.status,statusText:Ae.statusText||this.statusText,url:Ae.url||this.url||void 0})}}class hn extends An{constructor(Ae){super(Ae,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Ae.url||"(unknown url)"}`:`Http failure response for ${Ae.url||"(unknown url)"}: ${Ae.status} ${Ae.statusText}`,this.error=Ae.error||null}}function En(je,Ae){return{body:Ae,headers:je.headers,context:je.context,observe:je.observe,params:je.params,reportProgress:je.reportProgress,responseType:je.responseType,withCredentials:je.withCredentials}}let Ne=(()=>{class je{constructor(Re){this.handler=Re}request(Re,mt,Ft={}){let Kt;if(Re instanceof an)Kt=Re;else{let Qt,ot;Qt=Ft.headers instanceof qe?Ft.headers:new qe(Ft.headers),Ft.params&&(ot=Ft.params instanceof ue?Ft.params:new ue({fromObject:Ft.params})),Kt=new an(Re,mt,void 0!==Ft.body?Ft.body:null,{headers:Qt,context:Ft.context,params:ot,reportProgress:Ft.reportProgress,responseType:Ft.responseType||"json",withCredentials:Ft.withCredentials})}const zt=(0,te.of)(Kt).pipe((0,ye.b)(Qt=>this.handler.handle(Qt)));if(Re instanceof an||"events"===Ft.observe)return zt;const hr=zt.pipe((0,_e.h)(Qt=>Qt instanceof Vn));switch(Ft.observe||"body"){case"body":switch(Kt.responseType){case"arraybuffer":return hr.pipe((0,ve.U)(Qt=>{if(null!==Qt.body&&!(Qt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Qt.body}));case"blob":return hr.pipe((0,ve.U)(Qt=>{if(null!==Qt.body&&!(Qt.body instanceof Blob))throw new Error("Response is not a Blob.");return Qt.body}));case"text":return hr.pipe((0,ve.U)(Qt=>{if(null!==Qt.body&&"string"!=typeof Qt.body)throw new Error("Response is not a string.");return Qt.body}));default:return hr.pipe((0,ve.U)(Qt=>Qt.body))}case"response":return hr;default:throw new Error(`Unreachable: unhandled observe type ${Ft.observe}}`)}}delete(Re,mt={}){return this.request("DELETE",Re,mt)}get(Re,mt={}){return this.request("GET",Re,mt)}head(Re,mt={}){return this.request("HEAD",Re,mt)}jsonp(Re,mt){return this.request("JSONP",Re,{params:(new ue).append(mt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Re,mt={}){return this.request("OPTIONS",Re,mt)}patch(Re,mt,Ft={}){return this.request("PATCH",Re,En(Ft,mt))}post(Re,mt,Ft={}){return this.request("POST",Re,En(Ft,mt))}put(Re,mt,Ft={}){return this.request("PUT",Re,En(Ft,mt))}static#e=this.\u0275fac=function(mt){return new(mt||je)(p.LFG(ae))};static#t=this.\u0275prov=p.Yz7({token:je,factory:je.\u0275fac})}return je})();function sr(je,Ae){return Ae(je)}function bn(je,Ae){return(Re,mt)=>Ae.intercept(Re,{handle:Ft=>je(Ft,mt)})}const Zt=new p.OlP(""),Yn=new p.OlP(""),In=new p.OlP("");function St(){let je=null;return(Ae,Re)=>{null===je&&(je=((0,p.f3M)(Zt,{optional:!0})??[]).reduceRight(bn,sr));const mt=(0,p.f3M)(p.HDt),Ft=mt.add();return je(Ae,Re).pipe((0,Pe.x)(()=>mt.remove(Ft)))}}let Rt=(()=>{class je extends ae{constructor(Re,mt){super(),this.backend=Re,this.injector=mt,this.chain=null,this.pendingTasks=(0,p.f3M)(p.HDt)}handle(Re){if(null===this.chain){const Ft=Array.from(new Set([...this.injector.get(Yn),...this.injector.get(In,[])]));this.chain=Ft.reduceRight((Kt,zt)=>function st(je,Ae,Re){return(mt,Ft)=>Re.runInContext(()=>Ae(mt,Kt=>je(Kt,Ft)))}(Kt,zt,this.injector),sr)}const mt=this.pendingTasks.add();return this.chain(Re,Ft=>this.backend.handle(Ft)).pipe((0,Pe.x)(()=>this.pendingTasks.remove(mt)))}static#e=this.\u0275fac=function(mt){return new(mt||je)(p.LFG(Ee),p.LFG(p.lqb))};static#t=this.\u0275prov=p.Yz7({token:je,factory:je.\u0275fac})}return je})();const Cn=/^\)\]\}',?\n/;let ir=(()=>{class je{constructor(Re){this.xhrFactory=Re}handle(Re){if("JSONP"===Re.method)throw new p.vHH(-2800,!1);const mt=this.xhrFactory;return(mt.\u0275loadImpl?(0,Y.D)(mt.\u0275loadImpl()):(0,te.of)(null)).pipe((0,le.w)(()=>new ne.y(Kt=>{const zt=mt.build();if(zt.open(Re.method,Re.urlWithParams),Re.withCredentials&&(zt.withCredentials=!0),Re.headers.forEach((un,Rn)=>zt.setRequestHeader(un,Rn.join(","))),Re.headers.has("Accept")||zt.setRequestHeader("Accept","application/json, text/plain, */*"),!Re.headers.has("Content-Type")){const un=Re.detectContentTypeHeader();null!==un&&zt.setRequestHeader("Content-Type",un)}if(Re.responseType){const un=Re.responseType.toLowerCase();zt.responseType="json"!==un?un:"text"}const hr=Re.serializeBody();let Qt=null;const ot=()=>{if(null!==Qt)return Qt;const un=zt.statusText||"OK",Rn=new qe(zt.getAllResponseHeaders()),jn=function gr(je){return"responseURL"in je&&je.responseURL?je.responseURL:/^X-Request-URL:/m.test(je.getAllResponseHeaders())?je.getResponseHeader("X-Request-URL"):null}(zt)||Re.url;return Qt=new br({headers:Rn,status:zt.status,statusText:un,url:jn}),Qt},Ve=()=>{let{headers:un,status:Rn,statusText:jn,url:qr}=ot(),Ar=null;204!==Rn&&(Ar=typeof zt.response>"u"?zt.responseText:zt.response),0===Rn&&(Rn=Ar?200:0);let Lr=Rn>=200&&Rn<300;if("json"===Re.responseType&&"string"==typeof Ar){const _r=Ar;Ar=Ar.replace(Cn,"");try{Ar=""!==Ar?JSON.parse(Ar):null}catch(Li){Ar=_r,Lr&&(Lr=!1,Ar={error:Li,text:Ar})}}Lr?(Kt.next(new Vn({body:Ar,headers:un,status:Rn,statusText:jn,url:qr||void 0})),Kt.complete()):Kt.error(new hn({error:Ar,headers:un,status:Rn,statusText:jn,url:qr||void 0}))},_t=un=>{const{url:Rn}=ot(),jn=new hn({error:un,status:zt.status||0,statusText:zt.statusText||"Unknown Error",url:Rn||void 0});Kt.error(jn)};let $t=!1;const _n=un=>{$t||(Kt.next(ot()),$t=!0);let Rn={type:dn.DownloadProgress,loaded:un.loaded};un.lengthComputable&&(Rn.total=un.total),"text"===Re.responseType&&zt.responseText&&(Rn.partialText=zt.responseText),Kt.next(Rn)},on=un=>{let Rn={type:dn.UploadProgress,loaded:un.loaded};un.lengthComputable&&(Rn.total=un.total),Kt.next(Rn)};return zt.addEventListener("load",Ve),zt.addEventListener("error",_t),zt.addEventListener("timeout",_t),zt.addEventListener("abort",_t),Re.reportProgress&&(zt.addEventListener("progress",_n),null!==hr&&zt.upload&&zt.upload.addEventListener("progress",on)),zt.send(hr),Kt.next({type:dn.Sent}),()=>{zt.removeEventListener("error",_t),zt.removeEventListener("abort",_t),zt.removeEventListener("load",Ve),zt.removeEventListener("timeout",_t),Re.reportProgress&&(zt.removeEventListener("progress",_n),null!==hr&&zt.upload&&zt.upload.removeEventListener("progress",on)),zt.readyState!==zt.DONE&&zt.abort()}})))}static#e=this.\u0275fac=function(mt){return new(mt||je)(p.LFG(ee.JF))};static#t=this.\u0275prov=p.Yz7({token:je,factory:je.\u0275fac})}return je})();const Dr=new p.OlP("XSRF_ENABLED"),At=new p.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),zn=new p.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Gn{}let Ht=(()=>{class je{constructor(Re,mt,Ft){this.doc=Re,this.platform=mt,this.cookieName=Ft,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Re=this.doc.cookie||"";return Re!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,ee.Mx)(Re,this.cookieName),this.lastCookieString=Re),this.lastToken}static#e=this.\u0275fac=function(mt){return new(mt||je)(p.LFG(ee.K0),p.LFG(p.Lbi),p.LFG(At))};static#t=this.\u0275prov=p.Yz7({token:je,factory:je.\u0275fac})}return je})();function Pr(je,Ae){const Re=je.url.toLowerCase();if(!(0,p.f3M)(Dr)||"GET"===je.method||"HEAD"===je.method||Re.startsWith("http://")||Re.startsWith("https://"))return Ae(je);const mt=(0,p.f3M)(Gn).getToken(),Ft=(0,p.f3M)(zn);return null!=mt&&!je.headers.has(Ft)&&(je=je.clone({headers:je.headers.set(Ft,mt)})),Ae(je)}var $r=function(je){return je[je.Interceptors=0]="Interceptors",je[je.LegacyInterceptors=1]="LegacyInterceptors",je[je.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",je[je.NoXsrfProtection=3]="NoXsrfProtection",je[je.JsonpSupport=4]="JsonpSupport",je[je.RequestsMadeViaParent=5]="RequestsMadeViaParent",je[je.Fetch=6]="Fetch",je}($r||{});function he(...je){const Ae=[Ne,ir,Rt,{provide:ae,useExisting:Rt},{provide:Ee,useExisting:ir},{provide:Yn,useValue:Pr,multi:!0},{provide:Dr,useValue:!0},{provide:Gn,useClass:Ht}];for(const Re of je)Ae.push(...Re.\u0275providers);return(0,p.MR2)(Ae)}const Se=new p.OlP("LEGACY_INTERCEPTOR_FN");function oe(){return function dt(je,Ae){return{\u0275kind:je,\u0275providers:Ae}}($r.LegacyInterceptors,[{provide:Se,useFactory:St},{provide:Yn,useExisting:Se,multi:!0}])}let F=(()=>{class je{static#e=this.\u0275fac=function(mt){return new(mt||je)};static#t=this.\u0275mod=p.oAB({type:je});static#n=this.\u0275inj=p.cJS({providers:[he(oe())]})}return je})()},5879:(Gt,Ue,k)=>{k.d(Ue,{$8M:()=>th,$WT:()=>Ur,$Z:()=>Qv,AFp:()=>O_,AaK:()=>Ee,CHM:()=>zc,CRH:()=>H0,EJc:()=>OD,EiD:()=>op,EpF:()=>Vd,F$t:()=>jg,F4k:()=>Lg,FYo:()=>Hh,FiY:()=>Ku,Gf:()=>B0,GfV:()=>Ml,GkF:()=>Zp,Gpc:()=>Ct,Gre:()=>CI,HDt:()=>db,Hsn:()=>Mu,Ikx:()=>yE,JOm:()=>Xs,JVY:()=>gv,JZr:()=>Ie,KtG:()=>Gc,L6k:()=>Pm,LAX:()=>Om,LFG:()=>Yt,Lbi:()=>N_,Lck:()=>gw,MAs:()=>zp,MMx:()=>m0,MR2:()=>Um,NdJ:()=>Vg,O4$:()=>_a,Ojb:()=>k_,OlP:()=>At,Oqu:()=>_E,P3R:()=>_u,PXZ:()=>lA,Q6J:()=>pf,QGY:()=>Fg,QbO:()=>Ri,Qsj:()=>V_,R0b:()=>Mi,RDi:()=>pv,Rgc:()=>i_,SBq:()=>Rl,Sil:()=>FD,Suo:()=>j0,TTD:()=>Nn,TgZ:()=>Wp,Udp:()=>nm,VuI:()=>zA,W1O:()=>W0,WFA:()=>Ug,X6Q:()=>gA,XFs:()=>fn,Xpm:()=>zs,Xq5:()=>my,Xts:()=>Nh,Y36:()=>Sd,YKP:()=>f0,YNc:()=>Fc,Yjl:()=>mi,Yz7:()=>Zt,Z0I:()=>Rt,ZZ4:()=>JE,_Bn:()=>h0,_UZ:()=>qp,_Vd:()=>Cc,_c5:()=>PA,_uU:()=>Ef,aQg:()=>XE,c2e:()=>ub,cJS:()=>In,cg1:()=>EE,d8E:()=>vE,dDg:()=>iA,dqk:()=>ir,eBb:()=>_v,eFA:()=>Ib,eJc:()=>FE,ekj:()=>Kl,eoX:()=>_b,f3M:()=>be,g9A:()=>ri,h0i:()=>bf,hGG:()=>OA,hij:()=>Ky,iGM:()=>U0,ifc:()=>zt,ip1:()=>cb,jDz:()=>g0,kL8:()=>LI,kcU:()=>Af,lG2:()=>Ts,lqb:()=>xa,lri:()=>mb,mCW:()=>tp,n5z:()=>_o,n_E:()=>Jy,oAB:()=>bs,oxw:()=>Bg,pB0:()=>yv,q3G:()=>Sl,q4F:()=>Dd,qFp:()=>WA,qLn:()=>Pl,qOj:()=>ke,qZA:()=>Kp,qzn:()=>gd,rWj:()=>gb,rg0:()=>Oe,sBO:()=>_A,s_b:()=>tv,soG:()=>rv,tb:()=>WE,tp0:()=>gl,uIk:()=>uf,vHH:()=>ue,vpe:()=>Ol,wAp:()=>sm,xp6:()=>Zv,z2F:()=>cm,z3N:()=>Cl,zSh:()=>vd,zs3:()=>Ma});var p=k(8645),te=k(7394),Y=k(5592),ne=k(3019),ye=k(5619),_e=k(2096),ve=k(3020),Pe=k(4664),le=k(3997);function ee(t){for(let n in t)if(t[n]===ee)return n;throw Error("Could not find renamed property on target object.")}function ae(t,n){for(const i in n)n.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=n[i])}function Ee(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Ee).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const i=n.indexOf("\n");return-1===i?n:n.substring(0,i)}function qe(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const We=ee({__forward_ref__:ee});function Ct(t){return t.__forward_ref__=Ct,t.toString=function(){return Ee(this())},t}function ht(t){return Ot(t)?t():t}function Ot(t){return"function"==typeof t&&t.hasOwnProperty(We)&&t.__forward_ref__===Ct}function Tt(t){return t&&!!t.\u0275providers}const Ie="https://g.co/ng/security#xss";class ue extends Error{constructor(n,i){super(function De(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,i)),this.code=n}}function me(t){return"string"==typeof t?t:null==t?"":String(t)}function nt(t,n){throw new ue(-201,!1)}function jt(t,n){null==t&&function yt(t,n,i,o){throw new Error(`ASSERTION ERROR: ${t}`+(null==o?"":` [Expected=> ${i} ${o} ${n} <=Actual]`))}(n,t,null,"!=")}function Zt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function In(t){return{providers:t.providers||[],imports:t.imports||[]}}function St(t){return Jn(t,It)||Jn(t,Nr)}function Rt(t){return null!==St(t)}function Jn(t,n){return t.hasOwnProperty(n)?t[n]:null}function tt(t){return t&&(t.hasOwnProperty(or)||t.hasOwnProperty(Tr))?t[or]:null}const It=ee({\u0275prov:ee}),or=ee({\u0275inj:ee}),Nr=ee({ngInjectableDef:ee}),Tr=ee({ngInjectorDef:ee});var fn=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(fn||{});let wn;function tr(t){const n=wn;return wn=t,n}function Cn(t,n,i){const o=St(t);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:i&fn.Optional?null:void 0!==n?n:void nt(Ee(t))}const ir=globalThis;class At{constructor(n,i){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=Zt({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const oe={},Ge="__NG_DI_FLAG__",lt="ngTempTokenPath",U=/\n/gm,R="__source";let F;function Ze(t){const n=F;return F=t,n}function Bt(t,n=fn.Default){if(void 0===F)throw new ue(-203,!1);return null===F?Cn(t,void 0,n):F.get(t,n&fn.Optional?null:void 0,n)}function Yt(t,n=fn.Default){return(function xn(){return wn}()||Bt)(ht(t),n)}function be(t,n=fn.Default){return Yt(t,en(n))}function en(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Zn(t){const n=[];for(let i=0;i<t.length;i++){const o=ht(t[i]);if(Array.isArray(o)){if(0===o.length)throw new ue(900,!1);let c,h=fn.Default;for(let y=0;y<o.length;y++){const b=o[y],S=Ae(b);"number"==typeof S?-1===S?c=b.token:h|=S:c=b}n.push(Yt(c,h))}else n.push(Yt(o))}return n}function je(t,n){return t[Ge]=n,t.prototype[Ge]=n,t}function Ae(t){return t[Ge]}function Ft(t){return{toString:t}.toString()}var Kt=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Kt||{}),zt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(zt||{});const hr={},Qt=[],ot=ee({\u0275cmp:ee}),Ve=ee({\u0275dir:ee}),_t=ee({\u0275pipe:ee}),$t=ee({\u0275mod:ee}),_n=ee({\u0275fac:ee}),on=ee({__NG_ELEMENT_ID__:ee}),un=ee({__NG_ENV_ID__:ee});function Rn(t,n,i){let o=t.length;for(;;){const c=t.indexOf(n,i);if(-1===c)return c;if(0===c||t.charCodeAt(c-1)<=32){const h=n.length;if(c+h===o||t.charCodeAt(c+h)<=32)return c}i=c+1}}function jn(t,n,i){let o=0;for(;o<i.length;){const c=i[o];if("number"==typeof c){if(0!==c)break;o++;const h=i[o++],y=i[o++],b=i[o++];t.setAttribute(n,y,b,h)}else{const h=c,y=i[++o];Ar(h)?t.setProperty(n,h,y):t.setAttribute(n,h,y),o++}}return o}function qr(t){return 3===t||4===t||6===t}function Ar(t){return 64===t.charCodeAt(0)}function Lr(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let i=-1;for(let o=0;o<n.length;o++){const c=n[o];"number"==typeof c?i=c:0===i||_r(t,i,c,null,-1===i||2===i?n[++o]:null)}}return t}function _r(t,n,i,o,c){let h=0,y=t.length;if(-1===n)y=-1;else for(;h<t.length;){const b=t[h++];if("number"==typeof b){if(b===n){y=-1;break}if(b>n){y=h-1;break}}}for(;h<t.length;){const b=t[h];if("number"==typeof b)break;if(b===i){if(null===o)return void(null!==c&&(t[h+1]=c));if(o===t[h+1])return void(t[h+2]=c)}h++,null!==o&&h++,null!==c&&h++}-1!==y&&(t.splice(y,0,n),h=y+1),t.splice(h++,0,i),null!==o&&t.splice(h++,0,o),null!==c&&t.splice(h++,0,c)}const Li="ng-template";function Ki(t,n,i){let o=0,c=!0;for(;o<t.length;){let h=t[o++];if("string"==typeof h&&c){const y=t[o++];if(i&&"class"===h&&-1!==Rn(y.toLowerCase(),n,0))return!0}else{if(1===h){for(;o<t.length&&"string"==typeof(h=t[o++]);)if(h.toLowerCase()===n)return!0;return!1}"number"==typeof h&&(c=!1)}}return!1}function Is(t){return 4===t.type&&t.value!==Li}function qi(t,n,i){return n===(4!==t.type||i?t.value:Li)}function $s(t,n,i){let o=4;const c=t.attrs||[],h=function To(t){for(let n=0;n<t.length;n++)if(qr(t[n]))return n;return t.length}(c);let y=!1;for(let b=0;b<n.length;b++){const S=n[b];if("number"!=typeof S){if(!y)if(4&o){if(o=2|1&o,""!==S&&!qi(t,S,i)||""===S&&1===n.length){if(Ai(o))return!1;y=!0}}else{const B=8&o?S:n[++b];if(8&o&&null!==t.attrs){if(!Ki(t.attrs,B,i)){if(Ai(o))return!1;y=!0}continue}const fe=Vs(8&o?"class":S,c,Is(t),i);if(-1===fe){if(Ai(o))return!1;y=!0;continue}if(""!==B){let Le;Le=fe>h?"":c[fe+1].toLowerCase();const Je=8&o?Le:null;if(Je&&-1!==Rn(Je,B,0)||2&o&&B!==Le){if(Ai(o))return!1;y=!0}}}}else{if(!y&&!Ai(o)&&!Ai(S))return!1;if(y&&Ai(S))continue;y=!1,o=S|1&o}}return Ai(o)||y}function Ai(t){return 0==(1&t)}function Vs(t,n,i,o){if(null===n)return-1;let c=0;if(o||!i){let h=!1;for(;c<n.length;){const y=n[c];if(y===t)return c;if(3===y||6===y)h=!0;else{if(1===y||2===y){let b=n[++c];for(;"string"==typeof b;)b=n[++c];continue}if(4===y)break;if(0===y){c+=4;continue}}c+=h?1:2}return-1}return function ka(t,n){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){const o=t[i];if("number"==typeof o)return-1;if(o===n)return i;i++}return-1}(n,t)}function no(t,n,i=!1){for(let o=0;o<n.length;o++)if($s(t,n[o],i))return!0;return!1}function Fa(t,n){e:for(let i=0;i<n.length;i++){const o=n[i];if(t.length===o.length){for(let c=0;c<t.length;c++)if(t[c]!==o[c])continue e;return!0}}return!1}function wo(t,n){return t?":not("+n.trim()+")":n}function Lo(t){let n=t[0],i=1,o=2,c="",h=!1;for(;i<t.length;){let y=t[i];if("string"==typeof y)if(2&o){const b=t[++i];c+="["+y+(b.length>0?'="'+b+'"':"")+"]"}else 8&o?c+="."+y:4&o&&(c+=" "+y);else""!==c&&!Ai(y)&&(n+=wo(h,c),c=""),o=y,h=h||!Ai(o);i++}return""!==c&&(n+=wo(h,c)),n}function zs(t){return Ft(()=>{const n=Ws(t),i={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Kt.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||zt.Emulated,styles:t.styles||Qt,_:null,schemas:t.schemas||null,tView:null,id:""};io(i);const o=t.dependencies;return i.directiveDefs=Qr(o,!1),i.pipeDefs=Qr(o,!0),i.id=function so(t){let n=0;const i=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const c of i)n=Math.imul(31,n)+c.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(i),i})}function ua(t){return lr(t)||Xn(t)}function Do(t){return null!==t}function bs(t){return Ft(()=>({type:t.type,bootstrap:t.bootstrap||Qt,declarations:t.declarations||Qt,imports:t.imports||Qt,exports:t.exports||Qt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function ro(t,n){if(null==t)return hr;const i={};for(const o in t)if(t.hasOwnProperty(o)){let c=t[o],h=c;Array.isArray(c)&&(h=c[1],c=c[0]),i[c]=o,n&&(n[c]=h)}return i}function Ts(t){return Ft(()=>{const n=Ws(t);return io(n),n})}function mi(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function lr(t){return t[ot]||null}function Xn(t){return t[Ve]||null}function ci(t){return t[_t]||null}function Ur(t){const n=lr(t)||Xn(t)||ci(t);return null!==n&&n.standalone}function Wn(t,n){const i=t[$t]||null;if(!i&&!0===n)throw new Error(`Type ${Ee(t)} does not have '\u0275mod' property.`);return i}function Ws(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||hr,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Qt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ro(t.inputs,n),outputs:ro(t.outputs)}}function io(t){t.features?.forEach(n=>n(t))}function Qr(t,n){if(!t)return null;const i=n?ci:ua;return()=>("function"==typeof t?t():t).map(o=>i(o)).filter(Do)}const nr=0,tn=1,Mn=2,kn=3,ei=4,ns=5,si=6,rs=7,Or=8,Ei=9,Zi=10,Fn=11,Qi=12,Pi=13,Yi=14,Qn=15,ws=16,Oi=17,Yr=18,Ks=19,Us=20,ps=21,Ui=22,qs=23,Ds=24,cr=25,Ii=1,is=2,Br=7,ms=9,ti=11;function kr(t){return Array.isArray(t)&&"object"==typeof t[Ii]}function zr(t){return Array.isArray(t)&&!0===t[Ii]}function As(t){return 0!=(4&t.flags)}function Ni(t){return t.componentOffset>-1}function oo(t){return 1==(1&t.flags)}function ss(t){return!!t.template}function Hn(t){return 0!=(512&t[Mn])}function os(t,n){return t.hasOwnProperty(_n)?t[_n]:null}let ui=null,as=!1;function Hi(t){const n=ui;return ui=t,n}const Mo={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function E(t){if(!nn(t)||t.dirty){if(!t.producerMustRecompute(t)&&!Me(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function W(t){t.dirty=!0,function w(t){if(void 0===t.liveConsumerNode)return;const n=as;as=!0;try{for(const i of t.liveConsumerNode)i.dirty||W(i)}finally{as=n}}(t),t.consumerMarkedDirty?.(t)}function re(t){return t&&(t.nextProducerIndex=0),Hi(t)}function Ce(t,n){if(Hi(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(nn(t))for(let i=t.nextProducerIndex;i<t.producerNode.length;i++)Xt(t.producerNode[i],t.producerIndexOfThis[i]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Me(t){ur(t);for(let n=0;n<t.producerNode.length;n++){const i=t.producerNode[n],o=t.producerLastReadVersion[n];if(o!==i.version||(E(i),o!==i.version))return!0}return!1}function it(t){if(ur(t),nn(t))for(let n=0;n<t.producerNode.length;n++)Xt(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Xt(t,n){if(function Pn(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),ur(t),1===t.liveConsumerNode.length)for(let o=0;o<t.producerNode.length;o++)Xt(t.producerNode[o],t.producerIndexOfThis[o]);const i=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[i],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[i],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const o=t.liveConsumerIndexOfThis[n],c=t.liveConsumerNode[n];ur(c),c.producerIndexOfThis[o]=n}}function nn(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function ur(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let gi=null;function Oe(t){const n=Hi(null);try{return t()}finally{Hi(n)}}const Mt=()=>{},pn=(()=>({...Mo,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:Mt}))();class Kn{constructor(n,i,o){this.previousValue=n,this.currentValue=i,this.firstChange=o}isFirstChange(){return this.firstChange}}function Nn(){return fr}function fr(t){return t.type.prototype.ngOnChanges&&(t.setInput=Xr),Ln}function Ln(){const t=Cr(this),n=t?.current;if(n){const i=t.previous;if(i===hr)t.previous=n;else for(let o in n)i[o]=n[o];t.current=null,this.ngOnChanges(n)}}function Xr(t,n,i,o){const c=this.declaredInputs[i],h=Cr(t)||function Ji(t,n){return t[bi]=n}(t,{previous:hr,current:null}),y=h.current||(h.current={}),b=h.previous,S=b[c];y[c]=new Kn(S&&S.currentValue,n,b===hr),t[o]=n}Nn.ngInherit=!0;const bi="__ngSimpleChanges__";function Cr(t){return t[bi]||null}const ni=function(t,n,i){},_i="svg";function Vr(t){for(;Array.isArray(t);)t=t[nr];return t}function Ql(t,n){return Vr(n[t])}function Ti(t,n){return Vr(n[t.index])}function Fu(t,n){return t.data[n]}function Ms(t,n){const i=n[t];return kr(i)?i:i[nr]}function lo(t,n){return null==n?null:t[n]}function Cs(t){t[Oi]=0}function zo(t){1024&t[Mn]||(t[Mn]|=1024,xi(t,1))}function Uc(t){1024&t[Mn]&&(t[Mn]&=-1025,xi(t,-1))}function xi(t,n){let i=t[kn];if(null===i)return;i[ns]+=n;let o=i;for(i=i[kn];null!==i&&(1===n&&1===o[ns]||-1===n&&0===o[ns]);)i[ns]+=n,o=i,i=i[kn]}const er={lFrame:Po(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function ma(){return er.bindingsEnabled}function co(){return null!==er.skipHydrationRootTNode}function kt(){return er.lFrame.lView}function pr(){return er.lFrame.tView}function zc(t){return er.lFrame.contextLView=t,t[Or]}function Gc(t){return er.lFrame.contextLView=null,t}function wi(){let t=Lu();for(;null!==t&&64===t.type;)t=t.parent;return t}function Lu(){return er.lFrame.currentTNode}function uo(t,n){const i=er.lFrame;i.currentTNode=t,i.isParent=n}function Go(){return er.lFrame.isParent}function Wo(){er.lFrame.isParent=!1}function T(){return er.lFrame.bindingIndex++}function C(t){const n=er.lFrame,i=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,i}function j(t,n){const i=er.lFrame;i.bindingIndex=i.bindingRootIndex=t,ge(n)}function ge(t){er.lFrame.currentDirectiveIndex=t}function gt(t){const n=er.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}function ft(){return er.lFrame.currentQueryIndex}function cn(t){er.lFrame.currentQueryIndex=t}function dr(t){const n=t[tn];return 2===n.type?n.declTNode:1===n.type?t[si]:null}function Zr(t,n,i){if(i&fn.SkipSelf){let c=n,h=t;for(;!(c=c.parent,null!==c||i&fn.Host||(c=dr(h),null===c||(h=h[Yi],10&c.type))););if(null===c)return!1;n=c,t=h}const o=er.lFrame=cs();return o.currentTNode=n,o.lView=t,!0}function xr(t){const n=cs(),i=t[tn];er.lFrame=n,n.currentTNode=i.firstChild,n.lView=t,n.tView=i,n.contextLView=t,n.bindingIndex=i.bindingStartIndex,n.inI18n=!1}function cs(){const t=er.lFrame,n=null===t?null:t.child;return null===n?Po(t):n}function Po(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function ga(){const t=er.lFrame;return er.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const al=ga;function Ko(){const t=ga();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ps(){return er.lFrame.selectedIndex}function ll(t){er.lFrame.selectedIndex=t}function Kr(){const t=er.lFrame;return Fu(t.tView,t.selectedIndex)}function _a(){er.lFrame.currentNamespace=_i}function Af(){!function Cf(){er.lFrame.currentNamespace=null}()}let Bu=!0;function ju(){return Bu}function ya(t){Bu=t}function fo(t,n){for(let i=n.directiveStart,o=n.directiveEnd;i<o;i++){const h=t.data[i].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:b,ngAfterViewInit:S,ngAfterViewChecked:B,ngOnDestroy:Z}=h;y&&(t.contentHooks??=[]).push(-i,y),b&&((t.contentHooks??=[]).push(i,b),(t.contentCheckHooks??=[]).push(i,b)),S&&(t.viewHooks??=[]).push(-i,S),B&&((t.viewHooks??=[]).push(i,B),(t.viewCheckHooks??=[]).push(i,B)),null!=Z&&(t.destroyHooks??=[]).push(i,Z)}}function Zo(t,n,i){Kc(t,n,3,i)}function po(t,n,i,o){(3&t[Mn])===i&&Kc(t,n,i,o)}function cl(t,n){let i=t[Mn];(3&i)===n&&(i&=8191,i+=1,t[Mn]=i)}function Kc(t,n,i,o){const h=o??-1,y=n.length-1;let b=0;for(let S=void 0!==o?65535&t[Oi]:0;S<y;S++)if("number"==typeof n[S+1]){if(b=n[S],null!=o&&b>=o)break}else n[S]<0&&(t[Oi]+=65536),(b<h||-1==h)&&(qc(t,i,n,S),t[Oi]=(4294901760&t[Oi])+S+2),S++}function $u(t,n){ni(4,t,n);const i=Hi(null);try{n.call(t)}finally{Hi(i),ni(5,t,n)}}function qc(t,n,i,o){const c=i[o]<0,h=i[o+1],b=t[c?-i[o]:i[o]];c?t[Mn]>>13<t[Oi]>>16&&(3&t[Mn])===n&&(t[Mn]+=8192,$u(b,h)):$u(b,h)}const Qo=-1;class Ba{constructor(n,i,o){this.factory=n,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=o}}function Zc(t){return t!==Qo}function ec(t){return 32767&t}function Ea(t,n){let i=function pm(t){return t>>16}(t),o=n;for(;i>0;)o=o[Yi],i--;return o}let Oo=!0;function No(t){const n=Oo;return Oo=t,n}const Qd=255,Qc=5;let Yd=0;const mo={};function Yc(t,n){const i=tc(t,n);if(-1!==i)return i;const o=n[tn];o.firstCreatePass&&(t.injectorIndex=n.length,Jc(o.data,t),Jc(n,null),Jc(o.blueprint,null));const c=fl(t,n),h=t.injectorIndex;if(Zc(c)){const y=ec(c),b=Ea(c,n),S=b[tn].data;for(let B=0;B<8;B++)n[h+B]=b[y+B]|S[y+B]}return n[h+8]=c,h}function Jc(t,n){t.push(0,0,0,0,0,0,0,0,n)}function tc(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function fl(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let i=0,o=null,c=n;for(;null!==c;){if(o=Xo(c),null===o)return Qo;if(i++,c=c[Yi],-1!==o.injectorIndex)return o.injectorIndex|i<<16}return Qo}function Ha(t,n,i){!function hl(t,n,i){let o;"string"==typeof i?o=i.charCodeAt(0)||0:i.hasOwnProperty(on)&&(o=i[on]),null==o&&(o=i[on]=Yd++);const c=o&Qd;n.data[t+(c>>Qc)]|=1<<c}(t,n,i)}function nc(t,n,i){if(i&fn.Optional||void 0!==t)return t;nt()}function rc(t,n,i,o){if(i&fn.Optional&&void 0===o&&(o=null),!(i&(fn.Self|fn.Host))){const c=t[Ei],h=tr(void 0);try{return c?c.get(n,o,i&fn.Optional):Cn(n,o,i&fn.Optional)}finally{tr(h)}}return nc(o,0,i)}function Jd(t,n,i,o=fn.Default,c){if(null!==t){if(2048&n[Mn]&&!(o&fn.Self)){const y=function eh(t,n,i,o,c){let h=t,y=n;for(;null!==h&&null!==y&&2048&y[Mn]&&!(512&y[Mn]);){const b=Xd(h,y,i,o|fn.Self,mo);if(b!==mo)return b;let S=h.parent;if(!S){const B=y[Us];if(B){const Z=B.get(i,mo,o);if(Z!==mo)return Z}S=Xo(y),y=y[Yi]}h=S}return c}(t,n,i,o,mo);if(y!==mo)return y}const h=Xd(t,n,i,o,mo);if(h!==mo)return h}return rc(n,i,o,c)}function Xd(t,n,i,o,c){const h=function Sf(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(on)?t[on]:void 0;return"number"==typeof n?n>=0?n&Qd:zu:n}(i);if("function"==typeof h){if(!Zr(n,t,o))return o&fn.Host?nc(c,0,o):rc(n,i,o,c);try{let y;if(y=h(o),null!=y||o&fn.Optional)return y;nt()}finally{al()}}else if("number"==typeof h){let y=null,b=tc(t,n),S=Qo,B=o&fn.Host?n[Qn][si]:null;for((-1===b||o&fn.SkipSelf)&&(S=-1===b?fl(t,n):n[b+8],S!==Qo&&ys(o,!1)?(y=n[tn],b=ec(S),n=Ea(S,n)):b=-1);-1!==b;){const Z=n[tn];if(Xc(h,b,Z.data)){const fe=ic(b,n,i,y,o,B);if(fe!==mo)return fe}S=n[b+8],S!==Qo&&ys(o,n[tn].data[b+8]===B)&&Xc(h,b,n)?(y=Z,b=ec(S),n=Ea(S,n)):b=-1}}return c}function ic(t,n,i,o,c,h){const y=n[tn],b=y.data[t+8],Z=Yo(b,y,i,null==o?Ni(b)&&Oo:o!=y&&0!=(3&b.type),c&fn.Host&&h===b);return null!==Z?go(n,y,Z,b):mo}function Yo(t,n,i,o,c){const h=t.providerIndexes,y=n.data,b=1048575&h,S=t.directiveStart,Z=h>>20,Le=c?b+Z:t.directiveEnd;for(let Je=o?b:b+Z;Je<Le;Je++){const xt=y[Je];if(Je<S&&i===xt||Je>=S&&xt.type===i)return Je}if(c){const Je=y[S];if(Je&&ss(Je)&&Je.type===i)return S}return null}function go(t,n,i,o){let c=t[i];const h=n.data;if(function hm(t){return t instanceof Ba}(c)){const y=c;y.resolving&&function Ye(t,n){const i=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new ue(-200,`Circular dependency in DI detected for ${t}${i}`)}(function He(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():me(t)}(h[i]));const b=No(y.canSeeViewProviders);y.resolving=!0;const B=y.injectImpl?tr(y.injectImpl):null;Zr(t,o,fn.Default);try{c=t[i]=y.factory(void 0,h,t,o),n.firstCreatePass&&i>=o.directiveStart&&function Hu(t,n,i){const{ngOnChanges:o,ngOnInit:c,ngDoCheck:h}=n.type.prototype;if(o){const y=fr(n);(i.preOrderHooks??=[]).push(t,y),(i.preOrderCheckHooks??=[]).push(t,y)}c&&(i.preOrderHooks??=[]).push(0-t,c),h&&((i.preOrderHooks??=[]).push(t,h),(i.preOrderCheckHooks??=[]).push(t,h))}(i,h[i],n)}finally{null!==B&&tr(B),No(b),y.resolving=!1,al()}}return c}function Xc(t,n,i){return!!(i[n+(t>>Qc)]&1<<t)}function ys(t,n){return!(t&fn.Self||t&fn.Host&&n)}class us{constructor(n,i){this._tNode=n,this._lView=i}get(n,i,o){return Jd(this._tNode,this._lView,n,en(o),i)}}function zu(){return new us(wi(),kt())}function _o(t){return Ft(()=>{const n=t.prototype.constructor,i=n[_n]||Jo(n),o=Object.prototype;let c=Object.getPrototypeOf(t.prototype).constructor;for(;c&&c!==o;){const h=c[_n]||Jo(c);if(h&&h!==i)return h;c=Object.getPrototypeOf(c)}return h=>new h})}function Jo(t){return Ot(t)?()=>{const n=Jo(ht(t));return n&&n()}:os(t)}function Xo(t){const n=t[tn],i=n.type;return 2===i?n.declTNode:1===i?t[si]:null}function th(t){return function mm(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const i=t.attrs;if(i){const o=i.length;let c=0;for(;c<o;){const h=i[c];if(qr(h))break;if(0===h)c+=2;else if("number"==typeof h)for(c++;c<o&&"string"==typeof i[c];)c++;else{if(h===n)return i[c+1];c+=2}}}return null}(wi(),t)}const $a="__parameters__";function Ia(t,n,i){return Ft(()=>{const o=function Gu(t){return function(...i){if(t){const o=t(...i);for(const c in o)this[c]=o[c]}}}(n);function c(...h){if(this instanceof c)return o.apply(this,h),this;const y=new c(...h);return b.annotation=y,b;function b(S,B,Z){const fe=S.hasOwnProperty($a)?S[$a]:Object.defineProperty(S,$a,{value:[]})[$a];for(;fe.length<=Z;)fe.push(null);return(fe[Z]=fe[Z]||[]).push(y),S}}return i&&(c.prototype=Object.create(i.prototype)),c.prototype.ngMetadataName=t,c.annotationCls=c,c})}function ac(t,n){t.forEach(i=>Array.isArray(i)?ac(i,n):n(i))}function lc(t,n,i){n>=t.length?t.push(i):t.splice(n,0,i)}function ki(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function ru(t,n){const i=[];for(let o=0;o<t;o++)i.push(n);return i}function Js(t,n,i){let o=ba(t,n);return o>=0?t[1|o]=i:(o=~o,function ym(t,n,i,o){let c=t.length;if(c==n)t.push(i,o);else if(1===c)t.push(o,t[0]),t[0]=i;else{for(c--,t.push(t[c-1],t[c]);c>n;)t[c]=t[c-2],c--;t[n]=i,t[n+1]=o}}(t,o,n,i)),o}function cc(t,n){const i=ba(t,n);if(i>=0)return t[1|i]}function ba(t,n){return function ih(t,n,i){let o=0,c=t.length>>i;for(;c!==o;){const h=o+(c-o>>1),y=t[h<<i];if(n===y)return h<<i;y>n?c=h:o=h+1}return~(c<<i)}(t,n,1)}const Ku=je(Ia("Optional"),8),gl=je(Ia("SkipSelf"),4);function Ka(t){return 128==(128&t.flags)}var Xs=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Xs||{});const ph=/^>|^->|<!--|-->|--!>|<!-$/g,cu=/(<|>)/g,mc="\u200b$1\u200b";const id=new Map;let mh=0;const Da="__ngContext__";function vs(t,n){kr(n)?(t[Da]=n[Ks],function ta(t){id.set(t[Ks],t)}(n)):t[Da]=n}let _c;function xs(t,n){return _c(t,n)}function bl(t){const n=t[kn];return zr(n)?n[kn]:n}function Za(t){return fu(t[Qi])}function od(t){return fu(t[ei])}function fu(t){for(;null!==t&&!zr(t);)t=t[ei];return t}function Qa(t,n,i,o,c){if(null!=o){let h,y=!1;zr(o)?h=o:kr(o)&&(y=!0,o=o[nr]);const b=Vr(o);0===t&&null!==i?null==c?wl(n,i,b):ds(n,i,b,c||null,!0):1===t&&null!==i?ds(n,i,b,c||null,!0):2===t?function bh(t,n,i){const o=Ec(t,n);o&&function ad(t,n,i,o){t.removeChild(n,i,o)}(t,o,n,i)}(n,b,y):3===t&&n.destroyNode(b),null!=h&&function uv(t,n,i,o,c){const h=i[Br];h!==Vr(i)&&Qa(n,t,o,h,c);for(let b=ti;b<i.length;b++){const S=i[b];pu(S[tn],S,t,n,o,h)}}(n,t,h,i,c)}}function na(t,n){return t.createComment(function rd(t){return t.replace(ph,n=>n.replace(cu,mc))}(n))}function yc(t,n,i){return t.createElement(n,i)}function q(t,n){const i=t[ms],o=i.indexOf(n);Uc(n),i.splice(o,1)}function Te(t,n){if(t.length<=ti)return;const i=ti+n,o=t[i];if(o){const c=o[ws];null!==c&&c!==t&&q(c,o),n>0&&(t[i-1][ei]=o[ei]);const h=ki(t,ti+n);!function vc(t,n){pu(t,n,n[Fn],2,null,null),n[nr]=null,n[si]=null}(o[tn],o);const y=h[Yr];null!==y&&y.detachView(h[tn]),o[kn]=null,o[ei]=null,o[Mn]&=-129}return o}function ze(t,n){if(!(256&n[Mn])){const i=n[Fn];n[qs]&&it(n[qs]),n[Ds]&&it(n[Ds]),i.destroyNode&&pu(t,n,i,3,null,null),function d(t){let n=t[Qi];if(!n)return Dt(t[tn],t);for(;n;){let i=null;if(kr(n))i=n[Qi];else{const o=n[ti];o&&(i=o)}if(!i){for(;n&&!n[ei]&&n!==t;)kr(n)&&Dt(n[tn],n),n=n[kn];null===n&&(n=t),kr(n)&&Dt(n[tn],n),i=n&&n[ei]}n=i}}(n)}}function Dt(t,n){if(!(256&n[Mn])){n[Mn]&=-129,n[Mn]|=256,function yn(t,n){let i;if(null!=t&&null!=(i=t.destroyHooks))for(let o=0;o<i.length;o+=2){const c=n[i[o]];if(!(c instanceof Ba)){const h=i[o+1];if(Array.isArray(h))for(let y=0;y<h.length;y+=2){const b=c[h[y]],S=h[y+1];ni(4,b,S);try{S.call(b)}finally{ni(5,b,S)}}else{ni(4,c,h);try{h.call(c)}finally{ni(5,c,h)}}}}}(t,n),function rn(t,n){const i=t.cleanup,o=n[rs];if(null!==i)for(let h=0;h<i.length-1;h+=2)if("string"==typeof i[h]){const y=i[h+3];y>=0?o[y]():o[-y].unsubscribe(),h+=2}else i[h].call(o[i[h+1]]);null!==o&&(n[rs]=null);const c=n[ps];if(null!==c){n[ps]=null;for(let h=0;h<c.length;h++)(0,c[h])()}}(t,n),1===n[tn].type&&n[Fn].destroy();const i=n[ws];if(null!==i&&zr(n[kn])){i!==n[kn]&&q(i,n);const o=n[Yr];null!==o&&o.detachView(t)}!function zf(t){id.delete(t[Ks])}(n)}}function gn(t,n,i){return function li(t,n,i){let o=n;for(;null!==o&&40&o.type;)o=(n=o).parent;if(null===o)return i[nr];{const{componentOffset:c}=o;if(c>-1){const{encapsulation:h}=t.data[o.directiveStart+c];if(h===zt.None||h===zt.Emulated)return null}return Ti(o,i)}}(t,n.parent,i)}function ds(t,n,i,o,c){t.insertBefore(n,i,o,c)}function wl(t,n,i){t.appendChild(n,i)}function Eh(t,n,i,o,c){null!==o?ds(t,n,i,o,c):wl(t,n,i)}function Ec(t,n){return t.parentNode(n)}function cd(t,n,i){return dd(t,n,i)}let hd,fd,wh,md,dd=function ud(t,n,i){return 40&t.type?Ti(t,i):null};function Ic(t,n,i,o){const c=gn(t,o,n),h=n[Fn],b=cd(o.parent||n[si],o,n);if(null!=c)if(Array.isArray(i))for(let S=0;S<i.length;S++)Eh(h,c,i[S],b,!1);else Eh(h,c,i,b,!1);void 0!==hd&&hd(h,o,n,i,c)}function Dl(t,n){if(null!==n){const i=n.type;if(3&i)return Ti(n,t);if(4&i)return Ih(-1,t[n.index]);if(8&i){const o=n.child;if(null!==o)return Dl(t,o);{const c=t[n.index];return zr(c)?Ih(-1,c):Vr(c)}}if(32&i)return xs(n,t)()||Vr(t[n.index]);{const o=g_(t,n);return null!==o?Array.isArray(o)?o[0]:Dl(bl(t[Qn]),o):Dl(t,n.next)}}return null}function g_(t,n){return null!==n?t[Qn][si].projection[n.projection]:null}function Ih(t,n){const i=ti+t+1;if(i<n.length){const o=n[i],c=o[tn].firstChild;if(null!==c)return Dl(o,c)}return n[Br]}function Th(t,n,i,o,c,h,y){for(;null!=i;){const b=o[i.index],S=i.type;if(y&&0===n&&(b&&vs(Vr(b),o),i.flags|=2),32!=(32&i.flags))if(8&S)Th(t,n,i.child,o,c,h,!1),Qa(n,t,c,b,h);else if(32&S){const B=xs(i,o);let Z;for(;Z=B();)Qa(n,t,c,Z,h);Qa(n,t,c,b,h)}else 16&S?Qf(t,n,o,i,c,h):Qa(n,t,c,b,h);i=y?i.projectionNext:i.next}}function pu(t,n,i,o,c,h){Th(i,o,t.firstChild,n,c,h,!1)}function Qf(t,n,i,o,c,h){const y=i[Qn],S=y[si].projection[o.projection];if(Array.isArray(S))for(let B=0;B<S.length;B++)Qa(n,t,c,S[B],h);else{let B=S;const Z=y[kn];Ka(o)&&(B.flags|=128),Th(t,n,B,Z,c,h,!0)}}function Yf(t,n,i){""===i?t.removeAttribute(n,"class"):t.setAttribute(n,"class",i)}function Dm(t,n,i){const{mergedAttrs:o,classes:c,styles:h}=i;null!==o&&jn(t,n,o),null!==c&&Yf(t,n,c),null!==h&&function dv(t,n,i){t.setAttribute(n,"style",i)}(t,n,h)}function pd(t){return function Jf(){if(void 0===fd&&(fd=null,ir.trustedTypes))try{fd=ir.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return fd}()?.createHTML(t)||t}function pv(t){wh=t}function Xf(t){return function Dh(){if(void 0===md&&(md=null,ir.trustedTypes))try{md=ir.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return md}()?.createScriptURL(t)||t}class gu{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ie})`}}class Sm extends gu{getTypeName(){return"HTML"}}class Al extends gu{getTypeName(){return"Style"}}class xm extends gu{getTypeName(){return"Script"}}class mv extends gu{getTypeName(){return"URL"}}class Rm extends gu{getTypeName(){return"ResourceURL"}}function Cl(t){return t instanceof gu?t.changingThisBreaksApplicationSecurity:t}function gd(t,n){const i=function Mm(t){return t instanceof gu&&t.getTypeName()||null}(t);if(null!=i&&i!==n){if("ResourceURL"===i&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${i} (see ${Ie})`)}return i===n}function gv(t){return new Sm(t)}function Pm(t){return new Al(t)}function _v(t){return new xm(t)}function Om(t){return new mv(t)}function yv(t){return new Rm(t)}class y_{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const i=(new window.DOMParser).parseFromString(pd(n),"text/html").body;return null===i?this.inertDocumentHelper.getInertBodyElement(n):(i.removeChild(i.firstChild),i)}catch{return null}}}class Nm{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const i=this.inertDocument.createElement("template");return i.innerHTML=pd(n),i}}const vv=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function tp(t){return(t=String(t)).match(vv)?t:"unsafe:"+t}function Sa(t){const n={};for(const i of t.split(","))n[i]=!0;return n}function Ah(...t){const n={};for(const i of t)for(const o in i)i.hasOwnProperty(o)&&(n[o]=!0);return n}const np=Sa("area,br,col,hr,img,wbr"),Ch=Sa("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),rp=Sa("rp,rt"),Sh=Ah(np,Ah(Ch,Sa("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ah(rp,Sa("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ah(rp,Ch)),sp=Sa("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Rh=Ah(sp,Sa("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Sa("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Iv=Sa("script,style,template");class bv{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let i=n.firstChild,o=!0;for(;i;)if(i.nodeType===Node.ELEMENT_NODE?o=this.startElement(i):i.nodeType===Node.TEXT_NODE?this.chars(i.nodeValue):this.sanitizedSomething=!0,o&&i.firstChild)i=i.firstChild;else for(;i;){i.nodeType===Node.ELEMENT_NODE&&this.endElement(i);let c=this.checkClobberedElement(i,i.nextSibling);if(c){i=c;break}i=this.checkClobberedElement(i,i.parentNode)}return this.buf.join("")}startElement(n){const i=n.nodeName.toLowerCase();if(!Sh.hasOwnProperty(i))return this.sanitizedSomething=!0,!Iv.hasOwnProperty(i);this.buf.push("<"),this.buf.push(i);const o=n.attributes;for(let c=0;c<o.length;c++){const h=o.item(c),y=h.name,b=y.toLowerCase();if(!Rh.hasOwnProperty(b)){this.sanitizedSomething=!0;continue}let S=h.value;sp[b]&&(S=tp(S)),this.buf.push(" ",y,'="',Mh(S),'"')}return this.buf.push(">"),!0}endElement(n){const i=n.nodeName.toLowerCase();Sh.hasOwnProperty(i)&&!np.hasOwnProperty(i)&&(this.buf.push("</"),this.buf.push(i),this.buf.push(">"))}chars(n){this.buf.push(Mh(n))}checkClobberedElement(n,i){if(i&&(n.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return i}}const Tv=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,wv=/([^\#-~ |!])/g;function Mh(t){return t.replace(/&/g,"&amp;").replace(Tv,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(wv,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let _d;function op(t,n){let i=null;try{_d=_d||function ep(t){const n=new Nm(t);return function v_(){try{return!!(new window.DOMParser).parseFromString(pd(""),"text/html")}catch{return!1}}()?new y_(n):n}(t);let o=n?String(n):"";i=_d.getInertBodyElement(o);let c=5,h=o;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,o=h,h=i.innerHTML,i=_d.getInertBodyElement(o)}while(o!==h);return pd((new bv).sanitizeChildren(Ph(i)||i))}finally{if(i){const o=Ph(i)||i;for(;o.firstChild;)o.removeChild(o.firstChild)}}}function Ph(t){return"content"in t&&function E_(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Sl=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Sl||{});function lp(t){const n=Oh();return n?n.sanitize(Sl.URL,t)||"":gd(t,"URL")?Cl(t):tp(me(t))}function Fm(t){const n=Oh();if(n)return Xf(n.sanitize(Sl.RESOURCE_URL,t)||"");if(gd(t,"ResourceURL"))return Xf(Cl(t));throw new ue(904,!1)}function _u(t,n,i){return function b_(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?Fm:lp}(n,i)(t)}function Oh(){const t=kt();return t&&t[Zi].sanitizer}const Nh=new At("ENVIRONMENT_INITIALIZER"),Vm=new At("INJECTOR",-1),w_=new At("INJECTOR_DEF_TYPES");class cp{get(n,i=oe){if(i===oe){const o=new Error(`NullInjectorError: No provider for ${Ee(n)}!`);throw o.name="NullInjectorError",o}return i}}function Um(t){return{\u0275providers:t}}function Dv(...t){return{\u0275providers:D_(0,t),\u0275fromNgModule:!0}}function D_(t,...n){const i=[],o=new Set;let c;const h=y=>{i.push(y)};return ac(n,y=>{const b=y;up(b,h,[],o)&&(c||=[],c.push(b))}),void 0!==c&&A_(c,h),i}function A_(t,n){for(let i=0;i<t.length;i++){const{ngModule:o,providers:c}=t[i];Bm(c,h=>{n(h,o)})}}function up(t,n,i,o){if(!(t=ht(t)))return!1;let c=null,h=tt(t);const y=!h&&lr(t);if(h||y){if(y&&!y.standalone)return!1;c=t}else{const S=t.ngModule;if(h=tt(S),!h)return!1;c=S}const b=o.has(c);if(y){if(b)return!1;if(o.add(c),y.dependencies){const S="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const B of S)up(B,n,i,o)}}else{if(!h)return!1;{if(null!=h.imports&&!b){let B;o.add(c);try{ac(h.imports,Z=>{up(Z,n,i,o)&&(B||=[],B.push(Z))})}finally{}void 0!==B&&A_(B,n)}if(!b){const B=os(c)||(()=>new c);n({provide:c,useFactory:B,deps:Qt},c),n({provide:w_,useValue:c,multi:!0},c),n({provide:Nh,useValue:()=>Yt(c),multi:!0},c)}const S=h.providers;if(null!=S&&!b){const B=t;Bm(S,Z=>{n(Z,B)})}}}return c!==t&&void 0!==t.providers}function Bm(t,n){for(let i of t)Tt(i)&&(i=i.\u0275providers),Array.isArray(i)?Bm(i,n):n(i)}const C_=ee({provide:String,useValue:ee});function dp(t){return null!==t&&"object"==typeof t&&C_ in t}function Tc(t){return"function"==typeof t}const vd=new At("Set Injector scope."),Er={},x_={};let fp;function wc(){return void 0===fp&&(fp=new cp),fp}class xa{}class Gi extends xa{get destroyed(){return this._destroyed}constructor(n,i,o,c){super(),this.parent=i,this.source=o,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,kh(n,y=>this.processProvider(y)),this.records.set(Vm,xl(void 0,this)),c.has("environment")&&this.records.set(xa,xl(void 0,this));const h=this.records.get(vd);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(w_.multi,Qt,fn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const i=Ze(this),o=tr(void 0);try{return n()}finally{Ze(i),tr(o)}}get(n,i=oe,o=fn.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(un))return n[un](this);o=en(o);const h=Ze(this),y=tr(void 0);try{if(!(o&fn.SkipSelf)){let S=this.records.get(n);if(void 0===S){const B=function Av(t){return"function"==typeof t||"object"==typeof t&&t instanceof At}(n)&&St(n);S=B&&this.injectableDefInScope(B)?xl(hi(n),Er):null,this.records.set(n,S)}if(null!=S)return this.hydrate(n,S)}return(o&fn.Self?wc():this.parent).get(n,i=o&fn.Optional&&i===oe?null:i)}catch(b){if("NullInjectorError"===b.name){if((b[lt]=b[lt]||[]).unshift(Ee(n)),h)throw b;return function Re(t,n,i,o){const c=t[lt];throw n[R]&&c.unshift(n[R]),t.message=function mt(t,n,i,o=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let c=Ee(n);if(Array.isArray(n))c=n.map(Ee).join(" -> ");else if("object"==typeof n){let h=[];for(let y in n)if(n.hasOwnProperty(y)){let b=n[y];h.push(y+":"+("string"==typeof b?JSON.stringify(b):Ee(b)))}c=`{${h.join(", ")}}`}return`${i}${o?"("+o+")":""}[${c}]: ${t.replace(U,"\n  ")}`}("\n"+t.message,c,i,o),t.ngTokenPath=c,t[lt]=null,t}(b,n,"R3InjectorError",this.source)}throw b}finally{tr(y),Ze(h)}}resolveInjectorInitializers(){const n=Ze(this),i=tr(void 0);try{const c=this.get(Nh.multi,Qt,fn.Self);for(const h of c)h()}finally{Ze(n),tr(i)}}toString(){const n=[],i=this.records;for(const o of i.keys())n.push(Ee(o));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ue(205,!1)}processProvider(n){let i=Tc(n=ht(n))?n:ht(n&&n.provide);const o=function R_(t){return dp(t)?xl(void 0,t.useValue):xl(M_(t),Er)}(n);if(Tc(n)||!0!==n.multi)this.records.get(i);else{let c=this.records.get(i);c||(c=xl(void 0,Er,!0),c.factory=()=>Zn(c.multi),this.records.set(i,c)),i=n,c.multi.push(n)}this.records.set(i,o)}hydrate(n,i){return i.value===Er&&(i.value=x_,i.value=i.factory()),"object"==typeof i.value&&i.value&&function Hm(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}injectableDefInScope(n){if(!n.providedIn)return!1;const i=ht(n.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(n){const i=this._onDestroyHooks.indexOf(n);-1!==i&&this._onDestroyHooks.splice(i,1)}}function hi(t){const n=St(t),i=null!==n?n.factory:os(t);if(null!==i)return i;if(t instanceof At)throw new ue(204,!1);if(t instanceof Function)return function Ja(t){const n=t.length;if(n>0)throw ru(n,"?"),new ue(204,!1);const i=function Pt(t){return t&&(t[It]||t[Nr])||null}(t);return null!==i?()=>i.factory(t):()=>new t}(t);throw new ue(204,!1)}function M_(t,n,i){let o;if(Tc(t)){const c=ht(t);return os(c)||hi(c)}if(dp(t))o=()=>ht(t.useValue);else if(function jm(t){return!(!t||!t.useFactory)}(t))o=()=>t.useFactory(...Zn(t.deps||[]));else if(function hp(t){return!(!t||!t.useExisting)}(t))o=()=>Yt(ht(t.useExisting));else{const c=ht(t&&(t.useClass||t.provide));if(!function P_(t){return!!t.deps}(t))return os(c)||hi(c);o=()=>new c(...Zn(t.deps))}return o}function xl(t,n,i=!1){return{factory:t,value:n,multi:i?[]:void 0}}function kh(t,n){for(const i of t)Array.isArray(i)?kh(i,n):i&&Tt(i)?kh(i.\u0275providers,n):n(i)}const O_=new At("AppId",{providedIn:"root",factory:()=>Cv}),Cv="ng",ri=new At("Platform Initializer"),N_=new At("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Ri=new At("AnimationModuleType"),k_=new At("CSP nonce",{providedIn:"root",factory:()=>function bc(){if(void 0!==wh)return wh;if(typeof document<"u")return document;throw new ue(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let qm=(t,n,i)=>null;function Zm(t,n,i=!1){return qm(t,n,i)}class yu{}class Jm{}class Ov{resolveComponentFactory(n){throw function L_(t){const n=Error(`No component factory found for ${Ee(t)}.`);return n.ngComponent=t,n}(n)}}let Cc=(()=>{class t{static#e=this.NULL=new Ov}return t})();function Ep(){return vu(wi(),kt())}function vu(t,n){return new Rl(Ti(t,n))}let Rl=(()=>{class t{constructor(i){this.nativeElement=i}static#e=this.__NG_ELEMENT_ID__=Ep}return t})();function Nv(t){return t instanceof Rl?t.nativeElement:t}class Hh{}let V_=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function Xm(){const t=kt(),i=Ms(wi().index,t);return(kr(i)?i:t)[Fn]}()}return t})(),$h=(()=>{class t{static#e=this.\u0275prov=Zt({token:t,providedIn:"root",factory:()=>null})}return t})();class Ml{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const Dd=new Ml("16.2.12"),eg={};function Wh(t,n=null,i=null,o){const c=j_(t,n,i,o);return c.resolveInjectorInitializers(),c}function j_(t,n=null,i=null,o,c=new Set){const h=[i||Qt,Dv(t)];return o=o||("object"==typeof t?void 0:Ee(t)),new Gi(h,n||wc(),o||null,c)}let Ma=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=oe;static#t=this.NULL=new cp;static create(i,o){if(Array.isArray(i))return Wh({name:""},o,i,"");{const c=i.name??"";return Wh({name:c},i.parent,i.providers,c)}}static#n=this.\u0275prov=Zt({token:t,providedIn:"any",factory:()=>Yt(Vm)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function bp(t){return t.ngOriginalError}class Pl{constructor(){this._console=console}handleError(n){const i=this._findOriginalError(n);this._console.error("ERROR",n),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(n){let i=n&&bp(n);for(;i&&bp(i);)i=bp(i);return i||null}}function H_(t){return n=>{setTimeout(t,void 0,n)}}const Ol=class Bv extends p.x{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,i,o){let c=n,h=i||(()=>null),y=o;if(n&&"object"==typeof n){const S=n;c=S.next?.bind(S),h=S.error?.bind(S),y=S.complete?.bind(S)}this.__isAsync&&(h=H_(h),c&&(c=H_(c)),y&&(y=H_(y)));const b=super.subscribe({next:c,error:h,complete:y});return n instanceof te.w0&&n.add(b),b}};function $_(...t){}class Mi{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:o=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ol(!1),this.onMicrotaskEmpty=new Ol(!1),this.onStable=new Ol(!1),this.onError=new Ol(!1),typeof Zone>"u")throw new ue(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!o&&i,c.shouldCoalesceRunChangeDetection=o,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function lI(){const t="function"==typeof ir.requestAnimationFrame;let n=ir[t?"requestAnimationFrame":"setTimeout"],i=ir[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&i){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const c=i[Zone.__symbol__("OriginalDelegate")];c&&(i=c)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function jv(t){const n=()=>{!function Sc(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(ir,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,wp(t),t.isCheckStableRunning=!0,Eu(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),wp(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,o,c,h,y,b)=>{if(function $v(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(b))return i.invokeTask(c,h,y,b);try{return z_(t),i.invokeTask(c,h,y,b)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||t.shouldCoalesceRunChangeDetection)&&n(),kl(t)}},onInvoke:(i,o,c,h,y,b,S)=>{try{return z_(t),i.invoke(c,h,y,b,S)}finally{t.shouldCoalesceRunChangeDetection&&n(),kl(t)}},onHasTask:(i,o,c,h)=>{i.hasTask(c,h),o===c&&("microTask"==h.change?(t._hasPendingMicrotasks=h.microTask,wp(t),Eu(t)):"macroTask"==h.change&&(t.hasPendingMacrotasks=h.macroTask))},onHandleError:(i,o,c,h)=>(i.handleError(c,h),t.runOutsideAngular(()=>t.onError.emit(h)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Mi.isInAngularZone())throw new ue(909,!1)}static assertNotInAngularZone(){if(Mi.isInAngularZone())throw new ue(909,!1)}run(n,i,o){return this._inner.run(n,i,o)}runTask(n,i,o,c){const h=this._inner,y=h.scheduleEventTask("NgZoneEvent: "+c,n,Nl,$_,$_);try{return h.runTask(y,i,o)}finally{h.cancelTask(y)}}runGuarded(n,i,o){return this._inner.runGuarded(n,i,o)}runOutsideAngular(n){return this._outer.run(n)}}const Nl={};function Eu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function wp(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function z_(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function kl(t){t._nesting--,Eu(t)}class Hv{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ol,this.onMicrotaskEmpty=new Ol,this.onStable=new Ol,this.onError=new Ol}run(n,i,o){return n.apply(i,o)}runGuarded(n,i,o){return n.apply(i,o)}runOutsideAngular(n){return n()}runTask(n,i,o,c){return n.apply(i,o)}}const G_=new At("",{providedIn:"root",factory:W_});function W_(){const t=be(Mi);let n=!0;const i=new Y.y(c=>{n=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{c.next(n),c.complete()})}),o=new Y.y(c=>{let h;t.runOutsideAngular(()=>{h=t.onStable.subscribe(()=>{Mi.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(n=!0,c.next(!0))})})});const y=t.onUnstable.subscribe(()=>{Mi.assertInAngularZone(),n&&(n=!1,t.runOutsideAngular(()=>{c.next(!1)}))});return()=>{h.unsubscribe(),y.unsubscribe()}});return(0,ne.T)(i,o.pipe((0,ve.B)()))}function Fl(t){return t instanceof Function?t():t}let og=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=Zt({token:t,providedIn:"root",factory:()=>new t})}return t})();function Kh(t){for(;t;){t[Mn]|=64;const n=bl(t);if(Hn(t)&&!n)return t;t=n}return null}const Z_=new At("",{providedIn:"root",factory:()=>!1});let Cp=null;function Y_(t,n){return t[n]??ey()}function J_(t,n){const i=ey();i.producerNode?.length&&(t[n]=Cp,i.lView=t,Cp=X_())}const qv={...Mo,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Kh(t.lView)},lView:null};function X_(){return Object.create(qv)}function ey(){return Cp??=X_(),Cp}const yr={};function Zv(t){lg(pr(),kt(),Ps()+t,!1)}function lg(t,n,i,o){if(!o)if(3==(3&n[Mn])){const h=t.preOrderCheckHooks;null!==h&&Zo(n,h,i)}else{const h=t.preOrderHooks;null!==h&&po(n,h,0,i)}ll(i)}function Sd(t,n=fn.Default){const i=kt();return null===i?Yt(t,n):Jd(wi(),i,ht(t),n)}function Qv(){throw new Error("invalid")}function cg(t,n,i,o,c,h,y,b,S,B,Z){const fe=n.blueprint.slice();return fe[nr]=c,fe[Mn]=140|o,(null!==B||t&&2048&t[Mn])&&(fe[Mn]|=2048),Cs(fe),fe[kn]=fe[Yi]=t,fe[Or]=i,fe[Zi]=y||t&&t[Zi],fe[Fn]=b||t&&t[Fn],fe[Ei]=S||t&&t[Ei]||null,fe[si]=h,fe[Ks]=function sd(){return mh++}(),fe[Ui]=Z,fe[Us]=B,fe[Qn]=2==n.type?t[Qn]:fe,fe}function qh(t,n,i,o,c){let h=t.data[n];if(null===h)h=function Sp(t,n,i,o,c){const h=Lu(),y=Go(),S=t.data[n]=function eE(t,n,i,o,c,h){let y=n?n.injectorIndex:-1,b=0;return co()&&(b|=128),{type:i,index:o,insertBeforeIndex:null,injectorIndex:y,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:b,providerIndexes:0,value:c,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?h:h&&h.parent,i,n,o,c);return null===t.firstChild&&(t.firstChild=S),null!==h&&(y?null==h.child&&null!==S.parent&&(h.child=S):null===h.next&&(h.next=S,S.prev=h)),S}(t,n,i,o,c),function I(){return er.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=i,h.value=o,h.attrs=c;const y=function ai(){const t=er.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();h.injectorIndex=null===y?-1:y.injectorIndex}return uo(h,!0),h}function xd(t,n,i,o){if(0===i)return-1;const c=n.length;for(let h=0;h<i;h++)n.push(o),t.blueprint.push(o),t.data.push(null);return c}function Yv(t,n,i,o,c){const h=Y_(n,qs),y=Ps(),b=2&o;try{ll(-1),b&&n.length>cr&&lg(t,n,cr,!1),ni(b?2:0,c);const B=b?h:null,Z=re(B);try{null!==B&&(B.dirty=!1),i(o,c)}finally{Ce(B,Z)}}finally{b&&null===n[qs]&&J_(n,qs),ll(y),ni(b?3:1,c)}}function ty(t,n,i){if(As(n)){const o=Hi(null);try{const h=n.directiveEnd;for(let y=n.directiveStart;y<h;y++){const b=t.data[y];b.contentQueries&&b.contentQueries(1,i[y],y)}}finally{Hi(o)}}}function ny(t,n,i){ma()&&(function eo(t,n,i,o){const c=i.directiveStart,h=i.directiveEnd;Ni(i)&&function iE(t,n,i){const o=Ti(n,t),c=Qh(i);let y=16;i.signals?y=4096:i.onPush&&(y=64);const b=nf(t,cg(t,c,null,y,o,n,null,t[Zi].rendererFactory.createRenderer(o,i),null,null,null));t[n.index]=b}(n,i,t.data[c+i.componentOffset]),t.firstCreatePass||Yc(i,n),vs(o,n);const y=i.initialInputs;for(let b=c;b<h;b++){const S=t.data[b],B=go(n,t,b,i);vs(B,n),null!==y&&oy(0,b-c,B,S,0,y),ss(S)&&(Ms(i.index,n)[Or]=go(n,t,b,i))}}(t,n,i,Ti(i,n)),64==(64&i.flags)&&sy(t,n,i))}function Zh(t,n,i=Ti){const o=n.localNames;if(null!==o){let c=n.index+1;for(let h=0;h<o.length;h+=2){const y=o[h+1],b=-1===y?i(n,t):t[y];t[c++]=b}}}function Qh(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=ug(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function ug(t,n,i,o,c,h,y,b,S,B,Z){const fe=cr+o,Le=fe+c,Je=function Jv(t,n){const i=[];for(let o=0;o<n;o++)i.push(o<t?null:yr);return i}(fe,Le),xt="function"==typeof B?B():B;return Je[tn]={type:t,blueprint:Je,template:i,queries:null,viewQuery:b,declTNode:n,data:Je.slice().fill(null,fe),bindingStartIndex:fe,expandoStartIndex:Le,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:S,consts:xt,incompleteFirstPass:!1,ssrId:Z}}let hg=t=>null;function pg(t,n,i,o){for(let c in t)if(t.hasOwnProperty(c)){i=null===i?{}:i;const h=t[c];null===o?Jh(i,n,c,h):o.hasOwnProperty(c)&&Jh(i,n,o[c],h)}return i}function Jh(t,n,i,o){t.hasOwnProperty(i)?t[i].push(n,o):t[i]=[n,o]}function Eo(t,n,i,o,c,h,y,b){const S=Ti(n,i);let Z,B=n.inputs;!b&&null!=B&&(Z=B[o])?(Rp(t,i,Z,o,c),Ni(n)&&function bu(t,n){const i=Ms(n,t);16&i[Mn]||(i[Mn]|=64)}(i,n.index)):3&n.type&&(o=function iy(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(o),c=null!=y?y(c,n.value||"",o):c,h.setProperty(S,o,c))}function xp(t,n,i,o){if(ma()){const c=null===o?null:{"":-1},h=function Rd(t,n){const i=t.directiveRegistry;let o=null,c=null;if(i)for(let h=0;h<i.length;h++){const y=i[h];if(no(n,y.selectors,!1))if(o||(o=[]),ss(y))if(null!==y.findHostDirectiveDefs){const b=[];c=c||new Map,y.findHostDirectiveDefs(y,b,c),o.unshift(...b,y),Vl(t,n,b.length)}else o.unshift(y),Vl(t,n,0);else c=c||new Map,y.findHostDirectiveDefs?.(y,o,c),o.push(y)}return null===o?null:[o,c]}(t,i);let y,b;null===h?y=b=null:[y,b]=h,null!==y&&mg(t,n,i,y,c,b),c&&function _g(t,n,i){if(n){const o=t.localNames=[];for(let c=0;c<n.length;c+=2){const h=i[n[c+1]];if(null==h)throw new ue(-301,!1);o.push(n[c],h)}}}(i,o,c)}i.mergedAttrs=Lr(i.mergedAttrs,i.attrs)}function mg(t,n,i,o,c,h){for(let B=0;B<o.length;B++)Ha(Yc(i,n),t,o[B].type);!function nE(t,n,i){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+i,t.providerIndexes=n}(i,t.data.length,o.length);for(let B=0;B<o.length;B++){const Z=o[B];Z.providersResolver&&Z.providersResolver(Z)}let y=!1,b=!1,S=xd(t,n,o.length,null);for(let B=0;B<o.length;B++){const Z=o[B];i.mergedAttrs=Lr(i.mergedAttrs,Z.hostAttrs),rE(t,i,n,S,Z),Tu(S,Z,c),null!==Z.contentQueries&&(i.flags|=4),(null!==Z.hostBindings||null!==Z.hostAttrs||0!==Z.hostVars)&&(i.flags|=64);const fe=Z.type.prototype;!y&&(fe.ngOnChanges||fe.ngOnInit||fe.ngDoCheck)&&((t.preOrderHooks??=[]).push(i.index),y=!0),!b&&(fe.ngOnChanges||fe.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(i.index),b=!0),S++}!function tE(t,n,i){const c=n.directiveEnd,h=t.data,y=n.attrs,b=[];let S=null,B=null;for(let Z=n.directiveStart;Z<c;Z++){const fe=h[Z],Le=i?i.get(fe):null,xt=Le?Le.outputs:null;S=pg(fe.inputs,Z,S,Le?Le.inputs:null),B=pg(fe.outputs,Z,B,xt);const Wt=null===S||null===y||Is(n)?null:vg(S,Z,y);b.push(Wt)}null!==S&&(S.hasOwnProperty("class")&&(n.flags|=8),S.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=b,n.inputs=S,n.outputs=B}(t,i,h)}function sy(t,n,i){const o=i.directiveStart,c=i.directiveEnd,h=i.index,y=function J(){return er.lFrame.currentDirectiveIndex}();try{ll(h);for(let b=o;b<c;b++){const S=t.data[b],B=n[b];ge(b),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&gg(S,B)}}finally{ll(-1),ge(y)}}function gg(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Vl(t,n,i){n.componentOffset=i,(t.components??=[]).push(n.index)}function Tu(t,n,i){if(i){if(n.exportAs)for(let o=0;o<n.exportAs.length;o++)i[n.exportAs[o]]=t;ss(n)&&(i[""]=t)}}function rE(t,n,i,o,c){t.data[o]=c;const h=c.factory||(c.factory=os(c.type)),y=new Ba(h,ss(c),Sd);t.blueprint[o]=y,i[o]=y,function Xh(t,n,i,o,c){const h=c.hostBindings;if(h){let y=t.hostBindingOpCodes;null===y&&(y=t.hostBindingOpCodes=[]);const b=~n.index;(function ef(t){let n=t.length;for(;n>0;){const i=t[--n];if("number"==typeof i&&i<0)return i}return 0})(y)!=b&&y.push(b),y.push(i,o,h)}}(t,n,o,xd(t,i,c.hostVars,yr),c)}function Xa(t,n,i,o,c,h){const y=Ti(t,n);!function yg(t,n,i,o,c,h,y){if(null==h)t.removeAttribute(n,c,i);else{const b=null==y?me(h):y(h,o||"",c);t.setAttribute(n,c,b,i)}}(n[Fn],y,h,t.value,i,o,c)}function oy(t,n,i,o,c,h){const y=h[n];if(null!==y)for(let b=0;b<y.length;)ay(o,i,y[b++],y[b++],y[b++])}function ay(t,n,i,o,c){const h=Hi(null);try{const y=t.inputTransforms;null!==y&&y.hasOwnProperty(o)&&(c=y[o].call(n,c)),null!==t.setInput?t.setInput(n,c,i,o):n[o]=c}finally{Hi(h)}}function vg(t,n,i){let o=null,c=0;for(;c<i.length;){const h=i[c];if(0!==h)if(5!==h){if("number"==typeof h)break;if(t.hasOwnProperty(h)){null===o&&(o=[]);const y=t[h];for(let b=0;b<y.length;b+=2)if(y[b]===n){o.push(h,y[b+1],i[c+1]);break}}c+=2}else c+=2;else c+=4}return o}function Eg(t,n,i,o){return[t,!0,!1,n,null,0,o,i,null,null,null]}function tf(t,n){const i=t.contentQueries;if(null!==i)for(let o=0;o<i.length;o+=2){const h=i[o+1];if(-1!==h){const y=t.data[h];cn(i[o]),y.contentQueries(2,n[h],h)}}}function nf(t,n){return t[Qi]?t[Pi][ei]=n:t[Qi]=n,t[Pi]=n,n}function Ig(t,n,i){cn(0);const o=Hi(null);try{n(t,i)}finally{Hi(o)}}function cy(t){return t[rs]||(t[rs]=[])}function bg(t){return t.cleanup||(t.cleanup=[])}function Tg(t,n,i){return(null===t||ss(t))&&(i=function il(t){for(;Array.isArray(t);){if("object"==typeof t[Ii])return t;t=t[nr]}return null}(i[n.index])),i[Fn]}function uy(t,n){const i=t[Ei],o=i?i.get(Pl,null):null;o&&o.handleError(n)}function Rp(t,n,i,o,c){for(let h=0;h<i.length;){const y=i[h++],b=i[h++];ay(t.data[y],n[y],o,b,c)}}function sE(t,n){const i=Ms(n,t),o=i[tn];!function oE(t,n){for(let i=n.length;i<t.blueprint.length;i++)n.push(t.blueprint[i])}(o,i);const c=i[nr];null!==c&&null===i[Ui]&&(i[Ui]=Zm(c,i[Ei])),Mp(o,i,i[Or])}function Mp(t,n,i){xr(n);try{const o=t.viewQuery;null!==o&&Ig(1,o,i);const c=t.template;null!==c&&Yv(t,n,c,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&tf(t,n),t.staticViewQueries&&Ig(2,t.viewQuery,i);const h=t.components;null!==h&&function dy(t,n){for(let i=0;i<n.length;i++)sE(t,n[i])}(n,h)}catch(o){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),o}finally{n[Mn]&=-5,Ko()}}let hy=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(i,o,c){const h=typeof Zone>"u"?null:Zone.current,y=function Qe(t,n,i){const o=Object.create(pn);i&&(o.consumerAllowSignalWrites=!0),o.fn=t,o.schedule=n;const c=y=>{o.cleanupFn=y};return o.ref={notify:()=>W(o),run:()=>{if(o.dirty=!1,o.hasRun&&!Me(o))return;o.hasRun=!0;const y=re(o);try{o.cleanupFn(),o.cleanupFn=Mt,o.fn(c)}finally{Ce(o,y)}},cleanup:()=>o.cleanupFn()},o.ref}(i,B=>{this.all.has(B)&&this.queue.set(B,h)},c);let b;this.all.add(y),y.notify();const S=()=>{y.cleanup(),b?.(),this.all.delete(y),this.queue.delete(y)};return b=o?.onDestroy(S),{destroy:S}}flush(){if(0!==this.queue.size)for(const[i,o]of this.queue)this.queue.delete(i),o?o.run(()=>i.run()):i.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Zt({token:t,providedIn:"root",factory:()=>new t})}return t})();function e(t,n,i){let o=i?t.styles:null,c=i?t.classes:null,h=0;if(null!==n)for(let y=0;y<n.length;y++){const b=n[y];"number"==typeof b?h=b:1==h?c=qe(c,b):2==h&&(o=qe(o,b+": "+n[++y]+";"))}i?t.styles=o:t.stylesWithoutHost=o,i?t.classes=c:t.classesWithoutHost=c}function r(t,n,i,o,c=!1){for(;null!==i;){const h=n[i.index];null!==h&&o.push(Vr(h)),zr(h)&&s(h,o);const y=i.type;if(8&y)r(t,n,i.child,o);else if(32&y){const b=xs(i,n);let S;for(;S=b();)o.push(S)}else if(16&y){const b=g_(n,i);if(Array.isArray(b))o.push(...b);else{const S=bl(n[Qn]);r(S[tn],S,b,o,!0)}}i=c?i.projectionNext:i.next}return o}function s(t,n){for(let i=ti;i<t.length;i++){const o=t[i],c=o[tn].firstChild;null!==c&&r(o[tn],o,c,n)}t[Br]!==t[nr]&&n.push(t[Br])}function l(t,n,i,o=!0){const c=n[Zi],h=c.rendererFactory,y=c.afterRenderEventManager;h.begin?.(),y?.begin();try{D(t,n,t.template,i)}catch(S){throw o&&uy(n,S),S}finally{h.end?.(),c.effectManager?.flush(),y?.end()}}function D(t,n,i,o){const c=n[Mn];if(256!=(256&c)){n[Zi].effectManager?.flush(),xr(n);try{Cs(n),function ol(t){return er.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==i&&Yv(t,n,i,2,o);const y=3==(3&c);if(y){const B=t.preOrderCheckHooks;null!==B&&Zo(n,B,null)}else{const B=t.preOrderHooks;null!==B&&po(n,B,0,null),cl(n,0)}if(function H(t){for(let n=Za(t);null!==n;n=od(n)){if(!n[is])continue;const i=n[ms];for(let o=0;o<i.length;o++){zo(i[o])}}}(n),M(n,2),null!==t.contentQueries&&tf(t,n),y){const B=t.contentCheckHooks;null!==B&&Zo(n,B)}else{const B=t.contentHooks;null!==B&&po(n,B,1),cl(n,1)}!function gI(t,n){const i=t.hostBindingOpCodes;if(null===i)return;const o=Y_(n,Ds);try{for(let c=0;c<i.length;c++){const h=i[c];if(h<0)ll(~h);else{const y=h,b=i[++c],S=i[++c];j(b,y),o.dirty=!1;const B=re(o);try{S(2,n[y])}finally{Ce(o,B)}}}}finally{null===n[Ds]&&J_(n,Ds),ll(-1)}}(t,n);const b=t.components;null!==b&&xe(n,b,0);const S=t.viewQuery;if(null!==S&&Ig(2,S,o),y){const B=t.viewCheckHooks;null!==B&&Zo(n,B)}else{const B=t.viewHooks;null!==B&&po(n,B,2),cl(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[Mn]&=-73,Uc(n)}finally{Ko()}}}function M(t,n){for(let i=Za(t);null!==i;i=od(i))for(let o=ti;o<i.length;o++)ce(i[o],n)}function Q(t,n,i){ce(Ms(n,t),i)}function ce(t,n){if(!function Vc(t){return 128==(128&t[Mn])}(t))return;const i=t[tn],o=t[Mn];if(80&o&&0===n||1024&o||2===n)D(i,t,i.template,t[Or]);else if(t[ns]>0){M(t,1);const c=i.components;null!==c&&xe(t,c,1)}}function xe(t,n,i){for(let o=0;o<n.length;o++)Q(t,n[o],i)}class at{get rootNodes(){const n=this._lView,i=n[tn];return r(i,n,i.firstChild,[])}constructor(n,i){this._lView=n,this._cdRefInjectingView=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Or]}set context(n){this._lView[Or]=n}get destroyed(){return 256==(256&this._lView[Mn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[kn];if(zr(n)){const i=n[8],o=i?i.indexOf(this):-1;o>-1&&(Te(n,o),ki(i,o))}this._attachedToViewContainer=!1}ze(this._lView[tn],this._lView)}onDestroy(n){!function Sr(t,n){if(256==(256&t[Mn]))throw new ue(911,!1);null===t[ps]&&(t[ps]=[]),t[ps].push(n)}(this._lView,n)}markForCheck(){Kh(this._cdRefInjectingView||this._lView)}detach(){this._lView[Mn]&=-129}reattach(){this._lView[Mn]|=128}detectChanges(){l(this._lView[tn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ue(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function u(t,n){pu(t,n,n[Fn],2,null,null)}(this._lView[tn],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new ue(902,!1);this._appRef=n}}class Nt extends at{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;l(n[tn],n,n[Or],!1)}checkNoChanges(){}get context(){return null}}class qt extends Cc{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const i=lr(n);return new vn(i,this.ngModule)}}function Lt(t){const n=[];for(let i in t)t.hasOwnProperty(i)&&n.push({propName:t[i],templateName:i});return n}class Un{constructor(n,i){this.injector=n,this.parentInjector=i}get(n,i,o){o=en(o);const c=this.injector.get(n,eg,o);return c!==eg||i===eg?c:this.parentInjector.get(n,i,o)}}class vn extends Jm{get inputs(){const n=this.componentDef,i=n.inputTransforms,o=Lt(n.inputs);if(null!==i)for(const c of o)i.hasOwnProperty(c.propName)&&(c.transform=i[c.propName]);return o}get outputs(){return Lt(this.componentDef.outputs)}constructor(n,i){super(),this.componentDef=n,this.ngModule=i,this.componentType=n.type,this.selector=function Vi(t){return t.map(Lo).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!i}create(n,i,o,c){let h=(c=c||this.ngModule)instanceof xa?c:c?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const y=h?new Un(n,h):n,b=y.get(Hh,null);if(null===b)throw new ue(407,!1);const fe={rendererFactory:b,sanitizer:y.get($h,null),effectManager:y.get(hy,null),afterRenderEventManager:y.get(og,null)},Le=b.createRenderer(null,this.componentDef),Je=this.componentDef.selectors[0][0]||"div",xt=o?function dg(t,n,i,o){const h=o.get(Z_,!1)||i===zt.ShadowDom,y=t.selectRootElement(n,h);return function ry(t){hg(t)}(y),y}(Le,o,this.componentDef.encapsulation,y):yc(Le,Je,function Dn(t){const n=t.toLowerCase();return"svg"===n?_i:"math"===n?"math":null}(Je)),Bn=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Vt=null;null!==xt&&(Vt=Zm(xt,y,!0));const mr=ug(0,null,null,1,0,null,null,null,null,null,null),Mr=cg(null,mr,null,Bn,null,null,fe,Le,y,null,Vt);let pi,ca;xr(Mr);try{const Nu=this.componentDef;let um,tI=null;Nu.findHostDirectiveDefs?(um=[],tI=new Map,Nu.findHostDirectiveDefs(Nu,um,tI),um.push(Nu)):um=[Nu];const KA=function Rr(t,n){const i=t[tn],o=cr;return t[o]=n,qh(i,o,2,"#host",null)}(Mr,xt),qA=function Ir(t,n,i,o,c,h,y){const b=c[tn];!function $e(t,n,i,o){for(const c of t)n.mergedAttrs=Lr(n.mergedAttrs,c.hostAttrs);null!==n.mergedAttrs&&(e(n,n.mergedAttrs,!0),null!==i&&Dm(o,i,n))}(o,t,n,y);let S=null;null!==n&&(S=Zm(n,c[Ei]));const B=h.rendererFactory.createRenderer(n,i);let Z=16;i.signals?Z=4096:i.onPush&&(Z=64);const fe=cg(c,Qh(i),null,Z,c[t.index],t,h,B,null,null,S);return b.firstCreatePass&&Vl(b,t,o.length-1),nf(c,fe),c[t.index]=fe}(KA,xt,Nu,um,Mr,fe,Le);ca=Fu(mr,cr),xt&&function Fe(t,n,i,o){if(o)jn(t,i,["ng-version",Dd.full]);else{const{attrs:c,classes:h}=function Vo(t){const n=[],i=[];let o=1,c=2;for(;o<t.length;){let h=t[o];if("string"==typeof h)2===c?""!==h&&n.push(h,t[++o]):8===c&&i.push(h);else{if(!Ai(c))break;c=h}o++}return{attrs:n,classes:i}}(n.selectors[0]);c&&jn(t,i,c),h&&h.length>0&&Yf(t,i,h.join(" "))}}(Le,Nu,xt,o),void 0!==i&&function Ke(t,n,i){const o=t.projection=[];for(let c=0;c<n.length;c++){const h=i[c];o.push(null!=h?Array.from(h):null)}}(ca,this.ngContentSelectors,i),pi=function we(t,n,i,o,c,h){const y=wi(),b=c[tn],S=Ti(y,c);mg(b,c,y,i,null,o);for(let Z=0;Z<i.length;Z++)vs(go(c,b,y.directiveStart+Z,y),c);sy(b,c,y),S&&vs(S,c);const B=go(c,b,y.directiveStart+y.componentOffset,y);if(t[Or]=c[Or]=B,null!==h)for(const Z of h)Z(B,n);return ty(b,y,t),B}(qA,Nu,um,tI,Mr,[Xe]),Mp(mr,Mr,null)}finally{Ko()}return new ar(this.componentType,pi,vu(ca,Mr),Mr,ca)}}class ar extends yu{constructor(n,i,o,c,h){super(),this.location=o,this._rootLView=c,this._tNode=h,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new Nt(c),this.componentType=n}setInput(n,i){const o=this._tNode.inputs;let c;if(null!==o&&(c=o[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),i))return;const h=this._rootLView;Rp(h[tn],h,c,n,i),this.previousInputValues.set(n,i),Kh(Ms(this._tNode.index,h))}}get injector(){return new us(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function Xe(){const t=wi();fo(kt()[tn],t)}function ke(t){let n=function pt(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),i=!0;const o=[t];for(;n;){let c;if(ss(t))c=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new ue(903,!1);c=n.\u0275dir}if(c){if(i){o.push(c);const y=t;y.inputs=xc(t.inputs),y.inputTransforms=xc(t.inputTransforms),y.declaredInputs=xc(t.declaredInputs),y.outputs=xc(t.outputs);const b=c.hostBindings;b&&sf(t,b);const S=c.viewQuery,B=c.contentQueries;if(S&&aE(t,S),B&&rf(t,B),ae(t.inputs,c.inputs),ae(t.declaredInputs,c.declaredInputs),ae(t.outputs,c.outputs),null!==c.inputTransforms&&(null===y.inputTransforms&&(y.inputTransforms={}),ae(y.inputTransforms,c.inputTransforms)),ss(c)&&c.data.animation){const Z=t.data;Z.animation=(Z.animation||[]).concat(c.data.animation)}}const h=c.features;if(h)for(let y=0;y<h.length;y++){const b=h[y];b&&b.ngInherit&&b(t),b===ke&&(i=!1)}}n=Object.getPrototypeOf(n)}!function Ul(t){let n=0,i=null;for(let o=t.length-1;o>=0;o--){const c=t[o];c.hostVars=n+=c.hostVars,c.hostAttrs=Lr(c.hostAttrs,i=Lr(i,c.hostAttrs))}}(o)}function xc(t){return t===hr?{}:t===Qt?[]:t}function aE(t,n){const i=t.viewQuery;t.viewQuery=i?(o,c)=>{n(o,c),i(o,c)}:n}function rf(t,n){const i=t.contentQueries;t.contentQueries=i?(o,c,h)=>{n(o,c,h),i(o,c,h)}:n}function sf(t,n){const i=t.hostBindings;t.hostBindings=i?(o,c)=>{n(o,c),i(o,c)}:n}function my(t){const n=t.inputConfig,i={};for(const o in n)if(n.hasOwnProperty(o)){const c=n[o];Array.isArray(c)&&c[2]&&(i[o]=c[2])}t.inputTransforms=i}function wu(t){return!!lf(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function lf(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ks(t,n,i){return!Object.is(t[n],i)&&(t[n]=i,!0)}function uf(t,n,i,o){const c=kt();return ks(c,T(),n)&&(pr(),Xa(Kr(),c,t,n,i,o)),uf}function Od(t,n,i,o){return ks(t,T(),i)?n+me(i)+o:yr}function Fc(t,n,i,o,c,h,y,b){const S=kt(),B=pr(),Z=t+cr,fe=B.firstCreatePass?function ff(t,n,i,o,c,h,y,b,S){const B=n.consts,Z=qh(n,t,4,y||null,lo(B,b));xp(n,i,Z,lo(B,S)),fo(n,Z);const fe=Z.tView=ug(2,Z,o,c,h,n.directiveRegistry,n.pipeRegistry,null,n.schemas,B,null);return null!==n.queries&&(n.queries.template(n,Z),fe.queries=n.queries.embeddedTView(Z)),Z}(Z,B,S,n,i,o,c,h,y):B.data[Z];uo(fe,!1);const Le=$p(B,S,fe,t);ju()&&Ic(B,S,Le,fe),vs(Le,S),nf(S,S[Z]=Eg(Le,S,Le,fe)),oo(fe)&&ny(B,S,fe),null!=y&&Zh(S,fe,b)}let $p=function Sy(t,n,i,o){return ya(!0),n[Fn].createComment("")};function zp(t){return function sl(t,n){return t[n]}(function Wc(){return er.lFrame.contextLView}(),cr+t)}function pf(t,n,i){const o=kt();return ks(o,T(),n)&&Eo(pr(),Kr(),o,t,n,o[Fn],i,!1),pf}function Gp(t,n,i,o,c){const y=c?"class":"style";Rp(t,i,n.inputs[y],y,o)}function Wp(t,n,i,o){const c=kt(),h=pr(),y=cr+t,b=c[Fn],S=h.firstCreatePass?function Py(t,n,i,o,c,h){const y=n.consts,S=qh(n,t,2,o,lo(y,c));return xp(n,i,S,lo(y,h)),null!==S.attrs&&e(S,S.attrs,!1),null!==S.mergedAttrs&&e(S,S.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,S),S}(y,h,c,n,i,o):h.data[y],B=kg(h,c,S,b,n,t);c[y]=B;const Z=oo(S);return uo(S,!0),Dm(b,B,S),32!=(32&S.flags)&&ju()&&Ic(h,c,B,S),0===function jc(){return er.lFrame.elementDepthCount}()&&vs(B,c),function Hc(){er.lFrame.elementDepthCount++}(),Z&&(ny(h,c,S),ty(h,S,c)),null!==o&&Zh(c,S),Wp}function Kp(){let t=wi();Go()?Wo():(t=t.parent,uo(t,!1));const n=t;(function Yl(t){return er.skipHydrationRootTNode===t})(n)&&function Ua(){er.skipHydrationRootTNode=null}(),function $c(){er.lFrame.elementDepthCount--}();const i=pr();return i.firstCreatePass&&(fo(i,t),As(t)&&i.queries.elementEnd(t)),null!=n.classesWithoutHost&&function ul(t){return 0!=(8&t.flags)}(n)&&Gp(i,n,kt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function dl(t){return 0!=(16&t.flags)}(n)&&Gp(i,n,kt(),n.stylesWithoutHost,!1),Kp}function qp(t,n,i,o){return Wp(t,n,i,o),Kp(),qp}let kg=(t,n,i,o,c,h)=>(ya(!0),yc(o,c,function qo(){return er.lFrame.currentNamespace}()));function Fd(t,n,i){const o=kt(),c=pr(),h=t+cr,y=c.firstCreatePass?function Hl(t,n,i,o,c){const h=n.consts,y=lo(h,o),b=qh(n,t,8,"ng-container",y);return null!==y&&e(b,y,!0),xp(n,i,b,lo(h,c)),null!==n.queries&&n.queries.elementStart(n,b),b}(h,c,o,n,i):c.data[h];uo(y,!0);const b=yi(c,o,y,t);return o[h]=b,ju()&&Ic(c,o,b,y),vs(b,o),oo(y)&&(ny(c,o,y),ty(c,y,o)),null!=i&&Zh(o,y),Fd}function Ld(){let t=wi();const n=pr();return Go()?Wo():(t=t.parent,uo(t,!1)),n.firstCreatePass&&(fo(n,t),As(t)&&n.queries.elementEnd(t)),Ld}function Zp(t,n,i){return Fd(t,n,i),Ld(),Zp}let yi=(t,n,i,o)=>(ya(!0),na(n[Fn],""));function Vd(){return kt()}function Fg(t){return!!t&&"function"==typeof t.then}function Lg(t){return!!t&&"function"==typeof t.subscribe}function Vg(t,n,i,o){const c=kt(),h=pr(),y=wi();return Oy(h,c,c[Fn],y,t,n,o),Vg}function Ug(t,n){const i=wi(),o=kt(),c=pr();return Oy(c,o,Tg(gt(c.data),i,o),i,t,n),Ug}function Oy(t,n,i,o,c,h,y){const b=oo(o),B=t.firstCreatePass&&bg(t),Z=n[Or],fe=cy(n);let Le=!0;if(3&o.type||y){const Wt=Ti(o,n),mn=y?y(Wt):Wt,Bn=fe.length,Vt=y?Mr=>y(Vr(Mr[o.index])):o.index;let mr=null;if(!y&&b&&(mr=function fE(t,n,i,o){const c=t.cleanup;if(null!=c)for(let h=0;h<c.length-1;h+=2){const y=c[h];if(y===i&&c[h+1]===o){const b=n[rs],S=c[h+2];return b.length>S?b[S]:null}"string"==typeof y&&(h+=2)}return null}(t,n,c,o.index)),null!==mr)(mr.__ngLastListenerFn__||mr).__ngNextListenerFn__=h,mr.__ngLastListenerFn__=h,Le=!1;else{h=$l(o,n,Z,h,!1);const Mr=i.listen(mn,c,h);fe.push(h,Mr),B&&B.push(c,Vt,Bn,Bn+1)}}else h=$l(o,n,Z,h,!1);const Je=o.outputs;let xt;if(Le&&null!==Je&&(xt=Je[c])){const Wt=xt.length;if(Wt)for(let mn=0;mn<Wt;mn+=2){const pi=n[xt[mn]][xt[mn+1]].subscribe(h),ca=fe.length;fe.push(h,pi),B&&B.push(c,o.index,ca,-(ca+1))}}}function Ud(t,n,i,o){try{return ni(6,n,i),!1!==i(o)}catch(c){return uy(t,c),!1}finally{ni(7,n,i)}}function $l(t,n,i,o,c){return function h(y){if(y===Function)return o;Kh(t.componentOffset>-1?Ms(t.index,n):n);let S=Ud(n,i,o,y),B=h.__ngNextListenerFn__;for(;B;)S=Ud(n,i,B,y)&&S,B=B.__ngNextListenerFn__;return c&&!1===S&&y.preventDefault(),S}}function Bg(t=1){return function Vu(t){return(er.lFrame.contextLView=function Uu(t,n){for(;t>0;)n=n[Yi],t--;return n}(t,er.lFrame.contextLView))[Or]}(t)}function Ny(t,n){let i=null;const o=function Na(t){const n=t.attrs;if(null!=n){const i=n.indexOf(5);if(!(1&i))return n[i+1]}return null}(t);for(let c=0;c<n.length;c++){const h=n[c];if("*"!==h){if(null===o?no(t,h,!0):Fa(o,h))return c}else i=c}return i}function jg(t){const n=kt()[Qn][si];if(!n.projection){const o=n.projection=ru(t?t.length:1,null),c=o.slice();let h=n.child;for(;null!==h;){const y=t?Ny(h,t):0;null!==y&&(c[y]?c[y].projectionNext=h:o[y]=h,c[y]=h),h=h.next}}}function Mu(t,n=0,i){const o=kt(),c=pr(),h=qh(c,cr+t,16,null,i||null);null===h.projection&&(h.projection=n),Wo(),(!o[Ui]||co())&&32!=(32&h.flags)&&function cv(t,n,i){Qf(n[Fn],0,n,i,gn(t,i,n),cd(i.parent||n[si],i,n))}(c,o,h)}function Lc(t,n){return t<<17|n<<2}function Gl(t){return t>>17&32767}function Gg(t){return 2|t}function Pu(t){return(131068&t)>>2}function Yp(t,n){return-131069&t|n<<2}function Jp(t){return 1|t}function jy(t,n,i,o,c){const h=t[i+1],y=null===n;let b=o?Gl(h):Pu(h),S=!1;for(;0!==b&&(!1===S||y);){const Z=t[b+1];_f(t[b],n)&&(S=!0,t[b+1]=o?Jp(Z):Gg(Z)),b=o?Gl(Z):Pu(Z)}S&&(t[i+1]=o?Gg(h):Jp(h))}function _f(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&ba(t,n)>=0}const fs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Xp(t){return t.substring(fs.key,fs.keyEnd)}function yf(t,n){const i=fs.textEnd;return i===n?-1:(n=fs.keyEnd=function $y(t,n,i){for(;n<i&&t.charCodeAt(n)>32;)n++;return n}(t,fs.key=n,i),Ou(t,n,i))}function Ou(t,n,i){for(;n<i&&t.charCodeAt(n)<=32;)n++;return n}function nm(t,n,i){return bo(t,n,i,!1),nm}function Kl(t,n){return bo(t,n,null,!0),Kl}function Oa(t,n){for(let i=function Hy(t){return function Hd(t){fs.key=0,fs.keyEnd=0,fs.value=0,fs.valueEnd=0,fs.textEnd=t.length}(t),yf(t,Ou(t,0,fs.textEnd))}(n);i>=0;i=yf(n,i))Js(t,Xp(n),!0)}function bo(t,n,i,o){const c=kt(),h=pr(),y=C(2);h.firstUpdatePass&&Qg(h,t,y,o),n!==yr&&ks(c,y,n)&&Hr(h,h.data[Ps()],c,c[Fn],t,c[y+1]=function zd(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=Ee(Cl(t)))),t}(n,i),o,y)}function Zg(t,n){return n>=t.expandoStartIndex}function Qg(t,n,i,o){const c=t.data;if(null===c[i+1]){const h=c[Ps()],y=Zg(t,i);oa(h,o)&&null===n&&!y&&(n=!1),n=function $d(t,n,i,o){const c=gt(t);let h=o?n.residualClasses:n.residualStyles;if(null===c)0===(o?n.classBindings:n.styleBindings)&&(i=et(i=ie(null,t,n,i,o),n.attrs,o),h=null);else{const y=n.directiveStylingLast;if(-1===y||t[y]!==c)if(i=ie(c,t,n,i,o),null===h){let S=function m(t,n,i){const o=i?n.classBindings:n.styleBindings;if(0!==Pu(o))return t[Gl(o)]}(t,n,o);void 0!==S&&Array.isArray(S)&&(S=ie(null,t,n,S[1],o),S=et(S,n.attrs,o),function P(t,n,i,o){t[Gl(i?n.classBindings:n.styleBindings)]=o}(t,n,o,S))}else h=function $(t,n,i){let o;const c=n.directiveEnd;for(let h=1+n.directiveStylingLast;h<c;h++)o=et(o,t[h].hostAttrs,i);return et(o,n.attrs,i)}(t,n,o)}return void 0!==h&&(o?n.residualClasses=h:n.residualStyles=h),i}(c,h,n,o),function Wl(t,n,i,o,c,h){let y=h?n.classBindings:n.styleBindings,b=Gl(y),S=Pu(y);t[o]=i;let Z,B=!1;if(Array.isArray(i)?(Z=i[1],(null===Z||ba(i,Z)>0)&&(B=!0)):Z=i,c)if(0!==S){const Le=Gl(t[b+1]);t[o+1]=Lc(Le,b),0!==Le&&(t[Le+1]=Yp(t[Le+1],o)),t[b+1]=function Wi(t,n){return 131071&t|n<<17}(t[b+1],o)}else t[o+1]=Lc(b,0),0!==b&&(t[b+1]=Yp(t[b+1],o)),b=o;else t[o+1]=Lc(S,0),0===b?b=o:t[S+1]=Yp(t[S+1],o),S=o;B&&(t[o+1]=Gg(t[o+1])),jy(t,Z,o,!0),jy(t,Z,o,!1),function By(t,n,i,o,c){const h=c?t.residualClasses:t.residualStyles;null!=h&&"string"==typeof n&&ba(h,n)>=0&&(i[o+1]=Jp(i[o+1]))}(n,Z,t,o,h),y=Lc(b,S),h?n.classBindings=y:n.styleBindings=y}(c,h,n,i,y,o)}}function ie(t,n,i,o,c){let h=null;const y=i.directiveEnd;let b=i.directiveStylingLast;for(-1===b?b=i.directiveStart:b++;b<y&&(h=n[b],o=et(o,h.hostAttrs,c),h!==t);)b++;return null!==t&&(i.directiveStylingLast=b),o}function et(t,n,i){const o=i?1:2;let c=-1;if(null!==n)for(let h=0;h<n.length;h++){const y=n[h];"number"==typeof y?c=y:c===o&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Js(t,y,!!i||n[++h]))}return void 0===t?null:t}function Hr(t,n,i,o,c,h,y,b){if(!(3&n.type))return;const S=t.data,B=S[b+1],Z=function Uy(t){return 1==(1&t)}(B)?Ls(S,n,i,c,Pu(B),y):void 0;Es(Z)||(Es(h)||function zg(t){return 2==(2&t)}(B)&&(h=Ls(S,null,i,c,b,y)),function wm(t,n,i,o,c){if(n)c?t.addClass(i,o):t.removeClass(i,o);else{let h=-1===o.indexOf("-")?void 0:Xs.DashCase;null==c?t.removeStyle(i,o,h):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),h|=Xs.Important),t.setStyle(i,o,c,h))}}(o,y,Ql(Ps(),i),c,h))}function Ls(t,n,i,o,c,h){const y=null===n;let b;for(;c>0;){const S=t[c],B=Array.isArray(S),Z=B?S[1]:S,fe=null===Z;let Le=i[c+1];Le===yr&&(Le=fe?Qt:void 0);let Je=fe?cc(Le,o):Z===o?Le:void 0;if(B&&!Es(Je)&&(Je=cc(S,o)),Es(Je)&&(b=Je,y))return b;const xt=t[c+1];c=y?Gl(xt):Pu(xt)}if(null!==n){let S=h?n.residualClasses:n.residualStyles;null!=S&&(b=cc(S,o))}return b}function Es(t){return void 0!==t}function oa(t,n){return 0!=(t.flags&(n?8:16))}function Ef(t,n=""){const i=kt(),o=pr(),c=t+cr,h=o.firstCreatePass?qh(o,c,1,n,null):o.data[c],y=rm(o,i,h,n,t);i[c]=y,ju()&&Ic(o,i,y,h),uo(h,!1)}let rm=(t,n,i,o,c)=>(ya(!0),function Ya(t,n){return t.createText(n)}(n[Fn],o));function _E(t){return Ky("",t,""),_E}function Ky(t,n,i){const o=kt(),c=Od(o,t,n,i);return c!==yr&&function el(t,n,i){const o=Ql(n,t);!function Tl(t,n,i){t.setValue(n,i)}(t[Fn],o,i)}(o,Ps(),c),Ky}function CI(t,n,i){!function Fi(t,n,i,o){const c=pr(),h=C(2);c.firstUpdatePass&&Qg(c,null,h,o);const y=kt();if(i!==yr&&ks(y,h,i)){const b=c.data[Ps()];if(oa(b,o)&&!Zg(c,h)){let S=o?b.classesWithoutHost:b.stylesWithoutHost;null!==S&&(i=qe(S,i||"")),Gp(c,b,y,i,o)}else!function Fs(t,n,i,o,c,h,y,b){c===yr&&(c=Qt);let S=0,B=0,Z=0<c.length?c[0]:null,fe=0<h.length?h[0]:null;for(;null!==Z||null!==fe;){const Le=S<c.length?c[S+1]:void 0,Je=B<h.length?h[B+1]:void 0;let Wt,xt=null;Z===fe?(S+=2,B+=2,Le!==Je&&(xt=fe,Wt=Je)):null===fe||null!==Z&&Z<fe?(S+=2,xt=Z):(B+=2,xt=fe,Wt=Je),null!==xt&&Hr(t,n,i,o,xt,Wt,y,b),Z=S<c.length?c[S]:null,fe=B<h.length?h[B]:null}}(c,b,y,y[Fn],y[h+1],y[h+1]=function bt(t,n,i){if(null==i||""===i)return Qt;const o=[],c=Cl(i);if(Array.isArray(c))for(let h=0;h<c.length;h++)t(o,c[h],!0);else if("object"==typeof c)for(const h in c)c.hasOwnProperty(h)&&t(o,h,c[h]);else"string"==typeof c&&n(o,c);return o}(t,n,i),o,h)}}(Js,Oa,Od(kt(),t,n,i),!0)}function yE(t,n,i){const o=kt();return ks(o,T(),n)&&Eo(pr(),Kr(),o,t,n,o[Fn],i,!0),yE}function vE(t,n,i){const o=kt();if(ks(o,T(),n)){const h=pr(),y=Kr();Eo(h,y,o,t,n,Tg(gt(h.data),y,o),i,!0)}return vE}const If=void 0;var gT=["en",[["a","p"],["AM","PM"],If],[["AM","PM"],If,If],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],If,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],If,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",If,"{1} 'at' {0}",If],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function mT(t){const i=Math.floor(Math.abs(t)),o=t.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===o?1:5}];let im={};function EE(t){const n=function _T(t){return t.toLowerCase().replace(/_/g,"-")}(t);let i=VI(n);if(i)return i;const o=n.split("-")[0];if(i=VI(o),i)return i;if("en"===o)return gT;throw new ue(701,!1)}function LI(t){return EE(t)[sm.PluralCase]}function VI(t){return t in im||(im[t]=ir.ng&&ir.ng.common&&ir.ng.common.locales&&ir.ng.common.locales[t]),im[t]}var sm=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(sm||{});const om="en-US";let UI=om;function TE(t,n,i,o,c){if(t=ht(t),Array.isArray(t))for(let h=0;h<t.length;h++)TE(t[h],n,i,o,c);else{const h=pr(),y=kt(),b=wi();let S=Tc(t)?t:ht(t.provide);const B=M_(t),Z=1048575&b.providerIndexes,fe=b.directiveStart,Le=b.providerIndexes>>20;if(Tc(t)||!t.multi){const Je=new Ba(B,c,Sd),xt=DE(S,n,c?Z:Z+Le,fe);-1===xt?(Ha(Yc(b,y),h,S),wE(h,t,n.length),n.push(S),b.directiveStart++,b.directiveEnd++,c&&(b.providerIndexes+=1048576),i.push(Je),y.push(Je)):(i[xt]=Je,y[xt]=Je)}else{const Je=DE(S,n,Z+Le,fe),xt=DE(S,n,Z,Z+Le),mn=xt>=0&&i[xt];if(c&&!mn||!c&&!(Je>=0&&i[Je])){Ha(Yc(b,y),h,S);const Bn=function mw(t,n,i,o,c){const h=new Ba(t,i,Sd);return h.multi=[],h.index=n,h.componentProviders=0,d0(h,c,o&&!i),h}(c?pw:fw,i.length,c,o,B);!c&&mn&&(i[xt].providerFactory=Bn),wE(h,t,n.length,0),n.push(S),b.directiveStart++,b.directiveEnd++,c&&(b.providerIndexes+=1048576),i.push(Bn),y.push(Bn)}else wE(h,t,Je>-1?Je:xt,d0(i[c?xt:Je],B,!c&&o));!c&&o&&mn&&i[xt].componentProviders++}}}function wE(t,n,i,o){const c=Tc(n),h=function S_(t){return!!t.useClass}(n);if(c||h){const S=(h?ht(n.useClass):n).prototype.ngOnDestroy;if(S){const B=t.destroyHooks||(t.destroyHooks=[]);if(!c&&n.multi){const Z=B.indexOf(i);-1===Z?B.push(i,[o,S]):B[Z+1].push(o,S)}else B.push(i,S)}}}function d0(t,n,i){return i&&t.componentProviders++,t.multi.push(n)-1}function DE(t,n,i,o){for(let c=i;c<o;c++)if(n[c]===t)return c;return-1}function fw(t,n,i,o){return AE(this.multi,[])}function pw(t,n,i,o){const c=this.multi;let h;if(this.providerFactory){const y=this.providerFactory.componentProviders,b=go(i,i[tn],this.providerFactory.index,o);h=b.slice(0,y),AE(c,h);for(let S=y;S<b.length;S++)h.push(b[S])}else h=[],AE(c,h);return h}function AE(t,n){for(let i=0;i<t.length;i++)n.push((0,t[i])());return n}function h0(t,n=[]){return i=>{i.providersResolver=(o,c)=>function hw(t,n,i){const o=pr();if(o.firstCreatePass){const c=ss(t);TE(i,o.data,o.blueprint,c,!0),TE(n,o.data,o.blueprint,c,!1)}}(o,c?c(t):t,n)}}class bf{}class f0{}function gw(t,n){return new CE(t,n??null,[])}class CE extends bf{constructor(n,i,o){super(),this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new qt(this);const c=Wn(n);this._bootstrapComponents=Fl(c.bootstrap),this._r3Injector=j_(n,i,[{provide:bf,useValue:this},{provide:Cc,useValue:this.componentFactoryResolver},...o],Ee(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class SE extends f0{constructor(n){super(),this.moduleType=n}create(n){return new CE(this.moduleType,n,[])}}class p0 extends bf{constructor(n){super(),this.componentFactoryResolver=new qt(this),this.instance=null;const i=new Gi([...n.providers,{provide:bf,useValue:this},{provide:Cc,useValue:this.componentFactoryResolver}],n.parent||wc(),n.debugName,new Set(["environment"]));this.injector=i,n.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function m0(t,n,i=null){return new p0({providers:t,parent:n,debugName:i,runEnvironmentInitializers:!0}).injector}let yw=(()=>{class t{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){const o=D_(0,i.type),c=o.length>0?m0([o],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,c)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Zt({token:t,providedIn:"environment",factory:()=>new t(Yt(xa))})}return t})();function g0(t){t.getStandaloneInjector=n=>n.get(yw).getOrCreateStandaloneInjector(t)}function zw(){return this._results[Symbol.iterator]()}class Jy{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Ol)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const i=Jy.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=zw)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,i){return this._results.reduce(n,i)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,i){const o=this;o.dirty=!1;const c=function vo(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Pf(t,n,i){if(t.length!==n.length)return!1;for(let o=0;o<t.length;o++){let c=t[o],h=n[o];if(i&&(c=i(c),h=i(h)),h!==c)return!1}return!0}(o._results,c,i))&&(o._results=c,o.length=c.length,o.last=c[this.length-1],o.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function Ww(t,n,i,o=!0){const c=n[tn];if(function v(t,n,i,o){const c=ti+o,h=i.length;o>0&&(i[c-1][ei]=n),o<h-ti?(n[ei]=i[c],lc(i,ti+o,n)):(i.push(n),n[ei]=null),n[kn]=i;const y=n[ws];null!==y&&i!==y&&function L(t,n){const i=t[ms];n[Qn]!==n[kn][kn][Qn]&&(t[is]=!0),null===i?t[ms]=[n]:i.push(n)}(y,n);const b=n[Yr];null!==b&&b.insertView(t),n[Mn]|=128}(c,n,t,i),o){const h=Ih(i,t),y=n[Fn],b=Ec(y,t[Br]);null!==b&&function _(t,n,i,o,c,h){o[nr]=c,o[si]=n,pu(t,o,i,1,c,h)}(c,t[si],y,n,b,h)}}let i_=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=Zw}return t})();const Kw=i_,qw=class extends Kw{constructor(n,i,o){super(),this._declarationLView=n,this._declarationTContainer=i,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,i){return this.createEmbeddedViewImpl(n,i)}createEmbeddedViewImpl(n,i,o){const c=function Gw(t,n,i,o){const c=n.tView,b=cg(t,c,i,4096&t[Mn]?4096:16,null,n,null,null,null,o?.injector??null,o?.hydrationInfo??null);b[ws]=t[n.index];const B=t[Yr];return null!==B&&(b[Yr]=B.createEmbeddedView(c)),Mp(c,b,i),b}(this._declarationLView,this._declarationTContainer,n,{injector:i,hydrationInfo:o});return new at(c)}};function Zw(){return Xy(wi(),kt())}function Xy(t,n){return 4&t.type?new qw(n,t,vu(t,n)):null}let tv=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=tD}return t})();function tD(){return N0(wi(),kt())}const nD=tv,P0=class extends nD{constructor(n,i,o){super(),this._lContainer=n,this._hostTNode=i,this._hostLView=o}get element(){return vu(this._hostTNode,this._hostLView)}get injector(){return new us(this._hostTNode,this._hostLView)}get parentInjector(){const n=fl(this._hostTNode,this._hostLView);if(Zc(n)){const i=Ea(n,this._hostLView),o=ec(n);return new us(i[tn].data[o+8],i)}return new us(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const i=O0(this._lContainer);return null!==i&&i[n]||null}get length(){return this._lContainer.length-ti}createEmbeddedView(n,i,o){let c,h;"number"==typeof o?c=o:null!=o&&(c=o.index,h=o.injector);const b=n.createEmbeddedViewImpl(i||{},h,null);return this.insertImpl(b,c,false),b}createComponent(n,i,o,c,h){const y=n&&!function nu(t){return"function"==typeof t}(n);let b;if(y)b=i;else{const Wt=i||{};b=Wt.index,o=Wt.injector,c=Wt.projectableNodes,h=Wt.environmentInjector||Wt.ngModuleRef}const S=y?n:new vn(lr(n)),B=o||this.parentInjector;if(!h&&null==S.ngModule){const mn=(y?B:this.parentInjector).get(xa,null);mn&&(h=mn)}lr(S.componentType??{});const Je=S.create(B,c,null,h);return this.insertImpl(Je.hostView,b,false),Je}insert(n,i){return this.insertImpl(n,i,!1)}insertImpl(n,i,o){const c=n._lView;if(function Wd(t){return zr(t[kn])}(c)){const S=this.indexOf(n);if(-1!==S)this.detach(S);else{const B=c[kn],Z=new P0(B,B[si],B[kn]);Z.detach(Z.indexOf(n))}}const y=this._adjustIndex(i),b=this._lContainer;return Ww(b,c,y,!o),n.attachToViewContainerRef(),lc(RE(b),y,n),n}move(n,i){return this.insert(n,i)}indexOf(n){const i=O0(this._lContainer);return null!==i?i.indexOf(n):-1}remove(n){const i=this._adjustIndex(n,-1),o=Te(this._lContainer,i);o&&(ki(RE(this._lContainer),i),ze(o[tn],o))}detach(n){const i=this._adjustIndex(n,-1),o=Te(this._lContainer,i);return o&&null!=ki(RE(this._lContainer),i)?new at(o):null}_adjustIndex(n,i=0){return n??this.length+i}};function O0(t){return t[8]}function RE(t){return t[8]||(t[8]=[])}function N0(t,n){let i;const o=n[t.index];return zr(o)?i=o:(i=Eg(o,n,null,t),n[t.index]=i,nf(n,i)),k0(i,n,t,o),new P0(i,t,n)}let k0=function F0(t,n,i,o){if(t[Br])return;let c;c=8&i.type?Vr(o):function rD(t,n){const i=t[Fn],o=i.createComment(""),c=Ti(n,t);return ds(i,Ec(i,c),o,function ld(t,n){return t.nextSibling(n)}(i,c),!1),o}(n,i),t[Br]=c};class ME{constructor(n){this.queryList=n,this.matches=null}clone(){return new ME(this.queryList)}setDirty(){this.queryList.setDirty()}}class PE{constructor(n=[]){this.queries=n}createEmbeddedView(n){const i=n.queries;if(null!==i){const o=null!==n.contentQueries?n.contentQueries[0]:i.length,c=[];for(let h=0;h<o;h++){const y=i.getByIndex(h);c.push(this.queries[y.indexInDeclarationView].clone())}return new PE(c)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let i=0;i<this.queries.length;i++)null!==G0(n,i).matches&&this.queries[i].setDirty()}}class L0{constructor(n,i,o=null){this.predicate=n,this.flags=i,this.read=o}}class OE{constructor(n=[]){this.queries=n}elementStart(n,i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(n,i)}elementEnd(n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(n)}embeddedTView(n){let i=null;for(let o=0;o<this.length;o++){const c=null!==i?i.length:0,h=this.getByIndex(o).embeddedTView(n,c);h&&(h.indexInDeclarationView=o,null!==i?i.push(h):i=[h])}return null!==i?new OE(i):null}template(n,i){for(let o=0;o<this.queries.length;o++)this.queries[o].template(n,i)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class NE{constructor(n,i=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(n,i){this.isApplyingToNode(i)&&this.matchTNode(n,i)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,i){this.elementStart(n,i)}embeddedTView(n,i){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,i),new NE(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const i=this._declarationNodeIndex;let o=n.parent;for(;null!==o&&8&o.type&&o.index!==i;)o=o.parent;return i===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(n,i){const o=this.metadata.predicate;if(Array.isArray(o))for(let c=0;c<o.length;c++){const h=o[c];this.matchTNodeWithReadOption(n,i,oD(i,h)),this.matchTNodeWithReadOption(n,i,Yo(i,n,h,!1,!1))}else o===i_?4&i.type&&this.matchTNodeWithReadOption(n,i,-1):this.matchTNodeWithReadOption(n,i,Yo(i,n,o,!1,!1))}matchTNodeWithReadOption(n,i,o){if(null!==o){const c=this.metadata.read;if(null!==c)if(c===Rl||c===tv||c===i_&&4&i.type)this.addMatch(i.index,-2);else{const h=Yo(i,n,c,!1,!1);null!==h&&this.addMatch(i.index,h)}else this.addMatch(i.index,o)}}addMatch(n,i){null===this.matches?this.matches=[n,i]:this.matches.push(n,i)}}function oD(t,n){const i=t.localNames;if(null!==i)for(let o=0;o<i.length;o+=2)if(i[o]===n)return i[o+1];return null}function lD(t,n,i,o){return-1===i?function aD(t,n){return 11&t.type?vu(t,n):4&t.type?Xy(t,n):null}(n,t):-2===i?function cD(t,n,i){return i===Rl?vu(n,t):i===i_?Xy(n,t):i===tv?N0(n,t):void 0}(t,n,o):go(t,t[tn],i,n)}function V0(t,n,i,o){const c=n[Yr].queries[o];if(null===c.matches){const h=t.data,y=i.matches,b=[];for(let S=0;S<y.length;S+=2){const B=y[S];b.push(B<0?null:lD(n,h[B],y[S+1],i.metadata.read))}c.matches=b}return c.matches}function kE(t,n,i,o){const c=t.queries.getByIndex(i),h=c.matches;if(null!==h){const y=V0(t,n,c,i);for(let b=0;b<h.length;b+=2){const S=h[b];if(S>0)o.push(y[b/2]);else{const B=h[b+1],Z=n[-S];for(let fe=ti;fe<Z.length;fe++){const Le=Z[fe];Le[ws]===Le[kn]&&kE(Le[tn],Le,B,o)}if(null!==Z[ms]){const fe=Z[ms];for(let Le=0;Le<fe.length;Le++){const Je=fe[Le];kE(Je[tn],Je,B,o)}}}}}return o}function U0(t){const n=kt(),i=pr(),o=ft();cn(o+1);const c=G0(i,o);if(t.dirty&&function fa(t){return 4==(4&t[Mn])}(n)===(2==(2&c.metadata.flags))){if(null===c.matches)t.reset([]);else{const h=c.crossesNgTemplate?kE(i,n,o,[]):V0(i,n,c,o);t.reset(h,Nv),t.notifyOnChanges()}return!0}return!1}function B0(t,n,i){const o=pr();o.firstCreatePass&&(z0(o,new L0(t,n,i),-1),2==(2&n)&&(o.staticViewQueries=!0)),$0(o,kt(),n)}function j0(t,n,i,o){const c=pr();if(c.firstCreatePass){const h=wi();z0(c,new L0(n,i,o),h.index),function dD(t,n){const i=t.contentQueries||(t.contentQueries=[]);n!==(i.length?i[i.length-1]:-1)&&i.push(t.queries.length-1,n)}(c,t),2==(2&i)&&(c.staticContentQueries=!0)}$0(c,kt(),i)}function H0(){return function uD(t,n){return t[Yr].queries[n].queryList}(kt(),ft())}function $0(t,n,i){const o=new Jy(4==(4&i));(function Xv(t,n,i,o){const c=cy(n);c.push(i),t.firstCreatePass&&bg(t).push(o,c.length-1)})(t,n,o,o.destroy),null===n[Yr]&&(n[Yr]=new PE),n[Yr].queries.push(new ME(o))}function z0(t,n,i){null===t.queries&&(t.queries=new OE),t.queries.track(new NE(n,i))}function G0(t,n){return t.queries.getByIndex(n)}function W0(t,n){return Xy(t,n)}function FE(t){return!!Wn(t)}const cb=new At("Application Initializer");let jE=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,o)=>{this.resolve=i,this.reject=o}),this.appInits=be(cb,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const i=[];for(const c of this.appInits){const h=c();if(Fg(h))i.push(h);else if(Lg(h)){const y=new Promise((b,S)=>{h.subscribe({complete:b,error:S})});i.push(y)}}const o=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{o()}).catch(c=>{this.reject(c)}),0===i.length&&o(),this.initialized=!0}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275prov=Zt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ub=(()=>{class t{log(i){console.log(i)}warn(i){console.warn(i)}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275prov=Zt({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const rv=new At("LocaleId",{providedIn:"root",factory:()=>be(rv,fn.Optional|fn.SkipSelf)||function PD(){return typeof $localize<"u"&&$localize.locale||om}()}),OD=new At("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let db=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ye.X(!1)}add(){this.hasPendingTasks.next(!0);const i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275prov=Zt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class kD{constructor(n,i){this.ngModuleFactory=n,this.componentFactories=i}}let FD=(()=>{class t{compileModuleSync(i){return new SE(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const o=this.compileModuleSync(i),h=Fl(Wn(i).declarations).reduce((y,b)=>{const S=lr(b);return S&&y.push(new vn(S)),y},[]);return new kD(o,h)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275prov=Zt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const mb=new At(""),gb=new At("");let zE,iA=(()=>{class t{constructor(i,o,c){this._ngZone=i,this.registry=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,zE||(function sA(t){zE=t}(c),c.addToWindow(o)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Mi.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb(this._didWork)}this._didWork=!1});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(i)||(clearTimeout(o.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,o,c){let h=-1;o&&o>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==h),i(this._didWork,this.getPendingTasks())},o)),this._callbacks.push({doneCb:i,timeoutId:h,updateCb:c})}whenStable(i,o,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,o,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,o,c){return[]}static#e=this.\u0275fac=function(o){return new(o||t)(Yt(Mi),Yt(_b),Yt(gb))};static#t=this.\u0275prov=Zt({token:t,factory:t.\u0275fac})}return t})(),_b=(()=>{class t{constructor(){this._applications=new Map}registerApplication(i,o){this._applications.set(i,o)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,o=!0){return zE?.findTestabilityInTree(this,i,o)??null}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275prov=Zt({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),Gd=null;const yb=new At("AllowMultipleToken"),GE=new At("PlatformDestroyListeners"),WE=new At("appBootstrapListener");class lA{constructor(n,i){this.name=n,this.token=i}}function Ib(t,n,i=[]){const o=`Platform: ${n}`,c=new At(o);return(h=[])=>{let y=KE();if(!y||y.injector.get(yb,!1)){const b=[...i,...h,{provide:c,useValue:!0}];t?t(b):function cA(t){if(Gd&&!Gd.get(yb,!1))throw new ue(400,!1);(function vb(){!function _s(t){gi=t}(()=>{throw new ue(600,!1)})})(),Gd=t;const n=t.get(Tb);(function Eb(t){t.get(ri,null)?.forEach(i=>i())})(t)}(function bb(t=[],n){return Ma.create({name:n,providers:[{provide:vd,useValue:"platform"},{provide:GE,useValue:new Set([()=>Gd=null])},...t]})}(b,o))}return function dA(t){const n=KE();if(!n)throw new ue(401,!1);return n}()}}function KE(){return Gd?.get(Tb)??null}let Tb=(()=>{class t{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,o){const c=function hA(t="zone.js",n){return"noop"===t?new Hv:"zone.js"===t?new Mi(n):t}(o?.ngZone,function wb(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:o?.ngZoneEventCoalescing,runCoalescing:o?.ngZoneRunCoalescing}));return c.run(()=>{const h=function _w(t,n,i){return new CE(t,n,i)}(i.moduleType,this.injector,function xb(t){return[{provide:Mi,useFactory:t},{provide:Nh,multi:!0,useFactory:()=>{const n=be(pA,{optional:!0});return()=>n.initialize()}},{provide:Sb,useFactory:fA},{provide:G_,useFactory:W_}]}(()=>c)),y=h.injector.get(Pl,null);return c.runOutsideAngular(()=>{const b=c.onError.subscribe({next:S=>{y.handleError(S)}});h.onDestroy(()=>{sv(this._modules,h),b.unsubscribe()})}),function Db(t,n,i){try{const o=i();return Fg(o)?o.catch(c=>{throw n.runOutsideAngular(()=>t.handleError(c)),c}):o}catch(o){throw n.runOutsideAngular(()=>t.handleError(o)),o}}(y,c,()=>{const b=h.injector.get(jE);return b.runInitializers(),b.donePromise.then(()=>(function BI(t){jt(t,"Expected localeId to be defined"),"string"==typeof t&&(UI=t.toLowerCase().replace(/_/g,"-"))}(h.injector.get(rv,om)||om),this._moduleDoBootstrap(h),h))})})}bootstrapModule(i,o=[]){const c=Ab({},o);return function oA(t,n,i){const o=new SE(i);return Promise.resolve(o)}(0,0,i).then(h=>this.bootstrapModuleFactory(h,c))}_moduleDoBootstrap(i){const o=i.injector.get(cm);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(c=>o.bootstrap(c));else{if(!i.instance.ngDoBootstrap)throw new ue(-403,!1);i.instance.ngDoBootstrap(o)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ue(404,!1);this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o());const i=this._injector.get(GE,null);i&&(i.forEach(o=>o()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(o){return new(o||t)(Yt(Ma))};static#t=this.\u0275prov=Zt({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function Ab(t,n){return Array.isArray(n)?n.reduce(Ab,t):{...t,...n}}let cm=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=be(Sb),this.zoneIsStable=be(G_),this.componentTypes=[],this.components=[],this.isStable=be(db).hasPendingTasks.pipe((0,Pe.w)(i=>i?(0,_e.of)(!1):this.zoneIsStable),(0,le.x)(),(0,ve.B)()),this._injector=be(xa)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,o){const c=i instanceof Jm;if(!this._injector.get(jE).done)throw!c&&Ur(i),new ue(405,!1);let y;y=c?i:this._injector.get(Cc).resolveComponentFactory(i),this.componentTypes.push(y.componentType);const b=function aA(t){return t.isBoundToModule}(y)?void 0:this._injector.get(bf),B=y.create(Ma.NULL,[],o||y.selector,b),Z=B.location.nativeElement,fe=B.injector.get(mb,null);return fe?.registerApplication(Z),B.onDestroy(()=>{this.detachView(B.hostView),sv(this.components,B),fe?.unregisterApplication(Z)}),this._loadComponent(B),B}tick(){if(this._runningTick)throw new ue(101,!1);try{this._runningTick=!0;for(let i of this._views)i.detectChanges()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1}}attachView(i){const o=i;this._views.push(o),o.attachToAppRef(this)}detachView(i){const o=i;sv(this._views,o),o.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);const o=this._injector.get(WE,[]);o.push(...this._bootstrapListeners),o.forEach(c=>c(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>sv(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new ue(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275prov=Zt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function sv(t,n){const i=t.indexOf(n);i>-1&&t.splice(i,1)}const Sb=new At("",{providedIn:"root",factory:()=>be(Pl).handleError.bind(void 0)});function fA(){const t=be(Mi),n=be(Pl);return i=>t.runOutsideAngular(()=>n.handleError(i))}let pA=(()=>{class t{constructor(){this.zone=be(Mi),this.applicationRef=be(cm)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275prov=Zt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function gA(){return!1}let _A=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=yA}return t})();function yA(t){return function vA(t,n,i){if(Ni(t)&&!i){const o=Ms(t.index,n);return new at(o,o)}return 47&t.type?new at(n[Qn],n):null}(wi(),kt(),16==(16&t))}class Ob{constructor(){}supports(n){return wu(n)}create(n){return new DA(n)}}const wA=(t,n)=>n;class DA{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||wA}forEachItem(n){let i;for(i=this._itHead;null!==i;i=i._next)n(i)}forEachOperation(n){let i=this._itHead,o=this._removalsHead,c=0,h=null;for(;i||o;){const y=!o||i&&i.currentIndex<kb(o,c,h)?i:o,b=kb(y,c,h),S=y.currentIndex;if(y===o)c--,o=o._nextRemoved;else if(i=i._next,null==y.previousIndex)c++;else{h||(h=[]);const B=b-c,Z=S-c;if(B!=Z){for(let Le=0;Le<B;Le++){const Je=Le<h.length?h[Le]:h[Le]=0,xt=Je+Le;Z<=xt&&xt<B&&(h[Le]=Je+1)}h[y.previousIndex]=Z-B}}b!==S&&n(y,b,S)}}forEachPreviousItem(n){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachMovedItem(n){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}forEachIdentityChange(n){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)n(i)}diff(n){if(null==n&&(n=[]),!wu(n))throw new ue(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let c,h,y,i=this._itHead,o=!1;if(Array.isArray(n)){this.length=n.length;for(let b=0;b<this.length;b++)h=n[b],y=this._trackByFn(b,h),null!==i&&Object.is(i.trackById,y)?(o&&(i=this._verifyReinsertion(i,h,y,b)),Object.is(i.item,h)||this._addIdentityChange(i,h)):(i=this._mismatch(i,h,y,b),o=!0),i=i._next}else c=0,function Dg(t,n){if(Array.isArray(t))for(let i=0;i<t.length;i++)n(t[i]);else{const i=t[Symbol.iterator]();let o;for(;!(o=i.next()).done;)n(o.value)}}(n,b=>{y=this._trackByFn(c,b),null!==i&&Object.is(i.trackById,y)?(o&&(i=this._verifyReinsertion(i,b,y,c)),Object.is(i.item,b)||this._addIdentityChange(i,b)):(i=this._mismatch(i,b,y,c),o=!0),i=i._next,c++}),this.length=c;return this._truncate(i),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,i,o,c){let h;return null===n?h=this._itTail:(h=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._reinsertAfter(n,h,c)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(o,c))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._moveAfter(n,h,c)):n=this._addAfter(new AA(i,o),h,c),n}_verifyReinsertion(n,i,o,c){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==h?n=this._reinsertAfter(h,n._prev,c):n.currentIndex!=c&&(n.currentIndex=c,this._addToMoves(n,c)),n}_truncate(n){for(;null!==n;){const i=n._next;this._addToRemovals(this._unlink(n)),n=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,i,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const c=n._prevRemoved,h=n._nextRemoved;return null===c?this._removalsHead=h:c._nextRemoved=h,null===h?this._removalsTail=c:h._prevRemoved=c,this._insertAfter(n,i,o),this._addToMoves(n,o),n}_moveAfter(n,i,o){return this._unlink(n),this._insertAfter(n,i,o),this._addToMoves(n,o),n}_addAfter(n,i,o){return this._insertAfter(n,i,o),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,i,o){const c=null===i?this._itHead:i._next;return n._next=c,n._prev=i,null===c?this._itTail=n:c._prev=n,null===i?this._itHead=n:i._next=n,null===this._linkedRecords&&(this._linkedRecords=new Nb),this._linkedRecords.put(n),n.currentIndex=o,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const i=n._prev,o=n._next;return null===i?this._itHead=o:i._next=o,null===o?this._itTail=i:o._prev=i,n}_addToMoves(n,i){return n.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Nb),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,i){return n.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class AA{constructor(n,i){this.item=n,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class CA{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,i){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===i||i<=o.currentIndex)&&Object.is(o.trackById,n))return o;return null}remove(n){const i=n._prevDup,o=n._nextDup;return null===i?this._head=o:i._nextDup=o,null===o?this._tail=i:o._prevDup=i,null===this._head}}class Nb{constructor(){this.map=new Map}put(n){const i=n.trackById;let o=this.map.get(i);o||(o=new CA,this.map.set(i,o)),o.add(n)}get(n,i){const c=this.map.get(n);return c?c.get(n,i):null}remove(n){const i=n.trackById;return this.map.get(i).remove(n)&&this.map.delete(i),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function kb(t,n,i){const o=t.previousIndex;if(null===o)return o;let c=0;return i&&o<i.length&&(c=i[o]),o+n+c}class Fb{constructor(){}supports(n){return n instanceof Map||lf(n)}create(){return new SA}}class SA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let i;for(i=this._mapHead;null!==i;i=i._next)n(i)}forEachPreviousItem(n){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)n(i)}forEachChangedItem(n){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}diff(n){if(n){if(!(n instanceof Map||lf(n)))throw new ue(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(n,(o,c)=>{if(i&&i.key===c)this._maybeAddToChanges(i,o),this._appendAfter=i,i=i._next;else{const h=this._getOrCreateRecordForKey(c,o);i=this._insertBeforeOrAppend(i,h)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let o=i;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,i){if(n){const o=n._prev;return i._next=n,i._prev=o,n._prev=i,o&&(o._next=i),n===this._mapHead&&(this._mapHead=i),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(n,i){if(this._records.has(n)){const c=this._records.get(n);this._maybeAddToChanges(c,i);const h=c._prev,y=c._next;return h&&(h._next=y),y&&(y._prev=h),c._next=null,c._prev=null,c}const o=new xA(n);return this._records.set(n,o),o.currentValue=i,this._addToAdditions(o),o}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,i){Object.is(i,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=i,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,i){n instanceof Map?n.forEach(i):Object.keys(n).forEach(o=>i(n[o],o))}}class xA{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Lb(){return new JE([new Ob])}let JE=(()=>{class t{static#e=this.\u0275prov=Zt({token:t,providedIn:"root",factory:Lb});constructor(i){this.factories=i}static create(i,o){if(null!=o){const c=o.factories.slice();i=i.concat(c)}return new t(i)}static extend(i){return{provide:t,useFactory:o=>t.create(i,o||Lb()),deps:[[t,new gl,new Ku]]}}find(i){const o=this.factories.find(c=>c.supports(i));if(null!=o)return o;throw new ue(901,!1)}}return t})();function Vb(){return new XE([new Fb])}let XE=(()=>{class t{static#e=this.\u0275prov=Zt({token:t,providedIn:"root",factory:Vb});constructor(i){this.factories=i}static create(i,o){if(o){const c=o.factories.slice();i=i.concat(c)}return new t(i)}static extend(i){return{provide:t,useFactory:o=>t.create(i,o||Vb()),deps:[[t,new gl,new Ku]]}}find(i){const o=this.factories.find(c=>c.supports(i));if(o)return o;throw new ue(901,!1)}}return t})();const PA=Ib(null,"core",[]);let OA=(()=>{class t{constructor(i){}static#e=this.\u0275fac=function(o){return new(o||t)(Yt(cm))};static#t=this.\u0275mod=bs({type:t});static#n=this.\u0275inj=In({})}return t})();function zA(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function WA(t){const n=lr(t);if(!n)return null;const i=new vn(n);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},981:(Gt,Ue,k)=>{k.d(Ue,{zQ:()=>an,ww:()=>dn,rT:()=>Ye,f7:()=>Ut,L6:()=>me,_Q:()=>He,lh:()=>Et,Qv:()=>De,nw:()=>nt}),k(3985);var te=k(6814),Y=k(5879),ne=k(8326),ye=k(7217),_e=k(8645),ve=k(2096),Pe=k(5592),le=k(2459),ee=k(3019),ae=k(3093),Ee=k(4664),qe=k(7398),We=k(940),Ct=k(1374),ht=k(4674);function Ot(An,br){return(0,ht.m)(br)?(0,Ee.w)(()=>An,br):(0,Ee.w)(()=>An)}var Tt=k(5137),Jt=k(2181),Ie=k(7142);const De=new Y.OlP("angularfire2.auth.use-emulator"),me=new Y.OlP("angularfire2.auth.settings"),He=new Y.OlP("angularfire2.auth.tenant-id"),Ye=new Y.OlP("angularfire2.auth.langugage-code"),Et=new Y.OlP("angularfire2.auth.use-device-language"),Ut=new Y.OlP("angularfire.auth.persistence"),nt=(An,br,Vn,hn,En,Ne,Be,ct)=>(0,ye.cc)(`${An.name}.auth`,"AngularFireAuth",An.name,()=>{const rt=br.runOutsideAngular(()=>An.auth());if(Vn&&rt.useEmulator(...Vn),hn&&(rt.tenantId=hn),rt.languageCode=En,Ne&&rt.useDeviceLanguage(),Be)for(const[wt,ut]of Object.entries(Be))rt.settings[wt]=ut;return ct&&rt.setPersistence(ct),rt},[Vn,hn,En,Ne,Be,ct]);let an=(()=>{class An{authState;idToken;user;idTokenResult;credential;constructor(Vn,hn,En,Ne,Be,ct,rt,wt,ut,jt,yt,sr){const bn=new _e.x,st=(0,ve.of)(void 0).pipe((0,ae.Q)(Be.outsideAngular),(0,Ee.w)(()=>Ne.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,3985)))),(0,qe.U)(()=>(0,ye.on)(Vn,Ne,hn)),(0,qe.U)(Zt=>nt(Zt,Ne,ct,wt,ut,jt,rt,yt)),(0,We.d)({bufferSize:1,refCount:!1}));if((0,te.PM)(En))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,ve.of)(null);else{st.pipe((0,Ct.P)()).subscribe();const Zt=st.pipe((0,Ee.w)(St=>St.getRedirectResult().then(Rt=>Rt,()=>null)),ne.iC,(0,We.d)({bufferSize:1,refCount:!1})),Yn=st.pipe((0,Ee.w)(St=>new Pe.y(Rt=>({unsubscribe:Ne.runOutsideAngular(()=>St.onAuthStateChanged(Jn=>Rt.next(Jn),Jn=>Rt.error(Jn),()=>Rt.complete()))})))),In=st.pipe((0,Ee.w)(St=>new Pe.y(Rt=>({unsubscribe:Ne.runOutsideAngular(()=>St.onIdTokenChanged(Jn=>Rt.next(Jn),Jn=>Rt.error(Jn),()=>Rt.complete()))}))));this.authState=Zt.pipe(Ot(Yn),(0,Tt.R)(Be.outsideAngular),(0,ae.Q)(Be.insideAngular)),this.user=Zt.pipe(Ot(In),(0,Tt.R)(Be.outsideAngular),(0,ae.Q)(Be.insideAngular)),this.idToken=this.user.pipe((0,Ee.w)(St=>St?(0,le.D)(St.getIdToken()):(0,ve.of)(null))),this.idTokenResult=this.user.pipe((0,Ee.w)(St=>St?(0,le.D)(St.getIdTokenResult()):(0,ve.of)(null))),this.credential=(0,ee.T)(Zt,bn,this.authState.pipe((0,Jt.h)(St=>!St))).pipe((0,qe.U)(St=>St?.user?St:null),(0,Tt.R)(Be.outsideAngular),(0,ae.Q)(Be.insideAngular))}return(0,ye.pX)(this,st,Ne,{spy:{apply:(Zt,Yn,In)=>{(Zt.startsWith("signIn")||Zt.startsWith("createUser"))&&In.then(St=>bn.next(St))}}})}static \u0275fac=function(hn){return new(hn||An)(Y.LFG(ye.Dh),Y.LFG(ye.xv,8),Y.LFG(Y.Lbi),Y.LFG(Y.R0b),Y.LFG(ne.HU),Y.LFG(De,8),Y.LFG(me,8),Y.LFG(He,8),Y.LFG(Ye,8),Y.LFG(Et,8),Y.LFG(Ut,8),Y.LFG(ne.Rf,8))};static \u0275prov=Y.Yz7({token:An,factory:An.\u0275fac,providedIn:"any"})}return An})(),dn=(()=>{class An{constructor(){Ie.Z.registerVersion("angularfire",ne.q4.full,"auth-compat")}static \u0275fac=function(hn){return new(hn||An)};static \u0275mod=Y.oAB({type:An});static \u0275inj=Y.cJS({providers:[an]})}return An})()},7650:(Gt,Ue,k)=>{k.d(Ue,{ST:()=>dy,yb:()=>hy});var p=k(6814),te=k(5879),Y=k(8326),ne=k(7217),ye=k(981),_e=k(6321),ve=k(5592),Pe=k(2459),le=k(2096),ee=k(7921),ae=k(9360),Ee=k(8251);function qe(){return(0,ae.e)((a,e)=>{let r,s=!1;a.subscribe((0,Ee.x)(e,l=>{const f=r;r=l,s&&e.next([f,l]),s=!0}))})}var Ut,nt,We=k(7398),Ct=k(6699),ht=k(3997),Ot=k(2181),Jt=(k(3985),k(3106)),Ie=k(5861),ue=k(534),De=k(4537),me=k(7879),He=k(9058),Ye=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Et={};(function(){var a;function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function l($e,we,Fe){Fe||(Fe=0);var Ke=Array(16);if("string"==typeof we)for(var Xe=0;16>Xe;++Xe)Ke[Xe]=we.charCodeAt(Fe++)|we.charCodeAt(Fe++)<<8|we.charCodeAt(Fe++)<<16|we.charCodeAt(Fe++)<<24;else for(Xe=0;16>Xe;++Xe)Ke[Xe]=we[Fe++]|we[Fe++]<<8|we[Fe++]<<16|we[Fe++]<<24;var pt=$e.g[3],ke=(we=$e.g[0])+(pt^(Fe=$e.g[1])&((Xe=$e.g[2])^pt))+Ke[0]+3614090360&4294967295;ke=(Fe=(Xe=(pt=(we=(Fe=(Xe=(pt=(we=(Fe=(Xe=(pt=(we=(Fe=(Xe=(pt=(we=(Fe=(Xe=(pt=(we=(Fe=(Xe=(pt=(we=(Fe=(Xe=(pt=(we=(Fe=(Xe=(pt=(we=(Fe=(Xe=(pt=(we=(Fe=(Xe=(pt=(we=(Fe=(Xe=(pt=(we=(Fe=(Xe=(pt=(we=(Fe=(Xe=(pt=(we=(Fe=(Xe=(pt=(we=(Fe=(Xe=(pt=(we=Fe+(ke<<7&4294967295|ke>>>25))+((ke=pt+(Xe^we&(Fe^Xe))+Ke[1]+3905402710&4294967295)<<12&4294967295|ke>>>20))+((ke=Xe+(Fe^pt&(we^Fe))+Ke[2]+606105819&4294967295)<<17&4294967295|ke>>>15))+((ke=Fe+(we^Xe&(pt^we))+Ke[3]+3250441966&4294967295)<<22&4294967295|ke>>>10))+((ke=we+(pt^Fe&(Xe^pt))+Ke[4]+4118548399&4294967295)<<7&4294967295|ke>>>25))+((ke=pt+(Xe^we&(Fe^Xe))+Ke[5]+1200080426&4294967295)<<12&4294967295|ke>>>20))+((ke=Xe+(Fe^pt&(we^Fe))+Ke[6]+2821735955&4294967295)<<17&4294967295|ke>>>15))+((ke=Fe+(we^Xe&(pt^we))+Ke[7]+4249261313&4294967295)<<22&4294967295|ke>>>10))+((ke=we+(pt^Fe&(Xe^pt))+Ke[8]+1770035416&4294967295)<<7&4294967295|ke>>>25))+((ke=pt+(Xe^we&(Fe^Xe))+Ke[9]+2336552879&4294967295)<<12&4294967295|ke>>>20))+((ke=Xe+(Fe^pt&(we^Fe))+Ke[10]+4294925233&4294967295)<<17&4294967295|ke>>>15))+((ke=Fe+(we^Xe&(pt^we))+Ke[11]+2304563134&4294967295)<<22&4294967295|ke>>>10))+((ke=we+(pt^Fe&(Xe^pt))+Ke[12]+1804603682&4294967295)<<7&4294967295|ke>>>25))+((ke=pt+(Xe^we&(Fe^Xe))+Ke[13]+4254626195&4294967295)<<12&4294967295|ke>>>20))+((ke=Xe+(Fe^pt&(we^Fe))+Ke[14]+2792965006&4294967295)<<17&4294967295|ke>>>15))+((ke=Fe+(we^Xe&(pt^we))+Ke[15]+1236535329&4294967295)<<22&4294967295|ke>>>10))+((ke=we+(Xe^pt&(Fe^Xe))+Ke[1]+4129170786&4294967295)<<5&4294967295|ke>>>27))+((ke=pt+(Fe^Xe&(we^Fe))+Ke[6]+3225465664&4294967295)<<9&4294967295|ke>>>23))+((ke=Xe+(we^Fe&(pt^we))+Ke[11]+643717713&4294967295)<<14&4294967295|ke>>>18))+((ke=Fe+(pt^we&(Xe^pt))+Ke[0]+3921069994&4294967295)<<20&4294967295|ke>>>12))+((ke=we+(Xe^pt&(Fe^Xe))+Ke[5]+3593408605&4294967295)<<5&4294967295|ke>>>27))+((ke=pt+(Fe^Xe&(we^Fe))+Ke[10]+38016083&4294967295)<<9&4294967295|ke>>>23))+((ke=Xe+(we^Fe&(pt^we))+Ke[15]+3634488961&4294967295)<<14&4294967295|ke>>>18))+((ke=Fe+(pt^we&(Xe^pt))+Ke[4]+3889429448&4294967295)<<20&4294967295|ke>>>12))+((ke=we+(Xe^pt&(Fe^Xe))+Ke[9]+568446438&4294967295)<<5&4294967295|ke>>>27))+((ke=pt+(Fe^Xe&(we^Fe))+Ke[14]+3275163606&4294967295)<<9&4294967295|ke>>>23))+((ke=Xe+(we^Fe&(pt^we))+Ke[3]+4107603335&4294967295)<<14&4294967295|ke>>>18))+((ke=Fe+(pt^we&(Xe^pt))+Ke[8]+1163531501&4294967295)<<20&4294967295|ke>>>12))+((ke=we+(Xe^pt&(Fe^Xe))+Ke[13]+2850285829&4294967295)<<5&4294967295|ke>>>27))+((ke=pt+(Fe^Xe&(we^Fe))+Ke[2]+4243563512&4294967295)<<9&4294967295|ke>>>23))+((ke=Xe+(we^Fe&(pt^we))+Ke[7]+1735328473&4294967295)<<14&4294967295|ke>>>18))+((ke=Fe+(pt^we&(Xe^pt))+Ke[12]+2368359562&4294967295)<<20&4294967295|ke>>>12))+((ke=we+(Fe^Xe^pt)+Ke[5]+4294588738&4294967295)<<4&4294967295|ke>>>28))+((ke=pt+(we^Fe^Xe)+Ke[8]+2272392833&4294967295)<<11&4294967295|ke>>>21))+((ke=Xe+(pt^we^Fe)+Ke[11]+1839030562&4294967295)<<16&4294967295|ke>>>16))+((ke=Fe+(Xe^pt^we)+Ke[14]+4259657740&4294967295)<<23&4294967295|ke>>>9))+((ke=we+(Fe^Xe^pt)+Ke[1]+2763975236&4294967295)<<4&4294967295|ke>>>28))+((ke=pt+(we^Fe^Xe)+Ke[4]+1272893353&4294967295)<<11&4294967295|ke>>>21))+((ke=Xe+(pt^we^Fe)+Ke[7]+4139469664&4294967295)<<16&4294967295|ke>>>16))+((ke=Fe+(Xe^pt^we)+Ke[10]+3200236656&4294967295)<<23&4294967295|ke>>>9))+((ke=we+(Fe^Xe^pt)+Ke[13]+681279174&4294967295)<<4&4294967295|ke>>>28))+((ke=pt+(we^Fe^Xe)+Ke[0]+3936430074&4294967295)<<11&4294967295|ke>>>21))+((ke=Xe+(pt^we^Fe)+Ke[3]+3572445317&4294967295)<<16&4294967295|ke>>>16))+((ke=Fe+(Xe^pt^we)+Ke[6]+76029189&4294967295)<<23&4294967295|ke>>>9))+((ke=we+(Fe^Xe^pt)+Ke[9]+3654602809&4294967295)<<4&4294967295|ke>>>28))+((ke=pt+(we^Fe^Xe)+Ke[12]+3873151461&4294967295)<<11&4294967295|ke>>>21))+((ke=Xe+(pt^we^Fe)+Ke[15]+530742520&4294967295)<<16&4294967295|ke>>>16))+((ke=Fe+(Xe^pt^we)+Ke[2]+3299628645&4294967295)<<23&4294967295|ke>>>9))+((ke=we+(Xe^(Fe|~pt))+Ke[0]+4096336452&4294967295)<<6&4294967295|ke>>>26))+((ke=pt+(Fe^(we|~Xe))+Ke[7]+1126891415&4294967295)<<10&4294967295|ke>>>22))+((ke=Xe+(we^(pt|~Fe))+Ke[14]+2878612391&4294967295)<<15&4294967295|ke>>>17))+((ke=Fe+(pt^(Xe|~we))+Ke[5]+4237533241&4294967295)<<21&4294967295|ke>>>11))+((ke=we+(Xe^(Fe|~pt))+Ke[12]+1700485571&4294967295)<<6&4294967295|ke>>>26))+((ke=pt+(Fe^(we|~Xe))+Ke[3]+2399980690&4294967295)<<10&4294967295|ke>>>22))+((ke=Xe+(we^(pt|~Fe))+Ke[10]+4293915773&4294967295)<<15&4294967295|ke>>>17))+((ke=Fe+(pt^(Xe|~we))+Ke[1]+2240044497&4294967295)<<21&4294967295|ke>>>11))+((ke=we+(Xe^(Fe|~pt))+Ke[8]+1873313359&4294967295)<<6&4294967295|ke>>>26))+((ke=pt+(Fe^(we|~Xe))+Ke[15]+4264355552&4294967295)<<10&4294967295|ke>>>22))+((ke=Xe+(we^(pt|~Fe))+Ke[6]+2734768916&4294967295)<<15&4294967295|ke>>>17))+((ke=Fe+(pt^(Xe|~we))+Ke[13]+1309151649&4294967295)<<21&4294967295|ke>>>11))+((pt=(we=Fe+((ke=we+(Xe^(Fe|~pt))+Ke[4]+4149444226&4294967295)<<6&4294967295|ke>>>26))+((ke=pt+(Fe^(we|~Xe))+Ke[11]+3174756917&4294967295)<<10&4294967295|ke>>>22))^((Xe=pt+((ke=Xe+(we^(pt|~Fe))+Ke[2]+718787259&4294967295)<<15&4294967295|ke>>>17))|~we))+Ke[9]+3951481745&4294967295,$e.g[0]=$e.g[0]+we&4294967295,$e.g[1]=$e.g[1]+(Xe+(ke<<21&4294967295|ke>>>11))&4294967295,$e.g[2]=$e.g[2]+Xe&4294967295,$e.g[3]=$e.g[3]+pt&4294967295}function g($e,we){this.h=we;for(var Fe=[],Ke=!0,Xe=$e.length-1;0<=Xe;Xe--){var pt=0|$e[Xe];Ke&&pt==we||(Fe[Xe]=pt,Ke=!1)}this.g=Fe}(function e($e,we){function Fe(){}Fe.prototype=we.prototype,$e.D=we.prototype,$e.prototype=new Fe,$e.prototype.constructor=$e,$e.C=function(Ke,Xe,pt){for(var ke=Array(arguments.length-2),Ul=2;Ul<arguments.length;Ul++)ke[Ul-2]=arguments[Ul];return we.prototype[Xe].apply(Ke,ke)}})(s,function r(){this.blockSize=-1}),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},s.prototype.u=function($e,we){void 0===we&&(we=$e.length);for(var Fe=we-this.blockSize,Ke=this.B,Xe=this.h,pt=0;pt<we;){if(0==Xe)for(;pt<=Fe;)l(this,$e,pt),pt+=this.blockSize;if("string"==typeof $e){for(;pt<we;)if(Ke[Xe++]=$e.charCodeAt(pt++),Xe==this.blockSize){l(this,Ke),Xe=0;break}}else for(;pt<we;)if(Ke[Xe++]=$e[pt++],Xe==this.blockSize){l(this,Ke),Xe=0;break}}this.h=Xe,this.o+=we},s.prototype.v=function(){var $e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);$e[0]=128;for(var we=1;we<$e.length-8;++we)$e[we]=0;var Fe=8*this.o;for(we=$e.length-8;we<$e.length;++we)$e[we]=255&Fe,Fe/=256;for(this.u($e),$e=Array(16),we=Fe=0;4>we;++we)for(var Ke=0;32>Ke;Ke+=8)$e[Fe++]=this.g[we]>>>Ke&255;return $e};var D={};function M($e){return-128<=$e&&128>$e?function f($e,we){var Fe=D;return Object.prototype.hasOwnProperty.call(Fe,$e)?Fe[$e]:Fe[$e]=we($e)}($e,function(we){return new g([0|we],0>we?-1:0)}):new g([0|$e],0>$e?-1:0)}function H($e){if(isNaN($e)||!isFinite($e))return ce;if(0>$e)return Lt(H(-$e));for(var we=[],Fe=1,Ke=0;$e>=Fe;Ke++)we[Ke]=$e/Fe|0,Fe*=4294967296;return new g(we,0)}var ce=M(0),xe=M(1),at=M(16777216);function Nt($e){if(0!=$e.h)return!1;for(var we=0;we<$e.g.length;we++)if(0!=$e.g[we])return!1;return!0}function qt($e){return-1==$e.h}function Lt($e){for(var we=$e.g.length,Fe=[],Ke=0;Ke<we;Ke++)Fe[Ke]=~$e.g[Ke];return new g(Fe,~$e.h).add(xe)}function Dn($e,we){return $e.add(Lt(we))}function Un($e,we){for(;(65535&$e[we])!=$e[we];)$e[we+1]+=$e[we]>>>16,$e[we]&=65535,we++}function vn($e,we){this.g=$e,this.h=we}function ar($e,we){if(Nt(we))throw Error("division by zero");if(Nt($e))return new vn(ce,ce);if(qt($e))return we=ar(Lt($e),we),new vn(Lt(we.g),Lt(we.h));if(qt(we))return we=ar($e,Lt(we)),new vn(Lt(we.g),we.h);if(30<$e.g.length){if(qt($e)||qt(we))throw Error("slowDivide_ only works with positive integers.");for(var Fe=xe,Ke=we;0>=Ke.l($e);)Fe=Rr(Fe),Ke=Rr(Ke);var Xe=Ir(Fe,1),pt=Ir(Ke,1);for(Ke=Ir(Ke,2),Fe=Ir(Fe,2);!Nt(Ke);){var ke=pt.add(Ke);0>=ke.l($e)&&(Xe=Xe.add(Fe),pt=ke),Ke=Ir(Ke,1),Fe=Ir(Fe,1)}return we=Dn($e,Xe.j(we)),new vn(Xe,we)}for(Xe=ce;0<=$e.l(we);){for(Fe=Math.max(1,Math.floor($e.m()/we.m())),Ke=48>=(Ke=Math.ceil(Math.log(Fe)/Math.LN2))?1:Math.pow(2,Ke-48),ke=(pt=H(Fe)).j(we);qt(ke)||0<ke.l($e);)ke=(pt=H(Fe-=Ke)).j(we);Nt(pt)&&(pt=xe),Xe=Xe.add(pt),$e=Dn($e,ke)}return new vn(Xe,$e)}function Rr($e){for(var we=$e.g.length+1,Fe=[],Ke=0;Ke<we;Ke++)Fe[Ke]=$e.i(Ke)<<1|$e.i(Ke-1)>>>31;return new g(Fe,$e.h)}function Ir($e,we){var Fe=we>>5;we%=32;for(var Ke=$e.g.length-Fe,Xe=[],pt=0;pt<Ke;pt++)Xe[pt]=0<we?$e.i(pt+Fe)>>>we|$e.i(pt+Fe+1)<<32-we:$e.i(pt+Fe);return new g(Xe,$e.h)}(a=g.prototype).m=function(){if(qt(this))return-Lt(this).m();for(var $e=0,we=1,Fe=0;Fe<this.g.length;Fe++){var Ke=this.i(Fe);$e+=(0<=Ke?Ke:4294967296+Ke)*we,we*=4294967296}return $e},a.toString=function($e){if(2>($e=$e||10)||36<$e)throw Error("radix out of range: "+$e);if(Nt(this))return"0";if(qt(this))return"-"+Lt(this).toString($e);for(var we=H(Math.pow($e,6)),Fe=this,Ke="";;){var Xe=ar(Fe,we).g,pt=((0<(Fe=Dn(Fe,Xe.j(we))).g.length?Fe.g[0]:Fe.h)>>>0).toString($e);if(Nt(Fe=Xe))return pt+Ke;for(;6>pt.length;)pt="0"+pt;Ke=pt+Ke}},a.i=function($e){return 0>$e?0:$e<this.g.length?this.g[$e]:this.h},a.l=function($e){return qt($e=Dn(this,$e))?-1:Nt($e)?0:1},a.abs=function(){return qt(this)?Lt(this):this},a.add=function($e){for(var we=Math.max(this.g.length,$e.g.length),Fe=[],Ke=0,Xe=0;Xe<=we;Xe++){var pt=Ke+(65535&this.i(Xe))+(65535&$e.i(Xe)),ke=(pt>>>16)+(this.i(Xe)>>>16)+($e.i(Xe)>>>16);Ke=ke>>>16,Fe[Xe]=(ke&=65535)<<16|(pt&=65535)}return new g(Fe,-2147483648&Fe[Fe.length-1]?-1:0)},a.j=function($e){if(Nt(this)||Nt($e))return ce;if(qt(this))return qt($e)?Lt(this).j(Lt($e)):Lt(Lt(this).j($e));if(qt($e))return Lt(this.j(Lt($e)));if(0>this.l(at)&&0>$e.l(at))return H(this.m()*$e.m());for(var we=this.g.length+$e.g.length,Fe=[],Ke=0;Ke<2*we;Ke++)Fe[Ke]=0;for(Ke=0;Ke<this.g.length;Ke++)for(var Xe=0;Xe<$e.g.length;Xe++){var pt=this.i(Ke)>>>16,ke=65535&this.i(Ke),Ul=$e.i(Xe)>>>16,xc=65535&$e.i(Xe);Fe[2*Ke+2*Xe]+=ke*xc,Un(Fe,2*Ke+2*Xe),Fe[2*Ke+2*Xe+1]+=pt*xc,Un(Fe,2*Ke+2*Xe+1),Fe[2*Ke+2*Xe+1]+=ke*Ul,Un(Fe,2*Ke+2*Xe+1),Fe[2*Ke+2*Xe+2]+=pt*Ul,Un(Fe,2*Ke+2*Xe+2)}for(Ke=0;Ke<we;Ke++)Fe[Ke]=Fe[2*Ke+1]<<16|Fe[2*Ke];for(Ke=we;Ke<2*we;Ke++)Fe[Ke]=0;return new g(Fe,0)},a.A=function($e){return ar(this,$e).h},a.and=function($e){for(var we=Math.max(this.g.length,$e.g.length),Fe=[],Ke=0;Ke<we;Ke++)Fe[Ke]=this.i(Ke)&$e.i(Ke);return new g(Fe,this.h&$e.h)},a.or=function($e){for(var we=Math.max(this.g.length,$e.g.length),Fe=[],Ke=0;Ke<we;Ke++)Fe[Ke]=this.i(Ke)|$e.i(Ke);return new g(Fe,this.h|$e.h)},a.xor=function($e){for(var we=Math.max(this.g.length,$e.g.length),Fe=[],Ke=0;Ke<we;Ke++)Fe[Ke]=this.i(Ke)^$e.i(Ke);return new g(Fe,this.h^$e.h)},s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,nt=Et.Md5=s,g.prototype.add=g.prototype.add,g.prototype.multiply=g.prototype.j,g.prototype.modulo=g.prototype.A,g.prototype.compare=g.prototype.l,g.prototype.toNumber=g.prototype.m,g.prototype.toString=g.prototype.toString,g.prototype.getBits=g.prototype.i,g.fromNumber=H,g.fromString=function Q($e,we){if(0==$e.length)throw Error("number format error: empty string");if(2>(we=we||10)||36<we)throw Error("radix out of range: "+we);if("-"==$e.charAt(0))return Lt(Q($e.substring(1),we));if(0<=$e.indexOf("-"))throw Error('number format error: interior "-" character');for(var Fe=H(Math.pow(we,8)),Ke=ce,Xe=0;Xe<$e.length;Xe+=8){var pt=Math.min(8,$e.length-Xe),ke=parseInt($e.substring(Xe,Xe+pt),we);8>pt?(pt=H(Math.pow(we,pt)),Ke=Ke.j(pt).add(H(ke))):Ke=(Ke=Ke.j(Fe)).add(H(ke))}return Ke},Ut=Et.Integer=g}).apply(typeof Ye<"u"?Ye:typeof self<"u"?self:typeof window<"u"?window:{});var An,br,Vn,hn,En,Ne,Be,ct,rt,an=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},dn={};(function(){var a,e="function"==typeof Object.defineProperties?Object.defineProperty:function(m,P,$){return m==Array.prototype||m==Object.prototype||(m[P]=$.value),m},s=function r(m){m=["object"==typeof globalThis&&globalThis,m,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof an&&an];for(var P=0;P<m.length;++P){var $=m[P];if($&&$.Math==Math)return $}throw Error("Cannot find global object")}(this);!function l(m,P){if(P)e:{var $=s;m=m.split(".");for(var ie=0;ie<m.length-1;ie++){var et=m[ie];if(!(et in $))break e;$=$[et]}(P=P(ie=$[m=m[m.length-1]]))!=ie&&null!=P&&e($,m,{configurable:!0,writable:!0,value:P})}}("Array.prototype.values",function(m){return m||function(){return function f(m,P){m instanceof String&&(m+="");var $=0,ie=!1,et={next:function(){if(!ie&&$<m.length){var bt=$++;return{value:P(bt,m[bt]),done:!1}}return ie=!0,{done:!0,value:void 0}}};return et[Symbol.iterator]=function(){return et},et}(this,function(P,$){return $})}});var g=g||{},D=this||self;function M(m){var P=typeof m;return"array"==(P="object"!=P?P:m?Array.isArray(m)?"array":P:"null")||"object"==P&&"number"==typeof m.length}function H(m){var P=typeof m;return"object"==P&&null!=m||"function"==P}function Q(m,P,$){return m.call.apply(m.bind,arguments)}function ce(m,P,$){if(!m)throw Error();if(2<arguments.length){var ie=Array.prototype.slice.call(arguments,2);return function(){var et=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(et,ie),m.apply(P,et)}}return function(){return m.apply(P,arguments)}}function xe(m,P,$){return(xe=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Q:ce).apply(null,arguments)}function at(m,P){var $=Array.prototype.slice.call(arguments,1);return function(){var ie=$.slice();return ie.push.apply(ie,arguments),m.apply(this,ie)}}function Nt(m,P){function $(){}$.prototype=P.prototype,m.aa=P.prototype,m.prototype=new $,m.prototype.constructor=m,m.Qb=function(ie,et,bt){for(var sn=Array(arguments.length-2),fi=2;fi<arguments.length;fi++)sn[fi-2]=arguments[fi];return P.prototype[et].apply(ie,sn)}}function qt(m){const P=m.length;if(0<P){const $=Array(P);for(let ie=0;ie<P;ie++)$[ie]=m[ie];return $}return[]}function Lt(m,P){for(let $=1;$<arguments.length;$++){const ie=arguments[$];if(M(ie)){const et=m.length||0,bt=ie.length||0;m.length=et+bt;for(let sn=0;sn<bt;sn++)m[et+sn]=ie[sn]}else m.push(ie)}}function Un(m){return/^[\s\xa0]*$/.test(m)}function vn(){var m=D.navigator;return m&&(m=m.userAgent)?m:""}function ar(m){return ar[" "](m),m}ar[" "]=function(){};var Rr=!(-1==vn().indexOf("Gecko")||-1!=vn().toLowerCase().indexOf("webkit")&&-1==vn().indexOf("Edge")||-1!=vn().indexOf("Trident")||-1!=vn().indexOf("MSIE")||-1!=vn().indexOf("Edge"));function Ir(m,P,$){for(const ie in m)P.call($,m[ie],ie,m)}function we(m){const P={};for(const $ in m)P[$]=m[$];return P}const Fe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ke(m,P){let $,ie;for(let et=1;et<arguments.length;et++){for($ in ie=arguments[et],ie)m[$]=ie[$];for(let bt=0;bt<Fe.length;bt++)$=Fe[bt],Object.prototype.hasOwnProperty.call(ie,$)&&(m[$]=ie[$])}}function Xe(m){var P=1;m=m.split(":");const $=[];for(;0<P&&m.length;)$.push(m.shift()),P--;return m.length&&$.push(m.join(":")),$}function pt(m){D.setTimeout(()=>{throw m},0)}function ke(){var m=wg;let P=null;return m.g&&(P=m.g,m.g=m.g.next,m.g||(m.h=null),P.next=null),P}var xc=new class Dn{constructor(P,$){this.i=P,this.j=$,this.h=0,this.g=null}get(){let P;return 0<this.h?(this.h--,P=this.g,this.g=P.next,P.next=null):P=this.i(),P}}(()=>new aE,m=>m.reset());class aE{constructor(){this.next=this.g=this.h=null}set(P,$){this.h=P,this.g=$,this.next=null}reset(){this.next=this.g=this.h=null}}let rf,sf=!1,wg=new class Ul{constructor(){this.h=this.g=null}add(P,$){const ie=xc.get();ie.set(P,$),this.h?this.h.next=ie:this.g=ie,this.h=ie}},fy=()=>{const m=D.Promise.resolve(void 0);rf=()=>{m.then(lE)}};var lE=()=>{for(var m;m=ke();){try{m.h.call(m.g)}catch($){pt($)}var P=xc;P.j(m),100>P.h&&(P.h++,m.next=P.g,P.g=m)}sf=!1};function Rc(){this.s=this.s,this.C=this.C}function Ns(m,P){this.type=m,this.g=this.target=P,this.defaultPrevented=!1}Rc.prototype.s=!1,Rc.prototype.ma=function(){this.s||(this.s=!0,this.N())},Rc.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Ns.prototype.h=function(){this.defaultPrevented=!0};var py=function(){if(!D.addEventListener||!Object.defineProperty)return!1;var m=!1,P=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const $=()=>{};D.addEventListener("test",$,P),D.removeEventListener("test",$,P)}catch{}return m}();function af(m,P){if(Ns.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var $=this.type=m.type,ie=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=P,P=m.relatedTarget){if(Rr){e:{try{ar(P.nodeName);var et=!0;break e}catch{}et=!1}et||(P=null)}}else"mouseover"==$?P=m.fromElement:"mouseout"==$&&(P=m.toElement);this.relatedTarget=P,ie?(this.clientX=void 0!==ie.clientX?ie.clientX:ie.pageX,this.clientY=void 0!==ie.clientY?ie.clientY:ie.pageY,this.screenX=ie.screenX||0,this.screenY=ie.screenY||0):(this.clientX=void 0!==m.clientX?m.clientX:m.pageX,this.clientY=void 0!==m.clientY?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType="string"==typeof m.pointerType?m.pointerType:_I[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&af.aa.h.call(this)}}Nt(af,Ns);var _I={2:"touch",3:"pen",4:"mouse"};af.prototype.h=function(){af.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Md="closure_listenable_"+(1e6*Math.random()|0),my=0;function yI(m,P,$,ie,et){this.listener=m,this.proxy=null,this.src=P,this.type=$,this.capture=!!ie,this.ha=et,this.key=++my,this.da=this.fa=!1}function wu(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Pp(m){this.src=m,this.g={},this.h=0}function Dg(m,P){var $=P.type;if($ in m.g){var bt,ie=m.g[$],et=Array.prototype.indexOf.call(ie,P,void 0);(bt=0<=et)&&Array.prototype.splice.call(ie,et,1),bt&&(wu(P),0==m.g[$].length&&(delete m.g[$],m.h--))}}function lf(m,P,$,ie){for(var et=0;et<m.length;++et){var bt=m[et];if(!bt.da&&bt.listener==P&&bt.capture==!!$&&bt.ha==ie)return et}return-1}Pp.prototype.add=function(m,P,$,ie,et){var bt=m.toString();(m=this.g[bt])||(m=this.g[bt]=[],this.h++);var sn=lf(m,P,ie,et);return-1<sn?(P=m[sn],$||(P.fa=!1)):((P=new yI(P,this.src,bt,!!ie,et)).fa=$,m.push(P)),P};var Ag="closure_lm_"+(1e6*Math.random()|0),sa={};function Pd(m,P,$,ie,et){if(ie&&ie.once)return cf(m,P,$,ie,et);if(Array.isArray(P)){for(var bt=0;bt<P.length;bt++)Pd(m,P[bt],$,ie,et);return null}return $=Oc($),m&&m[Md]?m.K(P,$,H(ie)?!!ie.capture:!!ie,et):ks(m,P,$,!1,ie,et)}function ks(m,P,$,ie,et,bt){if(!P)throw Error("Invalid event type");var sn=H(et)?!!et.capture:!!et,fi=Mc(m);if(fi||(m[Ag]=fi=new Pp(m)),($=fi.add(P,$,ie,sn,bt)).proxy)return $;if(ie=function Du(){const P=Od;return function m($){return P.call(m.src,m.listener,$)}}(),$.proxy=ie,ie.src=m,ie.listener=$,m.addEventListener)py||(et=sn),void 0===et&&(et=!1),m.addEventListener(P.toString(),ie,et);else if(m.attachEvent)m.attachEvent(Au(P.toString()),ie);else{if(!m.addListener||!m.removeListener)throw Error("addEventListener and attachEvent are unavailable.");m.addListener(ie)}return $}function cf(m,P,$,ie,et){if(Array.isArray(P)){for(var bt=0;bt<P.length;bt++)cf(m,P[bt],$,ie,et);return null}return $=Oc($),m&&m[Md]?m.L(P,$,H(ie)?!!ie.capture:!!ie,et):ks(m,P,$,!0,ie,et)}function ko(m,P,$,ie,et){if(Array.isArray(P))for(var bt=0;bt<P.length;bt++)ko(m,P[bt],$,ie,et);else ie=H(ie)?!!ie.capture:!!ie,$=Oc($),m&&m[Md]?(m=m.i,(P=String(P).toString())in m.g&&-1<($=lf(bt=m.g[P],$,ie,et))&&(wu(bt[$]),Array.prototype.splice.call(bt,$,1),0==bt.length&&(delete m.g[P],m.h--))):m&&(m=Mc(m))&&(P=m.g[P.toString()],m=-1,P&&(m=lf(P,$,ie,et)),($=-1<m?P[m]:null)&&uf($))}function uf(m){if("number"!=typeof m&&m&&!m.da){var P=m.src;if(P&&P[Md])Dg(P.i,m);else{var $=m.type,ie=m.proxy;P.removeEventListener?P.removeEventListener($,ie,m.capture):P.detachEvent?P.detachEvent(Au($),ie):P.addListener&&P.removeListener&&P.removeListener(ie),($=Mc(P))?(Dg($,m),0==$.h&&($.src=null,P[Ag]=null)):wu(m)}}}function Au(m){return m in sa?sa[m]:sa[m]="on"+m}function Od(m,P){if(m.da)m=!0;else{P=new af(P,this);var $=m.listener,ie=m.ha||m.src;m.fa&&uf(m),m=$.call(ie,P)}return m}function Mc(m){return(m=m[Ag])instanceof Pp?m:null}var Pc="__closure_events_fn_"+(1e9*Math.random()>>>0);function Oc(m){return"function"==typeof m?m:(m[Pc]||(m[Pc]=function(P){return m.handleEvent(P)}),m[Pc])}function ts(){Rc.call(this),this.i=new Pp(this),this.M=this,this.F=null}function hs(m,P){var $,ie=m.F;if(ie)for($=[];ie;ie=ie.F)$.push(ie);if(m=m.M,ie=P.type||P,"string"==typeof P)P=new Ns(P,m);else if(P instanceof Ns)P.target=P.target||m;else{var et=P;Ke(P=new Ns(ie,m),et)}if(et=!0,$)for(var bt=$.length-1;0<=bt;bt--){var sn=P.g=$[bt];et=Bl(sn,ie,!0,P)&&et}if(et=Bl(sn=P.g=m,ie,!0,P)&&et,et=Bl(sn,ie,!1,P)&&et,$)for(bt=0;bt<$.length;bt++)et=Bl(sn=P.g=$[bt],ie,!1,P)&&et}function Bl(m,P,$,ie){if(!(P=m.i.g[String(P)]))return!0;P=P.concat();for(var et=!0,bt=0;bt<P.length;++bt){var sn=P[bt];if(sn&&!sn.da&&sn.capture==$){var fi=sn.listener,Fs=sn.ha||sn.src;sn.fa&&Dg(m.i,sn),et=!1!==fi.call(Fs,ie)&&et}}return et&&!ie.defaultPrevented}function Cu(m,P,$){if("function"==typeof m)$&&(m=xe(m,$));else{if(!m||"function"!=typeof m.handleEvent)throw Error("Invalid listener argument");m=xe(m.handleEvent,m)}return 2147483647<Number(P)?-1:D.setTimeout(m,P||0)}function Cg(m){m.g=Cu(()=>{m.g=null,m.i&&(m.i=!1,Cg(m))},m.l);const P=m.h;m.h=null,m.m.apply(null,P)}Nt(ts,Rc),ts.prototype[Md]=!0,ts.prototype.removeEventListener=function(m,P,$,ie){ko(this,m,P,$,ie)},ts.prototype.N=function(){if(ts.aa.N.call(this),this.i){var P,m=this.i;for(P in m.g){for(var $=m.g[P],ie=0;ie<$.length;ie++)wu($[ie]);delete m.g[P],m.h--}}this.F=null},ts.prototype.K=function(m,P,$,ie){return this.i.add(String(m),P,!1,$,ie)},ts.prototype.L=function(m,P,$,ie){return this.i.add(String(m),P,!0,$,ie)};class gy extends Rc{constructor(P,$){super(),this.m=P,this.l=$,this.h=null,this.i=!1,this.g=null}j(P){this.h=arguments,this.g?this.i=!0:Cg(this)}N(){super.N(),this.g&&(D.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nd(m){Rc.call(this),this.h=m,this.g={}}Nt(Nd,Rc);var Sg=[];function xg(m){Ir(m.g,function(P,$){this.g.hasOwnProperty($)&&uf(P)},m),m.g={}}Nd.prototype.N=function(){Nd.aa.N.call(this),xg(this)},Nd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Op=D.JSON.stringify,_y=D.JSON.parse,yy=class{stringify(m){return D.JSON.stringify(m,void 0)}parse(m){return D.JSON.parse(m,void 0)}};function Np(){}function vy(){}Np.prototype.h=null;var Fp={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ey(){Ns.call(this,"d")}function Rg(){Ns.call(this,"c")}Nt(Ey,Ns),Nt(Rg,Ns);var Su={},cE=null;function Lp(){return cE=cE||new ts}function uE(m){Ns.call(this,Su.La,m)}function df(m){const P=Lp();hs(P,new uE(P))}function Iy(m,P){Ns.call(this,Su.STAT_EVENT,m),this.stat=P}function to(m){const P=Lp();hs(P,new Iy(P,m))}function Vp(m,P){Ns.call(this,Su.Ma,m),this.size=P}function jl(m,P){if("function"!=typeof m)throw Error("Fn must not be null and must be a function");return D.setTimeout(function(){m()},P)}function xu(){this.g=!0}function tl(m,P,$,ie){m.info(function(){return"XMLHTTP TEXT ("+P+"): "+function dE(m,P){if(!m.g)return P;if(!P)return null;try{var $=JSON.parse(P);if($)for(m=0;m<$.length;m++)if(Array.isArray($[m])){var ie=$[m];if(!(2>ie.length)){var et=ie[1];if(Array.isArray(et)&&!(1>et.length)){var bt=et[0];if("noop"!=bt&&"stop"!=bt&&"close"!=bt)for(var sn=1;sn<et.length;sn++)et[sn]=""}}}return Op($)}catch{return P}}(m,$)+(ie?" "+ie:"")})}Su.La="serverreachability",Nt(uE,Ns),Su.STAT_EVENT="statevent",Nt(Iy,Ns),Su.Ma="timingevent",Nt(Vp,Ns),xu.prototype.xa=function(){this.g=!1},xu.prototype.info=function(){};var Mg,Nc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},wy={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Bp(){}function kc(m,P,$,ie){this.j=m,this.i=P,this.l=$,this.R=ie||1,this.U=new Nd(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new jp}function jp(){this.i=null,this.g="",this.h=!1}Nt(Bp,Np),Bp.prototype.g=function(){return new XMLHttpRequest},Bp.prototype.i=function(){return{}},Mg=new Bp;var hf={},kd={};function Dy(m,P,$){m.L=1,m.v=Qp(Hl(P)),m.m=$,m.P=!0,Ay(m,null)}function Ay(m,P){m.F=Date.now(),Hp(m),m.A=Hl(m.v);var $=m.A,ie=m.R;Array.isArray(ie)||(ie=[String(ie)]),jg($.i,"t",ie),m.C=0,$=m.j.J,m.h=new jp,m.g=Wy(m.j,$?P:null,!m.m),0<m.O&&(m.M=new gy(xe(m.Y,m,m.g),m.O)),P=m.U,$=m.g,ie=m.ca;var et="readystatechange";Array.isArray(et)||(et&&(Sg[0]=et.toString()),et=Sg);for(var bt=0;bt<et.length;bt++){var sn=Pd($,et[bt],ie||P.handleEvent,!1,P.h||P);if(!sn)break;P.g[sn.key]=sn}P=m.H?we(m.H):{},m.m?(m.u||(m.u="POST"),P["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,P)):(m.u="GET",m.g.ea(m.A,m.u,null,P)),df(),function Up(m,P,$,ie,et,bt){m.info(function(){if(m.g)if(bt)for(var sn="",fi=bt.split("&"),Fs=0;Fs<fi.length;Fs++){var Hr=fi[Fs].split("=");if(1<Hr.length){var Ls=Hr[0];Hr=Hr[1];var Es=Ls.split("_");sn=2<=Es.length&&"type"==Es[1]?sn+(Ls+"=")+Hr+"&":sn+(Ls+"=redacted&")}}else sn=null;else sn=bt;return"XMLHTTP REQ ("+ie+") [attempt "+et+"]: "+P+"\n"+$+"\n"+sn})}(m.i,m.u,m.A,m.l,m.R,m.m)}function Cy(m){return!!m.g&&"GET"==m.u&&2!=m.L&&m.j.Ca}function Pg(m,P){var $=m.C,ie=P.indexOf("\n",$);return-1==ie?kd:($=Number(P.substring($,ie)),isNaN($)?hf:(ie+=1)+$>P.length?kd:(P=P.slice(ie,ie+$),m.C=ie+$,P))}function Hp(m){m.S=Date.now()+m.I,Og(m,m.I)}function Og(m,P){if(null!=m.B)throw Error("WatchDog timer not null");m.B=jl(xe(m.ba,m),P)}function Ng(m){m.B&&(D.clearTimeout(m.B),m.B=null)}function ff(m){0==m.j.G||m.J||gE(m.j,m)}function Fc(m){Ng(m);var P=m.M;P&&"function"==typeof P.ma&&P.ma(),m.M=null,xg(m.U),m.g&&(P=m.g,m.g=null,P.abort(),P.ma())}function $p(m,P){try{var $=m.j;if(0!=$.G&&($.g==m||zp($.h,m)))if(!m.K&&zp($.h,m)&&3==$.G){try{var ie=$.Da.g.parse(P)}catch{ie=null}if(Array.isArray(ie)&&3==ie.length){var et=ie;if(0==et[0]){e:if(!$.u){if($.g){if(!($.g.F+3e3<m.F))break e;vf($),em($)}qg($),to(18)}}else $.za=et[1],0<$.za-$.T&&37500>et[2]&&$.F&&0==$.v&&!$.C&&($.C=jl(xe($.Za,$),6e3));if(1>=My($.h)&&$.ca){try{$.ca()}catch{}$.ca=void 0}}else Kl($,11)}else if((m.K||$.g==m)&&vf($),!Un(P))for(et=$.Da.g.parse(P),P=0;P<et.length;P++){let Hr=et[P];if($.T=Hr[0],Hr=Hr[1],2==$.G)if("c"==Hr[0]){$.K=Hr[1],$.ia=Hr[2];const Ls=Hr[3];null!=Ls&&($.la=Ls,$.j.info("VER="+$.la));const Es=Hr[4];null!=Es&&($.Aa=Es,$.j.info("SVER="+$.Aa));const zd=Hr[5];null!=zd&&"number"==typeof zd&&0<zd&&($.L=ie=1.5*zd,$.j.info("backChannelRequestTimeoutMs_="+ie)),ie=$;const oa=m.g;if(oa){const Ef=oa.g?oa.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ef){var bt=ie.h;bt.g||-1==Ef.indexOf("spdy")&&-1==Ef.indexOf("quic")&&-1==Ef.indexOf("h2")||(bt.j=bt.l,bt.g=new Set,bt.h&&(pf(bt,bt.h),bt.h=null))}if(ie.D){const rm=oa.g?oa.g.getResponseHeader("X-HTTP-Session-Id"):null;rm&&(ie.ya=rm,yi(ie.I,ie.D,rm))}}$.G=3,$.l&&$.l.ua(),$.ba&&($.R=Date.now()-m.F,$.j.info("Handshake RTT: "+$.R+"ms"));var sn=m;if((ie=$).qa=Gy(ie,ie.J?ie.ia:null,ie.W),sn.K){Gp(ie.h,sn);var fi=sn,Fs=ie.L;Fs&&(fi.I=Fs),fi.B&&(Ng(fi),Hp(fi)),ie.g=sn}else $y(ie);0<$.i.length&&yf($)}else"stop"!=Hr[0]&&"close"!=Hr[0]||Kl($,7);else 3==$.G&&("stop"==Hr[0]||"close"==Hr[0]?"stop"==Hr[0]?Kl($,7):Xp($):"noop"!=Hr[0]&&$.l&&$.l.ta(Hr),$.v=0)}df()}catch{}}function xy(m){this.l=m||10,m=D.PerformanceNavigationTiming?0<(m=D.performance.getEntriesByType("navigation")).length&&("hq"==m[0].nextHopProtocol||"h2"==m[0].nextHopProtocol):!!(D.chrome&&D.chrome.loadTimes&&D.chrome.loadTimes()&&D.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ry(m){return!!m.h||!!m.g&&m.g.size>=m.j}function My(m){return m.h?1:m.g?m.g.size:0}function zp(m,P){return m.h?m.h==P:!!m.g&&m.g.has(P)}function pf(m,P){m.g?m.g.add(P):m.h=P}function Gp(m,P){m.h&&m.h==P?m.h=null:m.g&&m.g.has(P)&&m.g.delete(P)}function Py(m){if(null!=m.h)return m.i.concat(m.h.D);if(null!=m.g&&0!==m.g.size){let P=m.i;for(const $ of m.g.values())P=P.concat($.D);return P}return qt(m.i)}function qp(m,P){if(m.forEach&&"function"==typeof m.forEach)m.forEach(P,void 0);else if(M(m)||"string"==typeof m)Array.prototype.forEach.call(m,P,void 0);else for(var $=function Kp(m){if(m.na&&"function"==typeof m.na)return m.na();if(!m.V||"function"!=typeof m.V){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(M(m)||"string"==typeof m){var P=[];m=m.length;for(var $=0;$<m;$++)P.push($);return P}P=[],$=0;for(const ie in m)P[$++]=ie;return P}}}(m),ie=function Wp(m){if(m.V&&"function"==typeof m.V)return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if("string"==typeof m)return m.split("");if(M(m)){for(var P=[],$=m.length,ie=0;ie<$;ie++)P.push(m[ie]);return P}for(ie in P=[],$=0,m)P[$++]=m[ie];return P}(m),et=ie.length,bt=0;bt<et;bt++)P.call(void 0,ie[bt],$&&$[bt],m)}kc.prototype.ca=function(m){m=m.target;const P=this.M;P&&3==Wl(m)?P.j():this.Y(m)},kc.prototype.Y=function(m){try{if(m==this.g)e:{const Es=Wl(this.g);var P=this.g.Ba();if(this.g.Z(),!(3>Es)&&(3!=Es||this.g&&(this.h.h||this.g.oa()||By(this.g)))){this.J||4!=Es||7==P||df(),Ng(this);var $=this.g.Z();this.X=$;t:if(Cy(this)){var ie=By(this.g);m="";var et=ie.length,bt=4==Wl(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Fc(this),ff(this);var sn="";break t}this.h.i=new D.TextDecoder}for(P=0;P<et;P++)this.h.h=!0,m+=this.h.i.decode(ie[P],{stream:!(bt&&P==et-1)});ie.length=0,this.h.g+=m,this.C=0,sn=this.h.g}else sn=this.g.oa();if(this.o=200==$,function by(m,P,$,ie,et,bt,sn){m.info(function(){return"XMLHTTP RESP ("+ie+") [ attempt "+et+"]: "+P+"\n"+$+"\n"+bt+" "+sn})}(this.i,this.u,this.A,this.l,this.R,Es,$),this.o){if(this.T&&!this.K){t:{if(this.g){var fi,Fs=this.g;if((fi=Fs.g?Fs.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Un(fi)){var Hr=fi;break t}}Hr=null}if(!($=Hr)){this.o=!1,this.s=3,to(12),Fc(this),ff(this);break e}tl(this.i,this.l,$,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$p(this,$)}if(this.P){let oa;for($=!0;!this.J&&this.C<sn.length;){if(oa=Pg(this,sn),oa==kd){4==Es&&(this.s=4,to(14),$=!1),tl(this.i,this.l,null,"[Incomplete Response]");break}if(oa==hf){this.s=4,to(15),tl(this.i,this.l,sn,"[Invalid Chunk]"),$=!1;break}tl(this.i,this.l,oa,null),$p(this,oa)}if(Cy(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=Es||0!=sn.length||this.h.h||(this.s=1,to(16),$=!1),this.o=this.o&&$,$){if(0<sn.length&&!this.W){this.W=!0;var Ls=this.j;Ls.g==this&&Ls.ba&&!Ls.M&&(Ls.j.info("Great, no buffering proxy detected. Bytes received: "+sn.length),tm(Ls),Ls.M=!0,to(11))}}else tl(this.i,this.l,sn,"[Invalid Chunked Response]"),Fc(this),ff(this)}else tl(this.i,this.l,sn,null),$p(this,sn);4==Es&&Fc(this),this.o&&!this.J&&(4==Es?gE(this.j,this):(this.o=!1,Hp(this)))}else(function jy(m){const P={};m=(m.g&&2<=Wl(m)&&m.g.getAllResponseHeaders()||"").split("\r\n");for(let ie=0;ie<m.length;ie++){if(Un(m[ie]))continue;var $=Xe(m[ie]);const et=$[0];if("string"!=typeof($=$[1]))continue;$=$.trim();const bt=P[et]||[];P[et]=bt,bt.push($)}!function $e(m,P){for(const $ in m)P.call(void 0,m[$],$,m)}(P,function(ie){return ie.join(", ")})})(this.g),400==$&&0<sn.indexOf("Unknown SID")?(this.s=3,to(12)):(this.s=0,to(13)),Fc(this),ff(this)}}}catch{}},kc.prototype.cancel=function(){this.J=!0,Fc(this)},kc.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(function Ty(m,P){m.info(function(){return"TIMEOUT: "+P})}(this.i,this.A),2!=this.L&&(df(),to(17)),Fc(this),this.s=2,ff(this)):Og(this,this.S-m)},xy.prototype.cancel=function(){if(this.i=Py(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const m of this.g.values())m.cancel();this.g.clear()}};var kg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ru(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof Ru){this.h=m.h,Fd(this,m.j),this.o=m.o,this.g=m.g,Ld(this,m.s),this.l=m.l;var P=m.i,$=new Ud;$.i=P.i,P.g&&($.g=new Map(P.g),$.h=P.h),Zp(this,$),this.m=m.m}else m&&(P=String(m).match(kg))?(this.h=!1,Fd(this,P[1]||"",!0),this.o=mf(P[2]||""),this.g=mf(P[3]||"",!0),Ld(this,P[4]),this.l=mf(P[5]||"",!0),Zp(this,P[6]||"",!0),this.m=mf(P[7]||"")):(this.h=!1,this.i=new Ud(null,this.h))}function Hl(m){return new Ru(m)}function Fd(m,P,$){m.j=$?mf(P,!0):P,m.j&&(m.j=m.j.replace(/:$/,""))}function Ld(m,P){if(P){if(P=Number(P),isNaN(P)||0>P)throw Error("Bad port number "+P);m.s=P}else m.s=null}function Zp(m,P,$){P instanceof Ud?(m.i=P,function ky(m,P){P&&!m.j&&($l(m),m.i=null,m.g.forEach(function($,ie){var et=ie.toLowerCase();ie!=et&&(Bg(this,ie),jg(this,et,$))},m)),m.j=P}(m.i,m.h)):($||(P=Vd(P,fE)),m.i=new Ud(P,m.h))}function yi(m,P,$){m.i.set(P,$)}function Qp(m){return yi(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function mf(m,P){return m?P?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Vd(m,P,$){return"string"==typeof m?(m=encodeURI(m).replace(P,Fg),$&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Fg(m){return"%"+((m=m.charCodeAt(0))>>4&15).toString(16)+(15&m).toString(16)}Ru.prototype.toString=function(){var m=[],P=this.j;P&&m.push(Vd(P,Lg,!0),":");var $=this.g;return($||"file"==P)&&(m.push("//"),(P=this.o)&&m.push(Vd(P,Lg,!0),"@"),m.push(encodeURIComponent(String($)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=($=this.s)&&m.push(":",String($))),($=this.l)&&(this.g&&"/"!=$.charAt(0)&&m.push("/"),m.push(Vd($,"/"==$.charAt(0)?Ug:Vg,!0))),($=this.i.toString())&&m.push("?",$),($=this.m)&&m.push("#",Vd($,Oy)),m.join("")};var m,Lg=/[#\/\?@]/g,Vg=/[#\?:]/g,Ug=/[#\?]/g,fE=/[#\?@]/g,Oy=/#/g;function Ud(m,P){this.h=this.g=null,this.i=m||null,this.j=!!P}function $l(m){m.g||(m.g=new Map,m.h=0,m.i&&function hE(m,P){if(m){m=m.split("&");for(var $=0;$<m.length;$++){var ie=m[$].indexOf("="),et=null;if(0<=ie){var bt=m[$].substring(0,ie);et=m[$].substring(ie+1)}else bt=m[$];P(bt,et?decodeURIComponent(et.replace(/\+/g," ")):"")}}}(m.i,function(P,$){m.add(decodeURIComponent(P.replace(/\+/g," ")),$)}))}function Bg(m,P){$l(m),P=Mu(m,P),m.g.has(P)&&(m.i=null,m.h-=m.g.get(P).length,m.g.delete(P))}function Ny(m,P){return $l(m),P=Mu(m,P),m.g.has(P)}function jg(m,P,$){Bg(m,P),0<$.length&&(m.i=null,m.g.set(Mu(m,P),qt($)),m.h+=$.length)}function Mu(m,P){return P=String(P),m.j&&(P=P.toLowerCase()),P}function zl(m,P,$,ie,et){try{et&&(et.onload=null,et.onerror=null,et.onabort=null,et.ontimeout=null),ie($)}catch{}}function Ly(){this.g=new yy}function Vy(m,P,$){const ie=$||"";try{qp(m,function(et,bt){let sn=et;H(et)&&(sn=Op(et)),P.push(ie+bt+"="+encodeURIComponent(sn))})}catch(et){throw P.push(ie+"type="+encodeURIComponent("_badmap")),et}}function Bd(m){this.l=m.Ub||null,this.j=m.eb||!1}function gf(m,P){ts.call(this),this.D=m,this.o=P,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function $g(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}function jd(m){m.readyState=4,m.l=null,m.j=null,m.v=null,Lc(m)}function Lc(m){m.onreadystatechange&&m.onreadystatechange.call(m)}function Gl(m){let P="";return Ir(m,function($,ie){P+=ie,P+=":",P+=$,P+="\r\n"}),P}function zg(m,P,$){e:{for(ie in $){var ie=!1;break e}ie=!0}ie||($=Gl($),"string"==typeof m?null!=$&&encodeURIComponent(String($)):yi(m,P,$))}function Wi(m){ts.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(a=Ud.prototype).add=function(m,P){$l(this),this.i=null,m=Mu(this,m);var $=this.g.get(m);return $||this.g.set(m,$=[]),$.push(P),this.h+=1,this},a.forEach=function(m,P){$l(this),this.g.forEach(function($,ie){$.forEach(function(et){m.call(P,et,ie,this)},this)},this)},a.na=function(){$l(this);const m=Array.from(this.g.values()),P=Array.from(this.g.keys()),$=[];for(let ie=0;ie<P.length;ie++){const et=m[ie];for(let bt=0;bt<et.length;bt++)$.push(P[ie])}return $},a.V=function(m){$l(this);let P=[];if("string"==typeof m)Ny(this,m)&&(P=P.concat(this.g.get(Mu(this,m))));else{m=Array.from(this.g.values());for(let $=0;$<m.length;$++)P=P.concat(m[$])}return P},a.set=function(m,P){return $l(this),this.i=null,Ny(this,m=Mu(this,m))&&(this.h-=this.g.get(m).length),this.g.set(m,[P]),this.h+=1,this},a.get=function(m,P){return m&&0<(m=this.V(m)).length?String(m[0]):P},a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],P=Array.from(this.g.keys());for(var $=0;$<P.length;$++){var ie=P[$];const bt=encodeURIComponent(String(ie)),sn=this.V(ie);for(ie=0;ie<sn.length;ie++){var et=bt;""!==sn[ie]&&(et+="="+encodeURIComponent(String(sn[ie]))),m.push(et)}}return this.i=m.join("&")},Nt(Bd,Np),Bd.prototype.g=function(){return new gf(this.l,this.j)},Bd.prototype.i=(m={},function(){return m}),Nt(gf,ts),(a=gf.prototype).open=function(m,P){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=P,this.readyState=1,Lc(this)},a.send=function(m){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const P={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(P.body=m),(this.D||D).fetch(new Request(this.A,P)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,jd(this)),this.readyState=0},a.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Lc(this)),this.g&&(this.readyState=3,Lc(this),this.g)))if("arraybuffer"===this.responseType)m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof D.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;$g(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))},a.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var P=m.value?m.value:new Uint8Array(0);(P=this.v.decode(P,{stream:!m.done}))&&(this.response=this.responseText+=P)}m.done?jd(this):Lc(this),3==this.readyState&&$g(this)}},a.Ra=function(m){this.g&&(this.response=this.responseText=m,jd(this))},a.Qa=function(m){this.g&&(this.response=m,jd(this))},a.ga=function(){this.g&&jd(this)},a.setRequestHeader=function(m,P){this.u.append(m,P)},a.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],P=this.h.entries();for(var $=P.next();!$.done;)m.push(($=$.value)[0]+": "+$[1]),$=P.next();return m.join("\r\n")},Object.defineProperty(gf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(m){this.m=m?"include":"same-origin"}}),Nt(Wi,ts);var Gg=/^https?$/i,Pu=["POST","PUT"];function Yp(m,P){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=P,m.m=5,Uy(m),Wg(m)}function Uy(m){m.A||(m.A=!0,hs(m,"complete"),hs(m,"error"))}function Jp(m){if(m.h&&typeof g<"u"&&(!m.v[1]||4!=Wl(m)||2!=m.Z()))if(m.u&&4==Wl(m))Cu(m.Ea,0,m);else if(hs(m,"readystatechange"),4==Wl(m)){m.h=!1;try{const sn=m.Z();e:switch(sn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var P=!0;break e;default:P=!1}var $;if(!($=P)){var ie;if(ie=0===sn){var et=String(m.D).match(kg)[1]||null;!et&&D.self&&D.self.location&&(et=D.self.location.protocol.slice(0,-1)),ie=!Gg.test(et?et.toLowerCase():"")}$=ie}if($)hs(m,"complete"),hs(m,"success");else{m.m=6;try{var bt=2<Wl(m)?m.g.statusText:""}catch{bt=""}m.l=bt+" ["+m.Z()+"]",Uy(m)}}finally{Wg(m)}}}function Wg(m,P){if(m.g){pE(m);const $=m.g,ie=m.v[0]?()=>{}:null;m.g=null,m.v=null,P||hs(m,"ready");try{$.onreadystatechange=ie}catch{}}}function pE(m){m.I&&(D.clearTimeout(m.I),m.I=null)}function Wl(m){return m.g?m.g.readyState:0}function By(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function _f(m,P,$){return $&&$.internalChannelParams&&$.internalChannelParams[m]||P}function fs(m){this.Aa=0,this.i=[],this.j=new xu,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=_f("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=_f("baseRetryDelayMs",5e3,m),this.cb=_f("retryDelaySeedMs",1e4,m),this.Wa=_f("forwardChannelMaxRetries",2,m),this.wa=_f("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new xy(m&&m.concurrentRequestLimit),this.Da=new Ly,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Xp(m){if(Hy(m),3==m.G){var P=m.U++,$=Hl(m.I);if(yi($,"SID",m.K),yi($,"RID",P),yi($,"TYPE","terminate"),Hd(m,$),(P=new kc(m,m.j,P)).L=2,P.v=Qp(Hl($)),$=!1,D.navigator&&D.navigator.sendBeacon)try{$=D.navigator.sendBeacon(P.v.toString(),"")}catch{}!$&&D.Image&&((new Image).src=P.v,$=!0),$||(P.g=Wy(P.j,null),P.g.ea(P.v)),P.F=Date.now(),Hp(P)}Pa(m)}function em(m){m.g&&(tm(m),m.g.cancel(),m.g=null)}function Hy(m){em(m),m.u&&(D.clearTimeout(m.u),m.u=null),vf(m),m.h.cancel(),m.s&&("number"==typeof m.s&&D.clearTimeout(m.s),m.s=null)}function yf(m){if(!Ry(m.h)&&!m.s){m.s=!0;var P=m.Ga;rf||fy(),sf||(rf(),sf=!0),wg.add(P,m),m.B=0}}function Kg(m,P){var $;$=P?P.l:m.U++;const ie=Hl(m.I);yi(ie,"SID",m.K),yi(ie,"RID",$),yi(ie,"AID",m.T),Hd(m,ie),m.m&&m.o&&zg(ie,m.m,m.o),$=new kc(m,m.j,$,m.B+1),null===m.m&&($.H=m.o),P&&(m.i=P.D.concat(m.i)),P=Ou(m,$,1e3),$.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),pf(m.h,$),Dy($,ie,P)}function Hd(m,P){m.H&&Ir(m.H,function($,ie){yi(P,ie,$)}),m.l&&qp({},function($,ie){yi(P,ie,$)})}function Ou(m,P,$){$=Math.min(m.i.length,$);var ie=m.l?xe(m.l.Na,m.l,m):null;e:{var et=m.i;let bt=-1;for(;;){const sn=["count="+$];-1==bt?0<$?(bt=et[0].g,sn.push("ofs="+bt)):bt=0:sn.push("ofs="+bt);let fi=!0;for(let Fs=0;Fs<$;Fs++){let Hr=et[Fs].g;const Ls=et[Fs].map;if(Hr-=bt,0>Hr)bt=Math.max(0,et[Fs].g-100),fi=!1;else try{Vy(Ls,sn,"req"+Hr+"_")}catch{ie&&ie(Ls)}}if(fi){ie=sn.join("&");break e}}}return m=m.i.splice(0,$),P.D=m,ie}function $y(m){if(!m.g&&!m.u){m.Y=1;var P=m.Fa;rf||fy(),sf||(rf(),sf=!0),wg.add(P,m),m.v=0}}function qg(m){return!(m.g||m.u||3<=m.v||(m.Y++,m.u=jl(xe(m.Fa,m),nm(m,m.v)),m.v++,0))}function tm(m){null!=m.A&&(D.clearTimeout(m.A),m.A=null)}function zy(m){m.g=new kc(m,m.j,"rpc",m.Y),null===m.m&&(m.g.H=m.o),m.g.O=0;var P=Hl(m.qa);yi(P,"RID","rpc"),yi(P,"SID",m.K),yi(P,"AID",m.T),yi(P,"CI",m.F?"0":"1"),!m.F&&m.ja&&yi(P,"TO",m.ja),yi(P,"TYPE","xmlhttp"),Hd(m,P),m.m&&m.o&&zg(P,m.m,m.o),m.L&&(m.g.I=m.L);var $=m.g;m=m.ia,$.L=1,$.v=Qp(Hl(P)),$.m=null,$.P=!0,Ay($,m)}function vf(m){null!=m.C&&(D.clearTimeout(m.C),m.C=null)}function gE(m,P){var $=null;if(m.g==P){vf(m),tm(m),m.g=null;var ie=2}else{if(!zp(m.h,P))return;$=P.D,Gp(m.h,P),ie=1}if(0!=m.G)if(P.o)if(1==ie){$=P.m?P.m.length:0,P=Date.now()-P.F;var et=m.B;hs(ie=Lp(),new Vp(ie,$)),yf(m)}else $y(m);else if(3==(et=P.s)||0==et&&0<P.X||!(1==ie&&function mE(m,P){return!(My(m.h)>=m.h.j-(m.s?1:0)||(m.s?(m.i=P.D.concat(m.i),0):1==m.G||2==m.G||m.B>=(m.Va?0:m.Wa)||(m.s=jl(xe(m.Ga,m,P),nm(m,m.B)),m.B++,0)))}(m,P)||2==ie&&qg(m)))switch($&&0<$.length&&(P=m.h,P.i=P.i.concat($)),et){case 1:Kl(m,5);break;case 4:Kl(m,10);break;case 3:Kl(m,6);break;default:Kl(m,2)}}function nm(m,P){let $=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||($*=2),$*P}function Kl(m,P){if(m.j.info("Error code "+P),2==P){var $=xe(m.fb,m),ie=m.Xa;const et=!ie;ie=new Ru(ie||"//www.google.com/images/cleardot.gif"),D.location&&"http"==D.location.protocol||Fd(ie,"https"),Qp(ie),et?function Hg(m,P){const $=new xu;if(D.Image){const ie=new Image;ie.onload=at(zl,$,"TestLoadImage: loaded",!0,P,ie),ie.onerror=at(zl,$,"TestLoadImage: error",!1,P,ie),ie.onabort=at(zl,$,"TestLoadImage: abort",!1,P,ie),ie.ontimeout=at(zl,$,"TestLoadImage: timeout",!1,P,ie),D.setTimeout(function(){ie.ontimeout&&ie.ontimeout()},1e4),ie.src=m}else P(!1)}(ie.toString(),$):function Fy(m,P){new xu;const ie=new AbortController,et=setTimeout(()=>{ie.abort(),zl(0,0,!1,P)},1e4);fetch(m,{signal:ie.signal}).then(bt=>{clearTimeout(et),zl(0,0,!!bt.ok,P)}).catch(()=>{clearTimeout(et),zl(0,0,!1,P)})}(ie.toString(),$)}else to(2);m.G=0,m.l&&m.l.sa(P),Pa(m),Hy(m)}function Pa(m){if(m.G=0,m.ka=[],m.l){const P=Py(m.h);(0!=P.length||0!=m.i.length)&&(Lt(m.ka,P),Lt(m.ka,m.i),m.h.i.length=0,qt(m.i),m.i.length=0),m.l.ra()}}function Gy(m,P,$){var ie=$ instanceof Ru?Hl($):new Ru($);if(""!=ie.g)P&&(ie.g=P+"."+ie.g),Ld(ie,ie.s);else{var et=D.location;ie=et.protocol,P=P?P+"."+et.hostname:et.hostname,et=+et.port;var bt=new Ru(null);ie&&Fd(bt,ie),P&&(bt.g=P),et&&Ld(bt,et),$&&(bt.l=$),ie=bt}return P=m.ya,($=m.D)&&P&&yi(ie,$,P),yi(ie,"VER",m.la),Hd(m,ie),ie}function Wy(m,P,$){if(P&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return(P=new Wi(m.Ca&&!m.pa?new Bd({eb:$}):m.pa)).Ha(m.J),P}function Oa(){}function bo(){}function Fi(m,P){ts.call(this),this.g=new fs(P),this.l=m,this.h=P&&P.messageUrlParams||null,m=P&&P.messageHeaders||null,P&&P.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=P&&P.initMessageHeaders||null,P&&P.messageContentType&&(m?m["X-WebChannel-Content-Type"]=P.messageContentType:m={"X-WebChannel-Content-Type":P.messageContentType}),P&&P.va&&(m?m["X-WebChannel-Client-Profile"]=P.va:m={"X-WebChannel-Client-Profile":P.va}),this.g.S=m,(m=P&&P.Sb)&&!Un(m)&&(this.g.m=m),this.v=P&&P.supportsCrossDomainXhr||!1,this.u=P&&P.sendRawJson||!1,(P=P&&P.httpSessionIdParam)&&!Un(P)&&(this.g.D=P,null!==(m=this.h)&&P in m&&P in(m=this.h)&&delete m[P]),this.j=new $d(this)}function Zg(m){Ey.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var P=m.__sm__;if(P){e:{for(const $ in P){m=$;break e}m=void 0}(this.i=m)&&(m=this.i,P=null!==P&&m in P?P[m]:void 0),this.data=P}else this.data=m}function Qg(){Rg.call(this),this.status=1}function $d(m){this.g=m}(a=Wi.prototype).Ha=function(m){this.J=m},a.ea=function(m,P,$,ie){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);P=P?P.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Mg.g(),this.v=function kp(m){return m.h||(m.h=m.i())}(this.o?this.o:Mg),this.g.onreadystatechange=xe(this.Ea,this);try{this.B=!0,this.g.open(P,String(m),!0),this.B=!1}catch(bt){return void Yp(this,bt)}if(m=$||"",$=new Map(this.headers),ie)if(Object.getPrototypeOf(ie)===Object.prototype)for(var et in ie)$.set(et,ie[et]);else{if("function"!=typeof ie.keys||"function"!=typeof ie.get)throw Error("Unknown input type for opt_headers: "+String(ie));for(const bt of ie.keys())$.set(bt,ie.get(bt))}ie=Array.from($.keys()).find(bt=>"content-type"==bt.toLowerCase()),et=D.FormData&&m instanceof D.FormData,!(0<=Array.prototype.indexOf.call(Pu,P,void 0))||ie||et||$.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[bt,sn]of $)this.g.setRequestHeader(bt,sn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{pE(this),this.u=!0,this.g.send(m),this.u=!1}catch(bt){Yp(this,bt)}},a.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,hs(this,"complete"),hs(this,"abort"),Wg(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wg(this,!0)),Wi.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?Jp(this):this.bb())},a.bb=function(){Jp(this)},a.isActive=function(){return!!this.g},a.Z=function(){try{return 2<Wl(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(m){if(this.g){var P=this.g.responseText;return m&&0==P.indexOf(m)&&(P=P.substring(m.length)),_y(P)}},a.Ba=function(){return this.m},a.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(a=fs.prototype).la=8,a.G=1,a.connect=function(m,P,$,ie){to(0),this.W=m,this.H=P||{},$&&void 0!==ie&&(this.H.OSID=$,this.H.OAID=ie),this.F=this.X,this.I=Gy(this,null,this.W),yf(this)},a.Ga=function(m){if(this.s)if(this.s=null,1==this.G){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const et=new kc(this,this.j,m);let bt=this.o;if(this.S&&(bt?(bt=we(bt),Ke(bt,this.S)):bt=this.S),null!==this.m||this.O||(et.H=bt,bt=null),this.P)e:{for(var P=0,$=0;$<this.i.length;$++){var ie=this.i[$];if(void 0===(ie="__data__"in ie.map&&"string"==typeof(ie=ie.map.__data__)?ie.length:void 0))break;if(4096<(P+=ie)){P=$;break e}if(4096===P||$===this.i.length-1){P=$+1;break e}}P=1e3}else P=1e3;P=Ou(this,et,P),yi($=Hl(this.I),"RID",m),yi($,"CVER",22),this.D&&yi($,"X-HTTP-Session-Id",this.D),Hd(this,$),bt&&(this.O?P="headers="+encodeURIComponent(String(Gl(bt)))+"&"+P:this.m&&zg($,this.m,bt)),pf(this.h,et),this.Ua&&yi($,"TYPE","init"),this.P?(yi($,"$req",P),yi($,"SID","null"),et.T=!0,Dy(et,$,null)):Dy(et,$,P),this.G=2}}else 3==this.G&&(m?Kg(this,m):0==this.i.length||Ry(this.h)||Kg(this))},a.Fa=function(){if(this.u=null,zy(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=jl(xe(this.ab,this),m)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,to(10),em(this),zy(this))},a.Za=function(){null!=this.C&&(this.C=null,em(this),qg(this),to(19))},a.fb=function(m){m?(this.j.info("Successfully pinged google.com"),to(2)):(this.j.info("Failed to ping google.com"),to(1))},a.isActive=function(){return!!this.l&&this.l.isActive(this)},(a=Oa.prototype).ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){},bo.prototype.g=function(m,P){return new Fi(m,P)},Nt(Fi,ts),Fi.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Fi.prototype.close=function(){Xp(this.g)},Fi.prototype.o=function(m){var P=this.g;if("string"==typeof m){var $={};$.__data__=m,m=$}else this.u&&(($={}).__data__=Op(m),m=$);P.i.push(new class{constructor(m,P){this.g=m,this.map=P}}(P.Ya++,m)),3==P.G&&yf(P)},Fi.prototype.N=function(){this.g.l=null,delete this.j,Xp(this.g),delete this.g,Fi.aa.N.call(this)},Nt(Zg,Ey),Nt(Qg,Rg),Nt($d,Oa),$d.prototype.ua=function(){hs(this.g,"a")},$d.prototype.ta=function(m){hs(this.g,new Zg(m))},$d.prototype.sa=function(m){hs(this.g,new Qg)},$d.prototype.ra=function(){hs(this.g,"b")},bo.prototype.createWebChannel=bo.prototype.g,Fi.prototype.send=Fi.prototype.o,Fi.prototype.open=Fi.prototype.m,Fi.prototype.close=Fi.prototype.close,rt=dn.createWebChannelTransport=function(){return new bo},ct=dn.getStatEventTarget=function(){return Lp()},Be=dn.Event=Su,Ne=dn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Nc.NO_ERROR=0,Nc.TIMEOUT=8,Nc.HTTP_ERROR=6,En=dn.ErrorCode=Nc,wy.COMPLETE="complete",hn=dn.EventType=wy,vy.EventType=Fp,Fp.OPEN="a",Fp.CLOSE="b",Fp.ERROR="c",Fp.MESSAGE="d",ts.prototype.listen=ts.prototype.K,Vn=dn.WebChannel=vy,br=dn.FetchXmlHttpFactory=Bd,Wi.prototype.listenOnce=Wi.prototype.L,Wi.prototype.getLastError=Wi.prototype.Ka,Wi.prototype.getLastErrorCode=Wi.prototype.Ba,Wi.prototype.getStatus=Wi.prototype.Z,Wi.prototype.getResponseJson=Wi.prototype.Oa,Wi.prototype.getResponseText=Wi.prototype.oa,Wi.prototype.send=Wi.prototype.ea,Wi.prototype.setWithCredentials=Wi.prototype.Ha,An=dn.XhrIo=Wi}).apply(typeof an<"u"?an:typeof self<"u"?self:typeof window<"u"?window:{});const wt="@firebase/firestore";class ut{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ut.UNAUTHENTICATED=new ut(null),ut.GOOGLE_CREDENTIALS=new ut("google-credentials-uid"),ut.FIRST_PARTY=new ut("first-party-uid"),ut.MOCK_USER=new ut("mock-user");let jt="10.12.1";const yt=new me.Yd("@firebase/firestore");function sr(){return yt.logLevel}function st(a,...e){if(yt.logLevel<=me.in.DEBUG){const r=e.map(In);yt.debug(`Firestore (${jt}): ${a}`,...r)}}function Zt(a,...e){if(yt.logLevel<=me.in.ERROR){const r=e.map(In);yt.error(`Firestore (${jt}): ${a}`,...r)}}function Yn(a,...e){if(yt.logLevel<=me.in.WARN){const r=e.map(In);yt.warn(`Firestore (${jt}): ${a}`,...r)}}function In(a){if("string"==typeof a)return a;try{return JSON.stringify(a)}catch{return a}}function St(a="Unexpected state"){const e=`FIRESTORE (${jt}) INTERNAL ASSERTION FAILED: `+a;throw Zt(e),new Error(e)}function Rt(a,e){a||St()}function Pt(a,e){return a}const tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class It extends He.ZR{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class or{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class Nr{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Tr{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(ut.UNAUTHENTICATED))}shutdown(){}}class fn{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class wn{constructor(e){this.t=e,this.currentUser=ut.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var s=this;let l=this.i;const f=H=>this.i!==l?(l=this.i,r(H)):Promise.resolve();let g=new or;this.o=()=>{this.i++,this.currentUser=this.u(),g.resolve(),g=new or,e.enqueueRetryable(()=>f(this.currentUser))};const D=()=>{const H=g;e.enqueueRetryable((0,Ie.Z)(function*(){yield H.promise,yield f(s.currentUser)}))},M=H=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=H,this.auth.addAuthTokenListener(this.o),D()};this.t.onInit(H=>M(H)),setTimeout(()=>{if(!this.auth){const H=this.t.getImmediate({optional:!0});H?M(H):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),g.resolve(),g=new or)}},0),D()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(s=>this.i!==e?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Rt("string"==typeof s.accessToken),new Nr(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Rt(null===e||"string"==typeof e),new ut(e)}}class xn{constructor(e,r,s){this.l=e,this.h=r,this.P=s,this.type="FirstParty",this.user=ut.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class tr{constructor(e,r,s){this.l=e,this.h=r,this.P=s}getToken(){return Promise.resolve(new xn(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(ut.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Cn{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gr{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){const s=f=>{null!=f.error&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const g=f.token!==this.R;return this.R=f.token,st("FirebaseAppCheckTokenProvider",`Received ${g?"new":"existing"} token.`),g?r(f.token):Promise.resolve()};this.o=f=>{e.enqueueRetryable(()=>s(f))};const l=f=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.appCheck.addTokenListener(this.o)};this.A.onInit(f=>l(f)),setTimeout(()=>{if(!this.appCheck){const f=this.A.getImmediate({optional:!0});f?l(f):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Rt("string"==typeof r.token),this.R=r.token,new Cn(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Dr(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(a);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let s=0;s<a;s++)r[s]=Math.floor(256*Math.random());return r}class vi{static newId(){const r=62*Math.floor(256/62);let s="";for(;s.length<20;){const l=Dr(40);for(let f=0;f<l.length;++f)s.length<20&&l[f]<r&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(l[f]%62))}return s}}function At(a,e){return a<e?-1:a>e?1:0}function Fr(a,e,r){return a.length===e.length&&a.every((s,l)=>r(s,e[l]))}function zn(a){return a+"\0"}class Gn{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new It(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new It(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new It(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new It(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Gn.fromMillis(Date.now())}static fromDate(e){return Gn.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*r));return new Gn(r,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?At(this.nanoseconds,e.nanoseconds):At(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ht{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ht(e)}static min(){return new Ht(new Gn(0,0))}static max(){return new Ht(new Gn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Pr{constructor(e,r,s){void 0===r?r=0:r>e.length&&St(),void 0===s?s=e.length-r:s>e.length-r&&St(),this.segments=e,this.offset=r,this.len=s}get length(){return this.len}isEqual(e){return 0===Pr.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Pr?e.forEach(s=>{r.push(s)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,s=this.limit();r<s;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const s=Math.min(e.length,r.length);for(let l=0;l<s;l++){const f=e.get(l),g=r.get(l);if(f<g)return-1;if(f>g)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class ln extends Pr{construct(e,r,s){return new ln(e,r,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const s of e){if(s.indexOf("//")>=0)throw new It(tt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);r.push(...s.split("/").filter(l=>l.length>0))}return new ln(r)}static emptyPath(){return new ln([])}}const $r=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dt extends Pr{construct(e,r,s){return new dt(e,r,s)}static isValidIdentifier(e){return $r.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new dt(["__name__"])}static fromServerFormat(e){const r=[];let s="",l=0;const f=()=>{if(0===s.length)throw new It(tt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(s),s=""};let g=!1;for(;l<e.length;){const D=e[l];if("\\"===D){if(l+1===e.length)throw new It(tt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const M=e[l+1];if("\\"!==M&&"."!==M&&"`"!==M)throw new It(tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=M,l+=2}else"`"===D?(g=!g,l++):"."!==D||g?(s+=D,l++):(f(),l++)}if(f(),g)throw new It(tt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dt(r)}static emptyPath(){return new dt([])}}class he{constructor(e){this.path=e}static fromPath(e){return new he(ln.fromString(e))}static fromName(e){return new he(ln.fromString(e).popFirst(5))}static empty(){return new he(ln.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ln.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return ln.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new he(new ln(e.slice()))}}class X{constructor(e,r,s,l){this.indexId=e,this.collectionGroup=r,this.fields=s,this.indexState=l}}function Se(a){return a.fields.find(e=>2===e.kind)}function oe(a){return a.fields.filter(e=>2!==e.kind)}X.UNKNOWN_ID=-1;class lt{constructor(e,r){this.fieldPath=e,this.kind=r}}class U{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new U(0,F.min())}}function V(a,e){const r=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,l=Ht.fromTimestamp(1e9===s?new Gn(r+1,0):new Gn(r,s));return new F(l,he.empty(),e)}function R(a){return new F(a.readTime,a.key,-1)}class F{constructor(e,r,s){this.readTime=e,this.documentKey=r,this.largestBatchId=s}static min(){return new F(Ht.min(),he.empty(),-1)}static max(){return new F(Ht.max(),he.empty(),-1)}}function se(a,e){let r=a.readTime.compareTo(e.readTime);return 0!==r?r:(r=he.comparator(a.documentKey,e.documentKey),0!==r?r:At(a.largestBatchId,e.largestBatchId))}const Ze="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Bt{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Yt(a){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,Ie.Z)(function*(a){if(a.code!==tt.FAILED_PRECONDITION||a.message!==Ze)throw a;st("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class be{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&St(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new be((s,l)=>{this.nextCallback=f=>{this.wrapSuccess(e,f).next(s,l)},this.catchCallback=f=>{this.wrapFailure(r,f).next(s,l)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof be?r:be.resolve(r)}catch(r){return be.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):be.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):be.reject(r)}static resolve(e){return new be((r,s)=>{r(e)})}static reject(e){return new be((r,s)=>{s(e)})}static waitFor(e){return new be((r,s)=>{let l=0,f=0,g=!1;e.forEach(D=>{++l,D.next(()=>{++f,g&&f===l&&r()},M=>s(M))}),g=!0,f===l&&r()})}static or(e){let r=be.resolve(!1);for(const s of e)r=r.next(l=>l?be.resolve(l):s());return r}static forEach(e,r){const s=[];return e.forEach((l,f)=>{s.push(r.call(this,l,f))}),this.waitFor(s)}static mapArray(e,r){return new be((s,l)=>{const f=e.length,g=new Array(f);let D=0;for(let M=0;M<f;M++){const H=M;r(e[H]).next(Q=>{g[H]=Q,++D,D===f&&s(g)},Q=>l(Q))}})}static doWhile(e,r){return new be((s,l)=>{const f=()=>{!0===e()?r().next(()=>{f()},l):s()};f()})}}class en{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.V=new or,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new Re(e,r.error)):this.V.resolve()},this.transaction.onerror=s=>{const l=hr(s.target.error);this.V.reject(new Re(e,l))}}static open(e,r,s,l){try{return new en(r,e.transaction(l,s))}catch(f){throw new Re(r,f)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(st("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const r=this.transaction.objectStore(e);return new Ft(r)}}class Zn{constructor(e,r,s){this.name=e,this.version=r,this.p=s,12.2===Zn.S((0,He.z$)())&&Zt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return st("SimpleDb","Removing database:",e),Kt(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,He.hl)())return!1;if(Zn.C())return!0;const e=(0,He.z$)(),r=Zn.S(e),s=0<r&&r<10,l=je(e),f=0<l&&l<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||f)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.v)}static F(e,r){return e.store(r)}static S(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(s)}M(e){var r=this;return(0,Ie.Z)(function*(){return r.db||(st("SimpleDb","Opening database:",r.name),r.db=yield new Promise((s,l)=>{const f=indexedDB.open(r.name,r.version);f.onsuccess=g=>{s(g.target.result)},f.onblocked=()=>{l(new Re(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},f.onerror=g=>{const D=g.target.error;l("VersionError"===D.name?new It(tt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===D.name?new It(tt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+D):new Re(e,D))},f.onupgradeneeded=g=>{st("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',g.oldVersion),r.p.O(g.target.result,f.transaction,g.oldVersion,r.version).next(()=>{st("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.N&&(r.db.onversionchange=s=>r.N(s)),r.db})()}L(e){this.N=e,this.db&&(this.db.onversionchange=r=>e(r))}runTransaction(e,r,s,l){var f=this;return(0,Ie.Z)(function*(){const g="readonly"===r;let D=0;for(;;){++D;try{f.db=yield f.M(e);const M=en.open(f.db,e,g?"readonly":"readwrite",s),H=l(M).next(Q=>(M.g(),Q)).catch(Q=>(M.abort(Q),be.reject(Q))).toPromise();return H.catch(()=>{}),yield M.m,H}catch(M){const H=M,Q="FirebaseError"!==H.name&&D<3;if(st("SimpleDb","Transaction failed with error:",H.message,"Retrying:",Q),f.close(),!Q)return Promise.reject(H)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function je(a){const e=a.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}class Ae{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Kt(this.B.delete())}}class Re extends It{constructor(e,r){super(tt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function mt(a){return"IndexedDbTransactionError"===a.name}class Ft{constructor(e){this.store=e}put(e,r){let s;return void 0!==r?(st("SimpleDb","PUT",this.store.name,e,r),s=this.store.put(r,e)):(st("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),Kt(s)}add(e){return st("SimpleDb","ADD",this.store.name,e,e),Kt(this.store.add(e))}get(e){return Kt(this.store.get(e)).next(r=>(void 0===r&&(r=null),st("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return st("SimpleDb","DELETE",this.store.name,e),Kt(this.store.delete(e))}count(){return st("SimpleDb","COUNT",this.store.name),Kt(this.store.count())}U(e,r){const s=this.options(e,r),l=s.index?this.store.index(s.index):this.store;if("function"==typeof l.getAll){const f=l.getAll(s.range);return new be((g,D)=>{f.onerror=M=>{D(M.target.error)},f.onsuccess=M=>{g(M.target.result)}})}{const f=this.cursor(s),g=[];return this.W(f,(D,M)=>{g.push(M)}).next(()=>g)}}G(e,r){const s=this.store.getAll(e,null===r?void 0:r);return new be((l,f)=>{s.onerror=g=>{f(g.target.error)},s.onsuccess=g=>{l(g.target.result)}})}j(e,r){st("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,r);s.H=!1;const l=this.cursor(s);return this.W(l,(f,g,D)=>D.delete())}J(e,r){let s;r?s=e:(s={},r=e);const l=this.cursor(s);return this.W(l,r)}Y(e){const r=this.cursor({});return new be((s,l)=>{r.onerror=f=>{const g=hr(f.target.error);l(g)},r.onsuccess=f=>{const g=f.target.result;g?e(g.primaryKey,g.value).next(D=>{D?g.continue():s()}):s()}})}W(e,r){const s=[];return new be((l,f)=>{e.onerror=g=>{f(g.target.error)},e.onsuccess=g=>{const D=g.target.result;if(!D)return void l();const M=new Ae(D),H=r(D.primaryKey,D.value,M);if(H instanceof be){const Q=H.catch(ce=>(M.done(),be.reject(ce)));s.push(Q)}M.isDone?l():null===M.K?D.continue():D.continue(M.K)}}).next(()=>be.waitFor(s))}options(e,r){let s;return void 0!==e&&("string"==typeof e?s=e:r=e),{index:s,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const s=this.store.index(e.index);return e.H?s.openKeyCursor(e.range,r):s.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function Kt(a){return new be((e,r)=>{a.onsuccess=s=>{e(s.target.result)},a.onerror=s=>{const l=hr(s.target.error);r(l)}})}let zt=!1;function hr(a){const e=Zn.S((0,He.z$)());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(a.message.indexOf(r)>=0){const s=new It("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return zt||(zt=!0,setTimeout(()=>{throw s},0)),s}}return a}class Qt{constructor(e,r){this.asyncQueue=e,this.Z=r,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){var r=this;st("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Ie.Z)(function*(){r.task=null;try{st("IndexBackfiller",`Documents written: ${yield r.Z.ee()}`)}catch(s){mt(s)?st("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",s):yield Yt(s)}yield r.X(6e4)}))}}class ot{constructor(e,r){this.localStore=e,this.persistence=r}ee(e=50){var r=this;return(0,Ie.Z)(function*(){return r.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>r.te(s,e))})()}te(e,r){const s=new Set;let l=r,f=!0;return be.doWhile(()=>!0===f&&l>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(g=>{if(null!==g&&!s.has(g))return st("IndexBackfiller",`Processing collection: ${g}`),this.ne(e,g,l).next(D=>{l-=D,s.add(g)});f=!1})).next(()=>r-l)}ne(e,r,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(l=>this.localStore.localDocuments.getNextDocuments(e,r,l,s).next(f=>{const g=f.changes;return this.localStore.indexManager.updateIndexEntries(e,g).next(()=>this.re(l,f)).next(D=>(st("IndexBackfiller",`Updating offset: ${D}`),this.localStore.indexManager.updateCollectionGroup(e,r,D))).next(()=>g.size)}))}re(e,r){let s=e;return r.changes.forEach((l,f)=>{const g=R(f);se(g,s)>0&&(s=g)}),new F(s.readTime,s.documentKey,Math.max(r.batchId,e.largestBatchId))}}let Ve=(()=>{class a{constructor(r,s){this.previousValue=r,s&&(s.sequenceNumberHandler=l=>this.ie(l),this.se=l=>s.writeSequenceNumber(l))}ie(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.se&&this.se(r),r}}return a.oe=-1,a})();function _t(a){return null==a}function $t(a){return 0===a&&1/a==-1/0}function _n(a){return"number"==typeof a&&Number.isInteger(a)&&!$t(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}function on(a){let e="";for(let r=0;r<a.length;r++)e.length>0&&(e=Rn(e)),e=un(a.get(r),e);return Rn(e)}function un(a,e){let r=e;const s=a.length;for(let l=0;l<s;l++){const f=a.charAt(l);switch(f){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=f}}return r}function Rn(a){return a+"\x01\x01"}function jn(a){const e=a.length;if(Rt(e>=2),2===e)return Rt("\x01"===a.charAt(0)&&"\x01"===a.charAt(1)),ln.emptyPath();const r=e-2,s=[];let l="";for(let f=0;f<e;){const g=a.indexOf("\x01",f);switch((g<0||g>r)&&St(),a.charAt(g+1)){case"\x01":const D=a.substring(f,g);let M;0===l.length?M=D:(l+=D,M=l,l=""),s.push(M);break;case"\x10":l+=a.substring(f,g),l+="\0";break;case"\x11":l+=a.substring(f,g+1);break;default:St()}f=g+2}return new ln(s)}const qr=["userId","batchId"];function Ar(a,e){return[a,on(e)]}function Lr(a,e,r){return[a,on(e),r]}const _r={},Li=["prefixPath","collectionGroup","readTime","documentId"],Ki=["prefixPath","collectionGroup","documentId"],Is=["collectionGroup","readTime","prefixPath","documentId"],qi=["canonicalId","targetId"],$s=["targetId","path"],Ai=["path","targetId"],Vs=["collectionId","parent"],no=["indexId","uid"],Na=["uid","sequenceNumber"],To=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],ka=["indexId","uid","orderedDocumentKey"],Fa=["userId","collectionPath","documentId"],wo=["userId","collectionPath","largestBatchId"],Lo=["userId","collectionGroup","largestBatchId"],Vi=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Vo=[...Vi,"documentOverlays"],zs=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Gs=zs,ua=[...Gs,"indexConfiguration","indexState","indexEntries"],Do=ua;class bs extends Bt{constructor(e,r){super(),this._e=e,this.currentSequenceNumber=r}}function ii(a,e){const r=Pt(a);return Zn.F(r._e,e)}function ro(a){let e=0;for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&e++;return e}function Ts(a,e){for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&e(r,a[r])}function lr(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}class Xn{constructor(e,r){this.comparator=e,this.root=r||Ur.EMPTY}insert(e,r){return new Xn(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Ur.BLACK,null,null))}remove(e){return new Xn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ur.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}indexOf(e){let r=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(0===l)return r+s.left.size;l<0?s=s.left:(r+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,s)=>(e(r,s),!1))}toString(){const e=[];return this.inorderTraversal((r,s)=>(e.push(`${r}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ci(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ci(this.root,e,this.comparator,!1)}getReverseIterator(){return new ci(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ci(this.root,e,this.comparator,!0)}}class ci{constructor(e,r,s,l){this.isReverse=l,this.nodeStack=[];let f=1;for(;!e.isEmpty();)if(f=r?s(e.key,r):1,r&&l&&(f*=-1),f<0)e=this.isReverse?e.left:e.right;else{if(0===f){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ur{constructor(e,r,s,l,f){this.key=e,this.value=r,this.color=s??Ur.RED,this.left=l??Ur.EMPTY,this.right=f??Ur.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,s,l,f){return new Ur(e??this.key,r??this.value,s??this.color,l??this.left,f??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,s){let l=this;const f=s(e,l.key);return l=f<0?l.copy(null,null,null,l.left.insert(e,r,s),null):0===f?l.copy(null,r,null,null,null):l.copy(null,null,null,null,l.right.insert(e,r,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ur.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let s,l=this;if(r(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,r),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===r(e,l.key)){if(l.right.isEmpty())return Ur.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,r))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ur.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ur.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw St();const e=this.left.check();if(e!==this.right.check())throw St();return e+(this.isRed()?0:1)}}Ur.EMPTY=null,Ur.RED=!0,Ur.BLACK=!1,Ur.EMPTY=new class{constructor(){this.size=0}get key(){throw St()}get value(){throw St()}get color(){throw St()}get left(){throw St()}get right(){throw St()}copy(e,r,s,l,f){return this}insert(e,r,s){return new Ur(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Wn{constructor(e){this.comparator=e,this.data=new Xn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,s)=>(e(r),!1))}forEachInRange(e,r){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;r(l.key)}}forEachWhile(e,r){let s;for(s=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new Ws(this.data.getIterator())}getIteratorFrom(e){return new Ws(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(s=>{r=r.add(s)}),r}isEqual(e){if(!(e instanceof Wn)||this.size!==e.size)return!1;const r=this.data.getIterator(),s=e.data.getIterator();for(;r.hasNext();){const l=r.getNext().key,f=s.getNext().key;if(0!==this.comparator(l,f))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Wn(this.comparator);return r.data=e,r}}class Ws{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function io(a){return a.hasNext()?a.getNext():void 0}class Qr{constructor(e){this.fields=e,e.sort(dt.comparator)}static empty(){return new Qr([])}unionWith(e){let r=new Wn(dt.comparator);for(const s of this.fields)r=r.add(s);for(const s of e)r=r.add(s);return new Qr(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Fr(this.fields,e.fields,(r,s)=>r.isEqual(s))}}class da extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class nr{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(l){try{return atob(l)}catch(f){throw typeof DOMException<"u"&&f instanceof DOMException?new da("Invalid base64 string: "+f):f}}(e);return new nr(r)}static fromUint8Array(e){const r=function(l){let f="";for(let g=0;g<l.length;++g)f+=String.fromCharCode(l[g]);return f}(e);return new nr(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const s=new Uint8Array(r.length);for(let l=0;l<r.length;l++)s[l]=r.charCodeAt(l);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return At(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nr.EMPTY_BYTE_STRING=new nr("");const tn=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mn(a){if(Rt(!!a),"string"==typeof a){let e=0;const r=tn.exec(a);if(Rt(!!r),r[1]){let l=r[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:kn(a.seconds),nanos:kn(a.nanos)}}function kn(a){return"number"==typeof a?a:"string"==typeof a?Number(a):0}function ei(a){return"string"==typeof a?nr.fromBase64String(a):nr.fromUint8Array(a)}function ns(a){var e,r;return"server_timestamp"===(null===(r=((null===(e=a?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function si(a){const e=a.mapValue.fields.__previous_value__;return ns(e)?si(e):e}function rs(a){const e=Mn(a.mapValue.fields.__local_write_time__.timestampValue);return new Gn(e.seconds,e.nanos)}class Or{constructor(e,r,s,l,f,g,D,M,H){this.databaseId=e,this.appId=r,this.persistenceKey=s,this.host=l,this.ssl=f,this.forceLongPolling=g,this.autoDetectLongPolling=D,this.longPollingOptions=M,this.useFetchStreams=H}}class Ei{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Ei("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ei&&e.projectId===this.projectId&&e.database===this.database}}const Zi={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Fn={nullValue:"NULL_VALUE"};function Qi(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?ns(a)?4:Ii(a)?9007199254740991:10:St()}function Pi(a,e){if(a===e)return!0;const r=Qi(a);if(r!==Qi(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return rs(a).isEqual(rs(e));case 3:return function(l,f){if("string"==typeof l.timestampValue&&"string"==typeof f.timestampValue&&l.timestampValue.length===f.timestampValue.length)return l.timestampValue===f.timestampValue;const g=Mn(l.timestampValue),D=Mn(f.timestampValue);return g.seconds===D.seconds&&g.nanos===D.nanos}(a,e);case 5:return a.stringValue===e.stringValue;case 6:return f=e,ei(a.bytesValue).isEqual(ei(f.bytesValue));case 7:return a.referenceValue===e.referenceValue;case 8:return function(l,f){return kn(l.geoPointValue.latitude)===kn(f.geoPointValue.latitude)&&kn(l.geoPointValue.longitude)===kn(f.geoPointValue.longitude)}(a,e);case 2:return function(l,f){if("integerValue"in l&&"integerValue"in f)return kn(l.integerValue)===kn(f.integerValue);if("doubleValue"in l&&"doubleValue"in f){const g=kn(l.doubleValue),D=kn(f.doubleValue);return g===D?$t(g)===$t(D):isNaN(g)&&isNaN(D)}return!1}(a,e);case 9:return Fr(a.arrayValue.values||[],e.arrayValue.values||[],Pi);case 10:return function(l,f){const g=l.mapValue.fields||{},D=f.mapValue.fields||{};if(ro(g)!==ro(D))return!1;for(const M in g)if(g.hasOwnProperty(M)&&(void 0===D[M]||!Pi(g[M],D[M])))return!1;return!0}(a,e);default:return St()}var f}function Yi(a,e){return void 0!==(a.values||[]).find(r=>Pi(r,e))}function Qn(a,e){if(a===e)return 0;const r=Qi(a),s=Qi(e);if(r!==s)return At(r,s);switch(r){case 0:case 9007199254740991:return 0;case 1:return At(a.booleanValue,e.booleanValue);case 2:return function(f,g){const D=kn(f.integerValue||f.doubleValue),M=kn(g.integerValue||g.doubleValue);return D<M?-1:D>M?1:D===M?0:isNaN(D)?isNaN(M)?0:-1:1}(a,e);case 3:return ws(a.timestampValue,e.timestampValue);case 4:return ws(rs(a),rs(e));case 5:return At(a.stringValue,e.stringValue);case 6:return function(f,g){const D=ei(f),M=ei(g);return D.compareTo(M)}(a.bytesValue,e.bytesValue);case 7:return function(f,g){const D=f.split("/"),M=g.split("/");for(let H=0;H<D.length&&H<M.length;H++){const Q=At(D[H],M[H]);if(0!==Q)return Q}return At(D.length,M.length)}(a.referenceValue,e.referenceValue);case 8:return function(f,g){const D=At(kn(f.latitude),kn(g.latitude));return 0!==D?D:At(kn(f.longitude),kn(g.longitude))}(a.geoPointValue,e.geoPointValue);case 9:return function(f,g){const D=f.values||[],M=g.values||[];for(let H=0;H<D.length&&H<M.length;++H){const Q=Qn(D[H],M[H]);if(Q)return Q}return At(D.length,M.length)}(a.arrayValue,e.arrayValue);case 10:return function(f,g){if(f===Zi.mapValue&&g===Zi.mapValue)return 0;if(f===Zi.mapValue)return 1;if(g===Zi.mapValue)return-1;const D=f.fields||{},M=Object.keys(D),H=g.fields||{},Q=Object.keys(H);M.sort(),Q.sort();for(let ce=0;ce<M.length&&ce<Q.length;++ce){const xe=At(M[ce],Q[ce]);if(0!==xe)return xe;const at=Qn(D[M[ce]],H[Q[ce]]);if(0!==at)return at}return At(M.length,Q.length)}(a.mapValue,e.mapValue);default:throw St()}}function ws(a,e){if("string"==typeof a&&"string"==typeof e&&a.length===e.length)return At(a,e);const r=Mn(a),s=Mn(e),l=At(r.seconds,s.seconds);return 0!==l?l:At(r.nanos,s.nanos)}function Oi(a){return Yr(a)}function Yr(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(r){const s=Mn(r);return`time(${s.seconds},${s.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?ei(a.bytesValue).toBase64():"referenceValue"in a?he.fromName(a.referenceValue).toString():"geoPointValue"in a?function(r){return`geo(${r.latitude},${r.longitude})`}(a.geoPointValue):"arrayValue"in a?function(r){let s="[",l=!0;for(const f of r.values||[])l?l=!1:s+=",",s+=Yr(f);return s+"]"}(a.arrayValue):"mapValue"in a?function(r){const s=Object.keys(r.fields||{}).sort();let l="{",f=!0;for(const g of s)f?f=!1:l+=",",l+=`${g}:${Yr(r.fields[g])}`;return l+"}"}(a.mapValue):St()}function Us(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function ps(a){return!!a&&"integerValue"in a}function Ui(a){return!!a&&"arrayValue"in a}function qs(a){return!!a&&"nullValue"in a}function Ds(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function cr(a){return!!a&&"mapValue"in a}function Zs(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&"object"==typeof a.timestampValue)return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const e={mapValue:{fields:{}}};return Ts(a.mapValue.fields,(r,s)=>e.mapValue.fields[r]=Zs(s)),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(a.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Zs(a.arrayValue.values[r]);return e}return Object.assign({},a)}function Ii(a){return"__max__"===(((a.mapValue||{}).fields||{}).__type__||{}).stringValue}function is(a){return"nullValue"in a?Fn:"booleanValue"in a?{booleanValue:!1}:"integerValue"in a||"doubleValue"in a?{doubleValue:NaN}:"timestampValue"in a?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in a?{stringValue:""}:"bytesValue"in a?{bytesValue:""}:"referenceValue"in a?Us(Ei.empty(),he.empty()):"geoPointValue"in a?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in a?{arrayValue:{}}:"mapValue"in a?{mapValue:{}}:St()}function Br(a){return"nullValue"in a?{booleanValue:!1}:"booleanValue"in a?{doubleValue:NaN}:"integerValue"in a||"doubleValue"in a?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in a?{stringValue:""}:"stringValue"in a?{bytesValue:""}:"bytesValue"in a?Us(Ei.empty(),he.empty()):"referenceValue"in a?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in a?{arrayValue:{}}:"arrayValue"in a?{mapValue:{}}:"mapValue"in a?Zi:St()}function Bs(a,e){const r=Qn(a.value,e.value);return 0!==r?r:a.inclusive&&!e.inclusive?-1:!a.inclusive&&e.inclusive?1:0}function ms(a,e){const r=Qn(a.value,e.value);return 0!==r?r:a.inclusive&&!e.inclusive?1:!a.inclusive&&e.inclusive?-1:0}class oi{constructor(e){this.value=e}static empty(){return new oi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let s=0;s<e.length-1;++s)if(r=(r.mapValue.fields||{})[e.get(s)],!cr(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zs(r)}setAll(e){let r=dt.emptyPath(),s={},l=[];e.forEach((g,D)=>{if(!r.isImmediateParentOf(D)){const M=this.getFieldsMap(r);this.applyChanges(M,s,l),s={},l=[],r=D.popLast()}g?s[D.lastSegment()]=Zs(g):l.push(D.lastSegment())});const f=this.getFieldsMap(r);this.applyChanges(f,s,l)}delete(e){const r=this.field(e.popLast());cr(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Pi(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=r.mapValue.fields[e.get(s)];cr(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},r.mapValue.fields[e.get(s)]=l),r=l}return r.mapValue.fields}applyChanges(e,r,s){Ts(r,(l,f)=>e[l]=f);for(const l of s)delete e[l]}clone(){return new oi(Zs(this.value))}}function ti(a){const e=[];return Ts(a.fields,(r,s)=>{const l=new dt([r]);if(cr(s)){const f=ti(s.mapValue).fields;if(0===f.length)e.push(l);else for(const g of f)e.push(l.child(g))}else e.push(l)}),new Qr(e)}class vr{constructor(e,r,s,l,f,g,D){this.key=e,this.documentType=r,this.version=s,this.readTime=l,this.createTime=f,this.data=g,this.documentState=D}static newInvalidDocument(e){return new vr(e,0,Ht.min(),Ht.min(),Ht.min(),oi.empty(),0)}static newFoundDocument(e,r,s,l){return new vr(e,1,r,Ht.min(),s,l,0)}static newNoDocument(e,r){return new vr(e,2,r,Ht.min(),Ht.min(),oi.empty(),0)}static newUnknownDocument(e,r){return new vr(e,3,r,Ht.min(),Ht.min(),oi.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Ht.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=oi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=oi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ht.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof vr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class kr{constructor(e,r){this.position=e,this.inclusive=r}}function zr(a,e,r){let s=0;for(let l=0;l<a.position.length;l++){const f=e[l],g=a.position[l];if(s=f.field.isKeyField()?he.comparator(he.fromName(g.referenceValue),r.key):Qn(g,r.data.field(f.field)),"desc"===f.dir&&(s*=-1),0!==s)break}return s}function As(a,e){if(null===a)return null===e;if(null===e||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let r=0;r<a.position.length;r++)if(!Pi(a.position[r],e.position[r]))return!1;return!0}class Ni{constructor(e,r="asc"){this.field=e,this.dir=r}}function oo(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}class ss{}class Hn extends ss{constructor(e,r,s){super(),this.field=e,this.op=r,this.value=s}static create(e,r,s){return e.isKeyField()?"in"===r||"not-in"===r?this.createKeyFieldInFilter(e,r,s):new Ho(e,r,s):"array-contains"===r?new nl(e,s):"in"===r?new Va(e,s):"not-in"===r?new rl(e,s):"array-contains-any"===r?new $o(e,s):new Hn(e,r,s)}static createKeyFieldInFilter(e,r,s){return"in"===r?new ha(e,s):new Ao(e,s)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.matchesComparison(Qn(r,this.value)):null!==r&&Qi(this.value)===Qi(r)&&this.matchesComparison(Qn(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return St()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wr extends ss{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new wr(e,r)}matches(e){return Rs(this)?void 0===this.filters.find(r=>!r.matches(e)):void 0!==this.filters.find(r=>r.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Rs(a){return"and"===a.op}function La(a){return"or"===a.op}function Uo(a){return Bo(a)&&Rs(a)}function Bo(a){for(const e of a.filters)if(e instanceof wr)return!1;return!0}function Bi(a){if(a instanceof Hn)return a.field.canonicalString()+a.op.toString()+Oi(a.value);if(Uo(a))return a.filters.map(e=>Bi(e)).join(",");{const e=a.filters.map(r=>Bi(r)).join(",");return`${a.op}(${e})`}}function jo(a,e){return a instanceof Hn?(s=a,(l=e)instanceof Hn&&s.op===l.op&&s.field.isEqual(l.field)&&Pi(s.value,l.value)):a instanceof wr?function(s,l){return l instanceof wr&&s.op===l.op&&s.filters.length===l.filters.length&&s.filters.reduce((f,g,D)=>f&&jo(g,l.filters[D]),!0)}(a,e):void St();var s,l}function ql(a,e){const r=a.filters.concat(e);return wr.create(r,a.op)}function Gr(a){return a instanceof Hn?`${(r=a).field.canonicalString()} ${r.op} ${Oi(r.value)}`:a instanceof wr?function(r){return r.op.toString()+" {"+r.getFilters().map(Gr).join(" ,")+"}"}(a):"Filter";var r}class Ho extends Hn{constructor(e,r,s){super(e,r,s),this.key=he.fromName(s.referenceValue)}matches(e){const r=he.comparator(e.key,this.key);return this.matchesComparison(r)}}class ha extends Hn{constructor(e,r){super(e,"in",r),this.keys=Zl(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class Ao extends Hn{constructor(e,r){super(e,"not-in",r),this.keys=Zl(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function Zl(a,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(s=>he.fromName(s.referenceValue))}class nl extends Hn{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Ui(r)&&Yi(r.arrayValue,this.value)}}class Va extends Hn{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&Yi(this.value.arrayValue,r)}}class rl extends Hn{constructor(e,r){super(e,"not-in",r)}matches(e){if(Yi(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!Yi(this.value.arrayValue,r)}}class $o extends Hn{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Ui(r)||!r.arrayValue.values)&&r.arrayValue.values.some(s=>Yi(this.value.arrayValue,s))}}class Co{constructor(e,r=null,s=[],l=[],f=null,g=null,D=null){this.path=e,this.collectionGroup=r,this.orderBy=s,this.filters=l,this.limit=f,this.startAt=g,this.endAt=D,this.ue=null}}function So(a,e=null,r=[],s=[],l=null,f=null,g=null){return new Co(a,e,r,s,l,f,g)}function Qs(a){const e=Pt(a);if(null===e.ue){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(s=>Bi(s)).join(","),r+="|ob:",r+=e.orderBy.map(s=>{return(f=s).field.canonicalString()+f.dir;var f}).join(","),_t(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(s=>Oi(s)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(s=>Oi(s)).join(",")),e.ue=r}return e.ue}function xo(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<a.orderBy.length;r++)if(!oo(a.orderBy[r],e.orderBy[r]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let r=0;r<a.filters.length;r++)if(!jo(a.filters[r],e.filters[r]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!As(a.startAt,e.startAt)&&As(a.endAt,e.endAt)}function Ro(a){return he.isDocumentKey(a.path)&&null===a.collectionGroup&&0===a.filters.length}function os(a,e){return a.filters.filter(r=>r instanceof Hn&&r.field.isEqual(e))}function Ci(a,e,r){let s=Fn,l=!0;for(const f of os(a,e)){let g=Fn,D=!0;switch(f.op){case"<":case"<=":g=is(f.value);break;case"==":case"in":case">=":g=f.value;break;case">":g=f.value,D=!1;break;case"!=":case"not-in":g=Fn}Bs({value:s,inclusive:l},{value:g,inclusive:D})<0&&(s=g,l=D)}if(null!==r)for(let f=0;f<a.orderBy.length;++f)if(a.orderBy[f].field.isEqual(e)){const g=r.position[f];Bs({value:s,inclusive:l},{value:g,inclusive:r.inclusive})<0&&(s=g,l=r.inclusive);break}return{value:s,inclusive:l}}function Ys(a,e,r){let s=Zi,l=!0;for(const f of os(a,e)){let g=Zi,D=!0;switch(f.op){case">=":case">":g=Br(f.value),D=!1;break;case"==":case"in":case"<=":g=f.value;break;case"<":g=f.value,D=!1;break;case"!=":case"not-in":g=Zi}ms({value:s,inclusive:l},{value:g,inclusive:D})>0&&(s=g,l=D)}if(null!==r)for(let f=0;f<a.orderBy.length;++f)if(a.orderBy[f].field.isEqual(e)){const g=r.position[f];ms({value:s,inclusive:l},{value:g,inclusive:r.inclusive})>0&&(s=g,l=r.inclusive);break}return{value:s,inclusive:l}}class ji{constructor(e,r=null,s=[],l=[],f=null,g="F",D=null,M=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=s,this.filters=l,this.limit=f,this.limitType=g,this.startAt=D,this.endAt=M,this.ce=null,this.le=null,this.he=null}}function ui(a,e,r,s,l,f,g,D){return new ji(a,e,r,s,l,f,g,D)}function as(a){return new ji(a)}function Hi(a){return 0===a.filters.length&&null===a.limit&&null==a.startAt&&null==a.endAt&&(0===a.explicitOrderBy.length||1===a.explicitOrderBy.length&&a.explicitOrderBy[0].field.isKeyField())}function Mo(a){return null!==a.collectionGroup}function K(a){const e=Pt(a);if(null===e.ce){e.ce=[];const r=new Set;for(const f of e.explicitOrderBy)e.ce.push(f),r.add(f.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(g){let D=new Wn(dt.comparator);return g.filters.forEach(M=>{M.getFlattenedFilters().forEach(H=>{H.isInequality()&&(D=D.add(H.field))})}),D})(e).forEach(f=>{r.has(f.canonicalString())||f.isKeyField()||e.ce.push(new Ni(f,s))}),r.has(dt.keyField().canonicalString())||e.ce.push(new Ni(dt.keyField(),s))}return e.ce}function E(a){const e=Pt(a);return e.le||(e.le=function N(a,e){if("F"===a.limitType)return So(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map(l=>new Ni(l.field,"desc"===l.dir?"asc":"desc"));const r=a.endAt?new kr(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new kr(a.startAt.position,a.startAt.inclusive):null;return So(a.path,a.collectionGroup,e,a.filters,a.limit,r,s)}}(e,K(a))),e.le}function W(a,e){const r=a.filters.concat([e]);return new ji(a.path,a.collectionGroup,a.explicitOrderBy.slice(),r,a.limit,a.limitType,a.startAt,a.endAt)}function re(a,e,r){return new ji(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,r,a.startAt,a.endAt)}function Ce(a,e){return xo(E(a),E(e))&&a.limitType===e.limitType}function Me(a){return`${Qs(E(a))}|lt:${a.limitType}`}function it(a){return`Query(target=${function(r){let s=r.path.canonicalString();return null!==r.collectionGroup&&(s+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(s+=`, filters: [${r.filters.map(l=>Gr(l)).join(", ")}]`),_t(r.limit)||(s+=", limit: "+r.limit),r.orderBy.length>0&&(s+=`, orderBy: [${r.orderBy.map(l=>{return`${(g=l).field.canonicalString()} (${g.dir})`;var g}).join(", ")}]`),r.startAt&&(s+=", startAt: ",s+=r.startAt.inclusive?"b:":"a:",s+=r.startAt.position.map(l=>Oi(l)).join(",")),r.endAt&&(s+=", endAt: ",s+=r.endAt.inclusive?"a:":"b:",s+=r.endAt.position.map(l=>Oi(l)).join(",")),`Target(${s})`}(E(a))}; limitType=${a.limitType})`}function vt(a,e){return e.isFoundDocument()&&function(s,l){const f=l.key.path;return null!==s.collectionGroup?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(f):he.isDocumentKey(s.path)?s.path.isEqual(f):s.path.isImmediateParentOf(f)}(a,e)&&function(s,l){for(const f of K(s))if(!f.field.isKeyField()&&null===l.data.field(f.field))return!1;return!0}(a,e)&&function(s,l){for(const f of s.filters)if(!f.matches(l))return!1;return!0}(a,e)&&(l=e,!((s=a).startAt&&!function(g,D,M){const H=zr(g,D,M);return g.inclusive?H<=0:H<0}(s.startAt,K(s),l)||s.endAt&&!function(g,D,M){const H=zr(g,D,M);return g.inclusive?H>=0:H>0}(s.endAt,K(s),l)));var s,l}function Xt(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function nn(a){return(e,r)=>{let s=!1;for(const l of K(a)){const f=ur(l,e,r);if(0!==f)return f;s=s||l.field.isKeyField()}return 0}}function ur(a,e,r){const s=a.field.isKeyField()?he.comparator(e.key,r.key):function(f,g,D){const M=g.data.field(f),H=D.data.field(f);return null!==M&&null!==H?Qn(M,H):St()}(a.field,e,r);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return St()}}class Pn{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0!==s)for(const[l,f]of s)if(this.equalsFn(l,e))return f}has(e){return void 0!==this.get(e)}set(e,r){const s=this.mapKeyFn(e),l=this.inner[s];if(void 0===l)return this.inner[s]=[[e,r]],void this.innerSize++;for(let f=0;f<l.length;f++)if(this.equalsFn(l[f][0],e))return void(l[f]=[e,r]);l.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0===s)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return 1===s.length?delete this.inner[r]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Ts(this.inner,(r,s)=>{for(const[l,f]of s)e(l,f)})}isEmpty(){return lr(this.inner)}size(){return this.innerSize}}const On=new Xn(he.comparator);function Tn(){return On}const Jr=new Xn(he.comparator);function jr(...a){let e=Jr;for(const r of a)e=e.insert(r.key,r);return e}function di(a){let e=Jr;return a.forEach((r,s)=>e=e.insert(r,s.overlayedDocument)),e}function Wr(){return gs()}function gi(){return gs()}function gs(){return new Pn(a=>a.toString(),(a,e)=>a.isEqual(e))}const _s=new Xn(he.comparator),Si=new Wn(he.comparator);function $n(...a){let e=Si;for(const r of a)e=e.add(r);return e}const $i=new Wn(At);function ls(){return $i}function A(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$t(e)?"-0":e}}function G(a){return{integerValue:""+a}}function O(a,e){return _n(e)?G(e):A(a,e)}class z{constructor(){this._=void 0}}function pe(a,e,r){return a instanceof Mt?function(l,f){const g={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return f&&ns(f)&&(f=si(f)),f&&(g.fields.__previous_value__=f),{mapValue:g}}(r,e):a instanceof pn?rr(a,e):a instanceof Kn?Nn(a,e):function(l,f){const g=Qe(l,f),D=Ln(g)+Ln(l.Pe);return ps(g)&&ps(l.Pe)?G(D):A(l.serializer,D)}(a,e)}function Oe(a,e,r){return a instanceof pn?rr(a,e):a instanceof Kn?Nn(a,e):r}function Qe(a,e){return a instanceof fr?ps(s=e)||(f=s)&&"doubleValue"in f?e:{integerValue:0}:null;var s,f}class Mt extends z{}class pn extends z{constructor(e){super(),this.elements=e}}function rr(a,e){const r=Xr(e);for(const s of a.elements)r.some(l=>Pi(l,s))||r.push(s);return{arrayValue:{values:r}}}class Kn extends z{constructor(e){super(),this.elements=e}}function Nn(a,e){let r=Xr(e);for(const s of a.elements)r=r.filter(l=>!Pi(l,s));return{arrayValue:{values:r}}}class fr extends z{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function Ln(a){return kn(a.integerValue||a.doubleValue)}function Xr(a){return Ui(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}class bi{constructor(e,r){this.field=e,this.transform=r}}class Ji{constructor(e,r){this.version=e,this.transformResults=r}}class qn{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new qn}static exists(e){return new qn(void 0,e)}static updateTime(e){return new qn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xi(a,e){return void 0!==a.updateTime?e.isFoundDocument()&&e.version.isEqual(a.updateTime):void 0===a.exists||a.exists===e.isFoundDocument()}class ni{}function _i(a,e){if(!a.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return a.isNoDocument()?new fa(a.key,qn.none()):new Ti(a.key,a.data,qn.none());{const r=a.data,s=oi.empty();let l=new Wn(dt.comparator);for(let f of e.fields)if(!l.has(f)){let g=r.field(f);null===g&&f.length>1&&(f=f.popLast(),g=r.field(f)),null===g?s.delete(f):s.set(f,g),l=l.add(f)}return new ao(a.key,s,new Qr(l.toArray()),qn.none())}}function ku(a,e,r){a instanceof Ti?function(l,f,g){const D=l.value.clone(),M=sl(l.fieldTransforms,f,g.transformResults);D.setAll(M),f.convertToFoundDocument(g.version,D).setHasCommittedMutations()}(a,e,r):a instanceof ao?function(l,f,g){if(!Xi(l.precondition,f))return void f.convertToUnknownDocument(g.version);const D=sl(l.fieldTransforms,f,g.transformResults),M=f.data;M.setAll(Fu(l)),M.setAll(D),f.convertToFoundDocument(g.version,M).setHasCommittedMutations()}(a,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function Vr(a,e,r,s){return a instanceof Ti?function(f,g,D,M){if(!Xi(f.precondition,g))return D;const H=f.value.clone(),Q=Ms(f.fieldTransforms,M,g);return H.setAll(Q),g.convertToFoundDocument(g.version,H).setHasLocalMutations(),null}(a,e,r,s):a instanceof ao?function(f,g,D,M){if(!Xi(f.precondition,g))return D;const H=Ms(f.fieldTransforms,M,g),Q=g.data;return Q.setAll(Fu(f)),Q.setAll(H),g.convertToFoundDocument(g.version,Q).setHasLocalMutations(),null===D?null:D.unionWith(f.fieldMask.fields).unionWith(f.fieldTransforms.map(ce=>ce.field))}(a,e,r,s):(D=r,Xi(a.precondition,g=e)?(g.convertToNoDocument(g.version).setHasLocalMutations(),null):D);var g,D}function il(a,e){let r=null;for(const s of a.fieldTransforms){const l=e.data.field(s.field),f=Qe(s.transform,l||null);null!=f&&(null===r&&(r=oi.empty()),r.set(s.field,f))}return r||null}function Ql(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&(l=e.fieldTransforms,!!(void 0===(s=a.fieldTransforms)&&void 0===l||s&&l&&Fr(s,l,(f,g)=>function Cr(a,e){return a.field.isEqual(e.field)&&(l=e.transform,(s=a.transform)instanceof pn&&l instanceof pn||s instanceof Kn&&l instanceof Kn?Fr(s.elements,l.elements,Pi):s instanceof fr&&l instanceof fr?Pi(s.Pe,l.Pe):s instanceof Mt&&l instanceof Mt);var s,l}(f,g))))&&(0===a.type?a.value.isEqual(e.value):1!==a.type||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask));var s,l}class Ti extends ni{constructor(e,r,s,l=[]){super(),this.key=e,this.value=r,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ao extends ni{constructor(e,r,s,l,f=[]){super(),this.key=e,this.data=r,this.fieldMask=s,this.precondition=l,this.fieldTransforms=f,this.type=1}getFieldMask(){return this.fieldMask}}function Fu(a){const e=new Map;return a.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const s=a.data.field(r);e.set(r,s)}}),e}function sl(a,e,r){const s=new Map;Rt(a.length===r.length);for(let l=0;l<r.length;l++){const f=a[l],g=f.transform,D=e.data.field(f.field);s.set(f.field,Oe(g,D,r[l]))}return s}function Ms(a,e,r){const s=new Map;for(const l of a){const f=l.transform,g=r.data.field(l.field);s.set(l.field,pe(f,g,e))}return s}class fa extends ni{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Vc extends ni{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Wd{constructor(e,r,s,l){this.batchId=e,this.localWriteTime=r,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,r){const s=r.mutationResults;for(let l=0;l<this.mutations.length;l++){const f=this.mutations[l];f.key.isEqual(e.key)&&ku(f,e,s[l])}}applyToLocalView(e,r){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(r=Vr(s,e,r,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(r=Vr(s,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const s=gi();return this.mutations.forEach(l=>{const f=e.get(l.key),g=f.overlayedDocument;let D=this.applyToLocalView(g,f.mutatedFields);D=r.has(l.key)?null:D;const M=_i(g,D);null!==M&&s.set(l.key,M),g.isValidDocument()||g.convertToNoDocument(Ht.min())}),s}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),$n())}isEqual(e){return this.batchId===e.batchId&&Fr(this.mutations,e.mutations,(r,s)=>Ql(r,s))&&Fr(this.baseMutations,e.baseMutations,(r,s)=>Ql(r,s))}}class lo{constructor(e,r,s,l){this.batch=e,this.commitVersion=r,this.mutationResults=s,this.docVersions=l}static from(e,r,s){Rt(e.mutations.length===s.length);let l=_s;const f=e.mutations;for(let g=0;g<f.length;g++)l=l.insert(f[g].key,s[g].version);return new lo(e,r,s,l)}}class Cs{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Uc{constructor(e,r){this.count=e,this.unchangedNames=r}}var xi,Sr;function Bc(a){switch(a){default:return St();case tt.CANCELLED:case tt.UNKNOWN:case tt.DEADLINE_EXCEEDED:case tt.RESOURCE_EXHAUSTED:case tt.INTERNAL:case tt.UNAVAILABLE:case tt.UNAUTHENTICATED:return!1;case tt.INVALID_ARGUMENT:case tt.NOT_FOUND:case tt.ALREADY_EXISTS:case tt.PERMISSION_DENIED:case tt.FAILED_PRECONDITION:case tt.ABORTED:case tt.OUT_OF_RANGE:case tt.UNIMPLEMENTED:case tt.DATA_LOSS:return!0}}function er(a){if(void 0===a)return Zt("GRPC error has no .code"),tt.UNKNOWN;switch(a){case xi.OK:return tt.OK;case xi.CANCELLED:return tt.CANCELLED;case xi.UNKNOWN:return tt.UNKNOWN;case xi.DEADLINE_EXCEEDED:return tt.DEADLINE_EXCEEDED;case xi.RESOURCE_EXHAUSTED:return tt.RESOURCE_EXHAUSTED;case xi.INTERNAL:return tt.INTERNAL;case xi.UNAVAILABLE:return tt.UNAVAILABLE;case xi.UNAUTHENTICATED:return tt.UNAUTHENTICATED;case xi.INVALID_ARGUMENT:return tt.INVALID_ARGUMENT;case xi.NOT_FOUND:return tt.NOT_FOUND;case xi.ALREADY_EXISTS:return tt.ALREADY_EXISTS;case xi.PERMISSION_DENIED:return tt.PERMISSION_DENIED;case xi.FAILED_PRECONDITION:return tt.FAILED_PRECONDITION;case xi.ABORTED:return tt.ABORTED;case xi.OUT_OF_RANGE:return tt.OUT_OF_RANGE;case xi.UNIMPLEMENTED:return tt.UNIMPLEMENTED;case xi.DATA_LOSS:return tt.DATA_LOSS;default:return St()}}(Sr=xi||(xi={}))[Sr.OK=0]="OK",Sr[Sr.CANCELLED=1]="CANCELLED",Sr[Sr.UNKNOWN=2]="UNKNOWN",Sr[Sr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Sr[Sr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Sr[Sr.NOT_FOUND=5]="NOT_FOUND",Sr[Sr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Sr[Sr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Sr[Sr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Sr[Sr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Sr[Sr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Sr[Sr.ABORTED=10]="ABORTED",Sr[Sr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Sr[Sr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Sr[Sr.INTERNAL=13]="INTERNAL",Sr[Sr.UNAVAILABLE=14]="UNAVAILABLE",Sr[Sr.DATA_LOSS=15]="DATA_LOSS";function Kd(){return new TextEncoder}const jc=new Ut([4294967295,4294967295],0);function Hc(a){const e=Kd().encode(a),r=new nt;return r.update(e),new Uint8Array(r.digest())}function $c(a){const e=new DataView(a.buffer),r=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),f=e.getUint32(12,!0);return[new Ut([r,s],0),new Ut([l,f],0)]}class ma{constructor(e,r,s){if(this.bitmap=e,this.padding=r,this.hashCount=s,r<0||r>=8)throw new co(`Invalid padding: ${r}`);if(s<0)throw new co(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new co(`Invalid hash count: ${s}`);if(0===e.length&&0!==r)throw new co(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=Ut.fromNumber(this.Ie)}Ee(e,r,s){let l=e.add(r.multiply(Ut.fromNumber(s)));return 1===l.compare(jc)&&(l=new Ut([l.getBits(0),l.getBits(1)],0)),l.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const r=Hc(e),[s,l]=$c(r);for(let f=0;f<this.hashCount;f++){const g=this.Ee(s,l,f);if(!this.de(g))return!1}return!0}static create(e,r,s){const l=e%8==0?0:8-e%8,f=new Uint8Array(Math.ceil(e/8)),g=new ma(f,l,r);return s.forEach(D=>g.insert(D)),g}insert(e){if(0===this.Ie)return;const r=Hc(e),[s,l]=$c(r);for(let f=0;f<this.hashCount;f++){const g=this.Ee(s,l,f);this.Ae(g)}}Ae(e){const r=Math.floor(e/8);this.bitmap[r]|=1<<e%8}}class co extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Yl{constructor(e,r,s,l,f){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(e,r,s){const l=new Map;return l.set(e,Jl.createSynthesizedTargetChangeForCurrentChange(e,r,s)),new Yl(Ht.min(),l,new Xn(At),Tn(),$n())}}class Jl{constructor(e,r,s,l,f){this.resumeToken=e,this.current=r,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(e,r,s){return new Jl(s,r,$n(),$n(),$n())}}class Xl{constructor(e,r,s,l){this.Re=e,this.removedTargetIds=r,this.key=s,this.Ve=l}}class wf{constructor(e,r){this.targetId=e,this.me=r}}class Ua{constructor(e,r,s=nr.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=r,this.resumeToken=s,this.cause=l}}class kt{constructor(){this.fe=0,this.ge=Gc(),this.pe=nr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=$n(),r=$n(),s=$n();return this.ge.forEach((l,f)=>{switch(f){case 0:e=e.add(l);break;case 2:r=r.add(l);break;case 1:s=s.add(l);break;default:St()}}),new Jl(this.pe,this.ye,e,r,s)}ve(){this.we=!1,this.ge=Gc()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Rt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class pr{constructor(e){this.Le=e,this.Be=new Map,this.ke=Tn(),this.qe=zc(),this.Qe=new Xn(At)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const s=this.Ge(r);switch(e.state){case 0:this.ze(r)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.ve(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),s.De(e.resumeToken));break;default:St()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((s,l)=>{this.ze(l)&&r(l)})}He(e){const r=e.targetId,s=e.me.count,l=this.Je(r);if(l){const f=l.target;if(Ro(f))if(0===s){const g=new he(f.path);this.Ue(r,g,vr.newNoDocument(g,Ht.min()))}else Rt(1===s);else{const g=this.Ye(r);if(g!==s){const D=this.Ze(e),M=D?this.Xe(D,e,g):1;0!==M&&(this.je(r),this.Qe=this.Qe.insert(r,2===M?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:f=0}=r;let g,D;try{g=ei(s).toUint8Array()}catch(M){if(M instanceof da)return Yn("Decoding the base64 bloom filter in existence filter failed ("+M.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw M}try{D=new ma(g,l,f)}catch(M){return Yn(M instanceof co?"BloomFilter error: ":"Applying bloom filter failed: ",M),null}return 0===D.Ie?null:D}Xe(e,r,s){return r.me.count===s-this.nt(e,r.targetId)?0:2}nt(e,r){const s=this.Le.getRemoteKeysForTarget(r);let l=0;return s.forEach(f=>{const g=this.Le.tt(),D=`projects/${g.projectId}/databases/${g.database}/documents/${f.path.canonicalString()}`;e.mightContain(D)||(this.Ue(r,f,null),l++)}),l}rt(e){const r=new Map;this.Be.forEach((f,g)=>{const D=this.Je(g);if(D){if(f.current&&Ro(D.target)){const M=new he(D.target.path);null!==this.ke.get(M)||this.it(g,M)||this.Ue(g,M,vr.newNoDocument(M,e))}f.be&&(r.set(g,f.Ce()),f.ve())}});let s=$n();this.qe.forEach((f,g)=>{let D=!0;g.forEachWhile(M=>{const H=this.Je(M);return!H||"TargetPurposeLimboResolution"===H.purpose||(D=!1,!1)}),D&&(s=s.add(f))}),this.ke.forEach((f,g)=>g.setReadTime(e));const l=new Yl(e,r,this.Qe,this.ke,s);return this.ke=Tn(),this.qe=zc(),this.Qe=new Xn(At),l}$e(e,r){if(!this.ze(e))return;const s=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,s),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,s){if(!this.ze(e))return;const l=this.Ge(e);this.it(e,r)?l.Fe(r,1):l.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),s&&(this.ke=this.ke.insert(r,s))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new kt,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new Wn(At),this.qe=this.qe.insert(e,r)),r}ze(e){const r=null!==this.Je(e);return r||st("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new kt),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function zc(){return new Xn(he.comparator)}function Gc(){return new Xn(he.comparator)}const wi={asc:"ASCENDING",desc:"DESCENDING"},Lu={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ai={and:"AND",or:"OR"};class uo{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Go(a,e){return a.useProto3Json||_t(e)?e:{value:e}}function Wo(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Wc(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function dm(a,e){return Wo(a,e.toTimestamp())}function Di(a){return Rt(!!a),Ht.fromTimestamp(function(r){const s=Mn(r);return new Gn(s.seconds,s.nanos)}(a))}function es(a,e){return ho(a,e).canonicalString()}function ho(a,e){const r=(l=a,new ln(["projects",l.projectId,"databases",l.database])).child("documents");var l;return void 0===e?r:r.child(e)}function ol(a){const e=ln.fromString(a);return Rt(Cf(e)),e}function T(a,e){return es(a.databaseId,e.path)}function C(a,e){const r=ol(e);if(r.get(1)!==a.databaseId.projectId)throw new It(tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+a.databaseId.projectId);if(r.get(3)!==a.databaseId.database)throw new It(tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+a.databaseId.database);return new he(J(r))}function I(a,e){return es(a.databaseId,e)}function x(a){const e=ol(a);return 4===e.length?ln.emptyPath():J(e)}function j(a){return new ln(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function J(a){return Rt(a.length>4&&"documents"===a.get(4)),a.popFirst(5)}function ge(a,e,r){return{name:T(a,e),fields:r.value.mapValue.fields}}function gt(a,e,r){const s=C(a,e.name),l=Di(e.updateTime),f=e.createTime?Di(e.createTime):Ht.min(),g=new oi({mapValue:{fields:e.fields}}),D=vr.newFoundDocument(s,l,f,g);return r&&D.setHasCommittedMutations(),r?D.setHasCommittedMutations():D}function dr(a,e){let r;if(e instanceof Ti)r={update:ge(a,e.key,e.value)};else if(e instanceof fa)r={delete:T(a,e.key)};else if(e instanceof ao)r={update:ge(a,e.key,e.data),updateMask:Af(e.fieldMask)};else{if(!(e instanceof Vc))return St();r={verify:T(a,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(s=>function(f,g){const D=g.transform;if(D instanceof Mt)return{fieldPath:g.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(D instanceof pn)return{fieldPath:g.field.canonicalString(),appendMissingElements:{values:D.elements}};if(D instanceof Kn)return{fieldPath:g.field.canonicalString(),removeAllFromArray:{values:D.elements}};if(D instanceof fr)return{fieldPath:g.field.canonicalString(),increment:D.Pe};throw St()}(0,s))),e.precondition.isNone||(r.currentDocument=void 0!==(f=e.precondition).updateTime?{updateTime:dm(a,f.updateTime)}:void 0!==f.exists?{exists:f.exists}:St()),r;var f}function Zr(a,e){const r=e.currentDocument?void 0!==(f=e.currentDocument).updateTime?qn.updateTime(Di(f.updateTime)):void 0!==f.exists?qn.exists(f.exists):qn.none():qn.none(),s=e.updateTransforms?e.updateTransforms.map(l=>function(g,D){let M=null;"setToServerValue"in D?(Rt("REQUEST_TIME"===D.setToServerValue),M=new Mt):"appendMissingElements"in D?M=new pn(D.appendMissingElements.values||[]):"removeAllFromArray"in D?M=new Kn(D.removeAllFromArray.values||[]):"increment"in D?M=new fr(g,D.increment):St();const H=dt.fromServerFormat(D.fieldPath);return new bi(H,M)}(a,l)):[];var f;if(e.update){const l=C(a,e.update.name),f=new oi({mapValue:{fields:e.update.fields}});if(e.updateMask){const g=new Qr((e.updateMask.fieldPaths||[]).map(Q=>dt.fromServerFormat(Q)));return new ao(l,f,g,r,s)}return new Ti(l,f,r,s)}if(e.delete){const l=C(a,e.delete);return new fa(l,r)}if(e.verify){const l=C(a,e.verify);return new Vc(l,r)}return St()}function cs(a,e){return{documents:[I(a,e.path)]}}function Po(a,e){const r={structuredQuery:{}},s=e.path;let l;null!==e.collectionGroup?(l=s,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=s.popLast(),r.structuredQuery.from=[{collectionId:s.lastSegment()}]),r.parent=I(a,l);const f=function(H){if(0!==H.length)return Df(wr.create(H,"and"))}(e.filters);f&&(r.structuredQuery.where=f);const g=function(H){if(0!==H.length)return H.map(Q=>{return{field:Kr((xe=Q).field),direction:Uu(xe.dir)};var xe})}(e.orderBy);g&&(r.structuredQuery.orderBy=g);const D=Go(a,e.limit);return null!==D&&(r.structuredQuery.limit=D),e.startAt&&(r.structuredQuery.startAt={before:(H=e.startAt).inclusive,values:H.position}),e.endAt&&(r.structuredQuery.endAt=function(H){return{before:!H.inclusive,values:H.position}}(e.endAt)),{_t:r,parent:l};var H}function al(a){let e=x(a.parent);const r=a.structuredQuery,s=r.from?r.from.length:0;let l=null;if(s>0){Rt(1===s);const Q=r.from[0];Q.allDescendants?l=Q.collectionId:e=e.child(Q.collectionId)}let f=[];r.where&&(f=function(ce){const xe=Vu(ce);return xe instanceof wr&&Uo(xe)?xe.getFilters():[xe]}(r.where));let g=[];r.orderBy&&(g=r.orderBy.map(xe=>{return new Ni(_a((Nt=xe).field),function(Lt){switch(Lt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Nt.direction));var Nt}));let D=null;r.limit&&(D=function(ce){let xe;return xe="object"==typeof ce?ce.value:ce,_t(xe)?null:xe}(r.limit));let M=null;var ce;r.startAt&&(M=new kr((ce=r.startAt).values||[],!!ce.before));let H=null;return r.endAt&&(H=function(ce){return new kr(ce.values||[],!ce.before)}(r.endAt)),ui(e,l,g,f,D,"F",M,H)}function Vu(a){return void 0!==a.unaryFilter?function(r){switch(r.unaryFilter.op){case"IS_NAN":const s=_a(r.unaryFilter.field);return Hn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=_a(r.unaryFilter.field);return Hn.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const f=_a(r.unaryFilter.field);return Hn.create(f,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const g=_a(r.unaryFilter.field);return Hn.create(g,"!=",{nullValue:"NULL_VALUE"});default:return St()}}(a):void 0!==a.fieldFilter?Hn.create(_a((r=a).fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return St()}}(r.fieldFilter.op),r.fieldFilter.value):void 0!==a.compositeFilter?function(r){return wr.create(r.compositeFilter.filters.map(s=>Vu(s)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return St()}}(r.compositeFilter.op))}(a):St();var r}function Uu(a){return wi[a]}function Ps(a){return Lu[a]}function ll(a){return ai[a]}function Kr(a){return{fieldPath:a.canonicalString()}}function _a(a){return dt.fromServerFormat(a.fieldPath)}function Df(a){return a instanceof Hn?function(r){if("=="===r.op){if(Ds(r.value))return{unaryFilter:{field:Kr(r.field),op:"IS_NAN"}};if(qs(r.value))return{unaryFilter:{field:Kr(r.field),op:"IS_NULL"}}}else if("!="===r.op){if(Ds(r.value))return{unaryFilter:{field:Kr(r.field),op:"IS_NOT_NAN"}};if(qs(r.value))return{unaryFilter:{field:Kr(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Kr(r.field),op:Ps(r.op),value:r.value}}}(a):a instanceof wr?function(r){const s=r.getFilters().map(l=>Df(l));return 1===s.length?s[0]:{compositeFilter:{op:ll(r.op),filters:s}}}(a):St()}function Af(a){const e=[];return a.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function Cf(a){return a.length>=4&&"projects"===a.get(0)&&"databases"===a.get(2)}class qo{constructor(e,r,s,l,f=Ht.min(),g=Ht.min(),D=nr.EMPTY_BYTE_STRING,M=null){this.target=e,this.targetId=r,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=g,this.resumeToken=D,this.expectedCount=M}withSequenceNumber(e){return new qo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new qo(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Bu{constructor(e){this.ct=e}}function ya(a,e){const r=e.key,s={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:Hu(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:T(f=a.ct,(g=e).key),fields:g.data.value.mapValue.fields,updateTime:Wo(f,g.version.toTimestamp()),createTime:Wo(f,g.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:r.path.toArray(),readTime:fo(e.version)};else{if(!e.isUnknownDocument())return St();s.unknownDocument={path:r.path.toArray(),version:fo(e.version)}}var f,g;return s}function Hu(a){const e=a.toTimestamp();return[e.seconds,e.nanoseconds]}function fo(a){const e=a.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Zo(a){const e=new Gn(a.seconds,a.nanoseconds);return Ht.fromTimestamp(e)}function po(a,e){const r=(e.baseMutations||[]).map(f=>Zr(a.ct,f));for(let f=0;f<e.mutations.length-1;++f)f+1<e.mutations.length&&void 0!==e.mutations[f+1].transform&&(e.mutations[f].updateTransforms=e.mutations[f+1].transform.fieldTransforms,e.mutations.splice(f+1,1),++f);const s=e.mutations.map(f=>Zr(a.ct,f)),l=Gn.fromMillis(e.localWriteTimeMs);return new Wd(e.batchId,l,r,s)}function cl(a){const e=Zo(a.readTime),r=void 0!==a.lastLimboFreeSnapshotVersion?Zo(a.lastLimboFreeSnapshotVersion):Ht.min();let s;return s=void 0!==a.query.documents?(Rt(1===(f=a.query).documents.length),E(as(x(f.documents[0])))):function(f){return E(al(f))}(a.query),new qo(s,a.targetId,"TargetPurposeListen",a.lastListenSequenceNumber,e,r,nr.fromBase64String(a.resumeToken));var f}function Kc(a,e){const r=fo(e.snapshotVersion),s=fo(e.lastLimboFreeSnapshotVersion);let l;l=Ro(e.target)?cs(a.ct,e.target):Po(a.ct,e.target)._t;const f=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Qs(e.target),readTime:r,resumeToken:f,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:l}}function $u(a){const e=al({parent:a.parent,structuredQuery:a.structuredQuery});return"LAST"===a.limitType?re(e,e.limit,"L"):e}function qc(a,e){return new Cs(e.largestBatchId,Zr(a.ct,e.overlayMutation))}function Qo(a,e){const r=e.path.lastSegment();return[a,on(e.path.popLast()),r]}function Ba(a,e,r,s){return{indexId:a,uid:e,sequenceNumber:r,readTime:fo(s.readTime),documentKey:on(s.documentKey.path),largestBatchId:s.largestBatchId}}class hm{getBundleMetadata(e,r){return qd(e).get(r).next(s=>{if(s)return{id:(f=s).bundleId,createTime:Zo(f.createTime),version:f.version};var f})}saveBundleMetadata(e,r){return qd(e).put({bundleId:(l=r).id,createTime:fo(Di(l.createTime)),version:l.version});var l}getNamedQuery(e,r){return ja(e).get(r).next(s=>{if(s)return{name:(f=s).name,query:$u(f.bundledQuery),readTime:Zo(f.readTime)};var f})}saveNamedQuery(e,r){return ja(e).put({name:(l=r).name,readTime:fo(Di(l.readTime)),bundledQuery:l.bundledQuery});var l}}function qd(a){return ii(a,"bundles")}function ja(a){return ii(a,"namedQueries")}class va{constructor(e,r){this.serializer=e,this.userId=r}static lt(e,r){return new va(e,r.uid||"")}getOverlay(e,r){return ul(e).get(Qo(this.userId,r)).next(s=>s?qc(this.serializer,s):null)}getOverlays(e,r){const s=Wr();return be.forEach(r,l=>this.getOverlay(e,l).next(f=>{null!==f&&s.set(l,f)})).next(()=>s)}saveOverlays(e,r,s){const l=[];return s.forEach((f,g)=>{const D=new Cs(r,g);l.push(this.ht(e,D))}),be.waitFor(l)}removeOverlaysForBatchId(e,r,s){const l=new Set;r.forEach(g=>l.add(on(g.getCollectionPath())));const f=[];return l.forEach(g=>{const D=IDBKeyRange.bound([this.userId,g,s],[this.userId,g,s+1],!1,!0);f.push(ul(e).j("collectionPathOverlayIndex",D))}),be.waitFor(f)}getOverlaysForCollection(e,r,s){const l=Wr(),f=on(r),g=IDBKeyRange.bound([this.userId,f,s],[this.userId,f,Number.POSITIVE_INFINITY],!0);return ul(e).U("collectionPathOverlayIndex",g).next(D=>{for(const M of D){const H=qc(this.serializer,M);l.set(H.getKey(),H)}return l})}getOverlaysForCollectionGroup(e,r,s,l){const f=Wr();let g;const D=IDBKeyRange.bound([this.userId,r,s],[this.userId,r,Number.POSITIVE_INFINITY],!0);return ul(e).J({index:"collectionGroupOverlayIndex",range:D},(M,H,Q)=>{const ce=qc(this.serializer,H);f.size()<l||ce.largestBatchId===g?(f.set(ce.getKey(),ce),g=ce.largestBatchId):Q.done()}).next(()=>f)}ht(e,r){return ul(e).put(function(l,f,g){const[D,M,H]=Qo(f,g.mutation.key);return{userId:f,collectionPath:M,documentId:H,collectionGroup:g.mutation.key.getCollectionGroup(),largestBatchId:g.largestBatchId,overlayMutation:dr(l.ct,g.mutation)}}(this.serializer,this.userId,r))}}function ul(a){return ii(a,"documentOverlays")}class dl{constructor(){}Pt(e,r){this.It(e,r),r.Tt()}It(e,r){if("nullValue"in e)this.Et(r,5);else if("booleanValue"in e)this.Et(r,10),r.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(r,15),r.dt(kn(e.integerValue));else if("doubleValue"in e){const s=kn(e.doubleValue);isNaN(s)?this.Et(r,13):(this.Et(r,15),$t(s)?r.dt(0):r.dt(s))}else if("timestampValue"in e){let s=e.timestampValue;this.Et(r,20),"string"==typeof s&&(s=Mn(s)),r.At(`${s.seconds||""}`),r.dt(s.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,r),this.Vt(r);else if("bytesValue"in e)this.Et(r,30),r.ft(ei(e.bytesValue)),this.Vt(r);else if("referenceValue"in e)this.gt(e.referenceValue,r);else if("geoPointValue"in e){const s=e.geoPointValue;this.Et(r,45),r.dt(s.latitude||0),r.dt(s.longitude||0)}else"mapValue"in e?Ii(e)?this.Et(r,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,r),this.Vt(r)):"arrayValue"in e?(this.wt(e.arrayValue,r),this.Vt(r)):St()}Rt(e,r){this.Et(r,25),this.St(e,r)}St(e,r){r.At(e)}yt(e,r){const s=e.fields||{};this.Et(r,55);for(const l of Object.keys(s))this.Rt(l,r),this.It(s[l],r)}wt(e,r){const s=e.values||[];this.Et(r,50);for(const l of s)this.It(l,r)}gt(e,r){this.Et(r,37),he.fromName(e).path.forEach(s=>{this.Et(r,60),this.St(s,r)})}Et(e,r){e.dt(r)}Vt(e){e.dt(2)}}function a_(a){if(0===a)return 8;let e=0;return!(a>>4)&&(e+=4,a<<=4),!(a>>6)&&(e+=2,a<<=2),!(a>>7)&&(e+=1),e}function fm(a){const e=64-function(s){let l=0;for(let f=0;f<8;++f){const g=a_(255&s[f]);if(l+=g,8!==g)break}return l}(a);return Math.ceil(e/8)}dl.bt=new dl;class Zc{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const r=e[Symbol.iterator]();let s=r.next();for(;!s.done;)this.Ct(s.value),s=r.next();this.vt()}Ft(e){const r=e[Symbol.iterator]();let s=r.next();for(;!s.done;)this.Mt(s.value),s=r.next();this.xt()}Ot(e){for(const r of e){const s=r.charCodeAt(0);if(s<128)this.Ct(s);else if(s<2048)this.Ct(960|s>>>6),this.Ct(128|63&s);else if(r<"\ud800"||"\udbff"<r)this.Ct(480|s>>>12),this.Ct(128|63&s>>>6),this.Ct(128|63&s);else{const l=r.codePointAt(0);this.Ct(240|l>>>18),this.Ct(128|63&l>>>12),this.Ct(128|63&l>>>6),this.Ct(128|63&l)}}this.vt()}Nt(e){for(const r of e){const s=r.charCodeAt(0);if(s<128)this.Mt(s);else if(s<2048)this.Mt(960|s>>>6),this.Mt(128|63&s);else if(r<"\ud800"||"\udbff"<r)this.Mt(480|s>>>12),this.Mt(128|63&s>>>6),this.Mt(128|63&s);else{const l=r.codePointAt(0);this.Mt(240|l>>>18),this.Mt(128|63&l>>>12),this.Mt(128|63&l>>>6),this.Mt(128|63&l)}}this.xt()}Lt(e){const r=this.Bt(e),s=fm(r);this.kt(1+s),this.buffer[this.position++]=255&s;for(let l=r.length-s;l<r.length;++l)this.buffer[this.position++]=255&r[l]}qt(e){const r=this.Bt(e),s=fm(r);this.kt(1+s),this.buffer[this.position++]=~(255&s);for(let l=r.length-s;l<r.length;++l)this.buffer[this.position++]=~(255&r[l])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const r=function(f){const g=new DataView(new ArrayBuffer(8));return g.setFloat64(0,f,!1),new Uint8Array(g.buffer)}(e),s=0!=(128&r[0]);r[0]^=s?255:128;for(let l=1;l<r.length;++l)r[l]^=s?255:0;return r}Ct(e){const r=255&e;0===r?(this.Kt(0),this.Kt(255)):255===r?(this.Kt(255),this.Kt(0)):this.Kt(r)}Mt(e){const r=255&e;0===r?(this.Ut(0),this.Ut(255)):255===r?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const r=e+this.position;if(r<=this.buffer.length)return;let s=2*this.buffer.length;s<r&&(s=r);const l=new Uint8Array(s);l.set(this.buffer),this.buffer=l}}class ec{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class pm{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class Ea{constructor(){this.Gt=new Zc,this.zt=new ec(this.Gt),this.jt=new pm(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class Oo{constructor(e,r,s,l){this.indexId=e,this.documentKey=r,this.arrayValue=s,this.directionalValue=l}Jt(){const e=this.directionalValue.length,r=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(r);return s.set(this.directionalValue,0),r!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new Oo(this.indexId,this.documentKey,this.arrayValue,s)}}function No(a,e){let r=a.indexId-e.indexId;return 0!==r?r:(r=Zd(a.arrayValue,e.arrayValue),0!==r?r:(r=Zd(a.directionalValue,e.directionalValue),0!==r?r:he.comparator(a.documentKey,e.documentKey)))}function Zd(a,e){for(let r=0;r<a.length&&r<e.length;++r){const s=a[r]-e[r];if(0!==s)return s}return a.length-e.length}class Qd{constructor(e){this.Yt=new Wn((r,s)=>dt.comparator(r.field,s.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const r of e.filters){const s=r;s.isInequality()?this.Yt=this.Yt.add(s):this.Xt.push(s)}}get en(){return this.Yt.size>1}tn(e){if(Rt(e.collectionGroup===this.collectionId),this.en)return!1;const r=Se(e);if(void 0!==r&&!this.nn(r))return!1;const s=oe(e);let l=new Set,f=0,g=0;for(;f<s.length&&this.nn(s[f]);++f)l=l.add(s[f].fieldPath.canonicalString());if(f===s.length)return!0;if(this.Yt.size>0){const D=this.Yt.getIterator().getNext();if(!l.has(D.field.canonicalString())){const M=s[f];if(!this.rn(D,M)||!this.sn(this.Zt[g++],M))return!1}++f}for(;f<s.length;++f)if(g>=this.Zt.length||!this.sn(this.Zt[g++],s[f]))return!1;return!0}on(){if(this.en)return null;let e=new Wn(dt.comparator);const r=[];for(const s of this.Xt)if(!s.field.isKeyField())if("array-contains"===s.op||"array-contains-any"===s.op)r.push(new lt(s.field,2));else{if(e.has(s.field))continue;e=e.add(s.field),r.push(new lt(s.field,0))}for(const s of this.Zt)s.field.isKeyField()||e.has(s.field)||(e=e.add(s.field),r.push(new lt(s.field,"asc"===s.dir?0:1)));return new X(X.UNKNOWN_ID,this.collectionId,r,U.empty())}nn(e){for(const r of this.Xt)if(this.rn(r,e))return!0;return!1}rn(e,r){return!(void 0===e||!e.field.isEqual(r.fieldPath))&&2===r.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,r){return!!e.field.isEqual(r.fieldPath)&&(0===r.kind&&"asc"===e.dir||1===r.kind&&"desc"===e.dir)}}function Qc(a){var e,r;if(Rt(a instanceof Hn||a instanceof wr),a instanceof Hn){if(a instanceof Va){const l=(null===(r=null===(e=a.value.arrayValue)||void 0===e?void 0:e.values)||void 0===r?void 0:r.map(f=>Hn.create(a.field,"==",f)))||[];return wr.create(l,"or")}return a}const s=a.filters.map(l=>Qc(l));return wr.create(s,a.op)}function Yd(a){if(0===a.getFilters().length)return[];const e=Jc(Qc(a));return Rt(Yc(e)),mo(e)||hl(e)?[e]:e.getFilters()}function mo(a){return a instanceof Hn}function hl(a){return a instanceof wr&&Uo(a)}function Yc(a){return mo(a)||hl(a)||function(r){if(r instanceof wr&&La(r)){for(const s of r.getFilters())if(!mo(s)&&!hl(s))return!1;return!0}return!1}(a)}function Jc(a){if(Rt(a instanceof Hn||a instanceof wr),a instanceof Hn)return a;if(1===a.filters.length)return Jc(a.filters[0]);const e=a.filters.map(s=>Jc(s));let r=wr.create(e,a.op);return r=Ha(r),Yc(r)?r:(Rt(r instanceof wr),Rt(Rs(r)),Rt(r.filters.length>1),r.filters.reduce((s,l)=>tc(s,l)))}function tc(a,e){let r;return Rt(a instanceof Hn||a instanceof wr),Rt(e instanceof Hn||e instanceof wr),r=a instanceof Hn?e instanceof Hn?wr.create([a,e],"and"):fl(a,e):e instanceof Hn?fl(e,a):function(l,f){if(Rt(l.filters.length>0&&f.filters.length>0),Rs(l)&&Rs(f))return ql(l,f.getFilters());const g=La(l)?l:f,D=La(l)?f:l,M=g.filters.map(H=>tc(H,D));return wr.create(M,"or")}(a,e),Ha(r)}function fl(a,e){if(Rs(e))return ql(e,a.getFilters());{const r=e.filters.map(s=>tc(a,s));return wr.create(r,"or")}}function Ha(a){if(Rt(a instanceof Hn||a instanceof wr),a instanceof Hn)return a;const e=a.getFilters();if(1===e.length)return Ha(e[0]);if(Bo(a))return a;const r=e.map(l=>Ha(l)),s=[];return r.forEach(l=>{l instanceof Hn?s.push(l):l instanceof wr&&(l.op===a.op?s.push(...l.filters):s.push(l))}),1===s.length?s[0]:wr.create(s,a.op)}class mm{constructor(){this._n=new nc}addToCollectionParentIndex(e,r){return this._n.add(r),be.resolve()}getCollectionParents(e,r){return be.resolve(this._n.getEntries(r))}addFieldIndex(e,r){return be.resolve()}deleteFieldIndex(e,r){return be.resolve()}deleteAllFieldIndexes(e){return be.resolve()}createTargetIndexes(e,r){return be.resolve()}getDocumentsMatchingTarget(e,r){return be.resolve(null)}getIndexType(e,r){return be.resolve(0)}getFieldIndexes(e,r){return be.resolve([])}getNextCollectionGroupToUpdate(e){return be.resolve(null)}getMinOffset(e,r){return be.resolve(F.min())}getMinOffsetFromCollectionGroup(e,r){return be.resolve(F.min())}updateCollectionGroup(e,r,s){return be.resolve()}updateIndexEntries(e,r){return be.resolve()}}class nc{constructor(){this.index={}}add(e){const r=e.lastSegment(),s=e.popLast(),l=this.index[r]||new Wn(ln.comparator),f=!l.has(s);return this.index[r]=l.add(s),f}has(e){const r=e.lastSegment(),s=e.popLast(),l=this.index[r];return l&&l.has(s)}getEntries(e){return(this.index[e]||new Wn(ln.comparator)).toArray()}}const rc=new Uint8Array(0);class Jd{constructor(e,r){this.databaseId=r,this.an=new nc,this.un=new Pn(s=>Qs(s),(s,l)=>xo(s,l)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.an.has(r)){const s=r.lastSegment(),l=r.popLast();e.addOnCommittedListener(()=>{this.an.add(r)});const f={collectionId:s,parent:on(l)};return Xd(e).put(f)}return be.resolve()}getCollectionParents(e,r){const s=[],l=IDBKeyRange.bound([r,""],[zn(r),""],!1,!0);return Xd(e).U(l).next(f=>{for(const g of f){if(g.collectionId!==r)break;s.push(jn(g.parent))}return s})}addFieldIndex(e,r){const s=Yo(e),l={indexId:(D=r).indexId,collectionGroup:D.collectionGroup,fields:D.fields.map(M=>[M.fieldPath.canonicalString(),M.kind])};var D;delete l.indexId;const f=s.add(l);if(r.indexState){const g=go(e);return f.next(D=>{g.put(Ba(D,this.uid,r.indexState.sequenceNumber,r.indexState.offset))})}return f.next()}deleteFieldIndex(e,r){const s=Yo(e),l=go(e),f=ic(e);return s.delete(r.indexId).next(()=>l.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>f.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const r=Yo(e),s=ic(e),l=go(e);return r.j().next(()=>s.j()).next(()=>l.j())}createTargetIndexes(e,r){return be.forEach(this.cn(r),s=>this.getIndexType(e,s).next(l=>{if(0===l||1===l){const f=new Qd(s).on();if(null!=f)return this.addFieldIndex(e,f)}}))}getDocumentsMatchingTarget(e,r){const s=ic(e);let l=!0;const f=new Map;return be.forEach(this.cn(r),g=>this.ln(e,g).next(D=>{l&&(l=!!D),f.set(g,D)})).next(()=>{if(l){let g=$n();const D=[];return be.forEach(f,(M,H)=>{var vn;st("IndexedDbIndexManager",`Using index ${vn=M,`id=${vn.indexId}|cg=${vn.collectionGroup}|f=${vn.fields.map(ar=>`${ar.fieldPath}:${ar.kind}`).join(",")}`} to execute ${Qs(r)}`);const Q=function(vn,ar){const Rr=Se(ar);if(void 0===Rr)return null;for(const Ir of os(vn,Rr.fieldPath))switch(Ir.op){case"array-contains-any":return Ir.value.arrayValue.values||[];case"array-contains":return[Ir.value]}return null}(H,M),ce=function(vn,ar){const Rr=new Map;for(const Ir of oe(ar))for(const $e of os(vn,Ir.fieldPath))switch($e.op){case"==":case"in":Rr.set(Ir.fieldPath.canonicalString(),$e.value);break;case"not-in":case"!=":return Rr.set(Ir.fieldPath.canonicalString(),$e.value),Array.from(Rr.values())}return null}(H,M),xe=function(vn,ar){const Rr=[];let Ir=!0;for(const $e of oe(ar)){const we=0===$e.kind?Ci(vn,$e.fieldPath,vn.startAt):Ys(vn,$e.fieldPath,vn.startAt);Rr.push(we.value),Ir&&(Ir=we.inclusive)}return new kr(Rr,Ir)}(H,M),at=function(vn,ar){const Rr=[];let Ir=!0;for(const $e of oe(ar)){const we=0===$e.kind?Ys(vn,$e.fieldPath,vn.endAt):Ci(vn,$e.fieldPath,vn.endAt);Rr.push(we.value),Ir&&(Ir=we.inclusive)}return new kr(Rr,Ir)}(H,M),Nt=this.hn(M,H,xe),qt=this.hn(M,H,at),Lt=this.Pn(M,H,ce),Dn=this.In(M.indexId,Q,Nt,xe.inclusive,qt,at.inclusive,Lt);return be.forEach(Dn,Un=>s.G(Un,r.limit).next(vn=>{vn.forEach(ar=>{const Rr=he.fromSegments(ar.documentKey);g.has(Rr)||(g=g.add(Rr),D.push(Rr))})}))}).next(()=>D)}return be.resolve(null)})}cn(e){let r=this.un.get(e);return r||(r=0===e.filters.length?[e]:Yd(wr.create(e.filters,"and")).map(s=>So(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,r),r)}In(e,r,s,l,f,g,D){const M=(null!=r?r.length:1)*Math.max(s.length,f.length),H=M/(null!=r?r.length:1),Q=[];for(let ce=0;ce<M;++ce){const xe=r?this.Tn(r[ce/H]):rc,at=this.En(e,xe,s[ce%H],l),Nt=this.dn(e,xe,f[ce%H],g),qt=D.map(Lt=>this.En(e,xe,Lt,!0));Q.push(...this.createRange(at,Nt,qt))}return Q}En(e,r,s,l){const f=new Oo(e,he.empty(),r,s);return l?f:f.Jt()}dn(e,r,s,l){const f=new Oo(e,he.empty(),r,s);return l?f.Jt():f}ln(e,r){const s=new Qd(r),l=null!=r.collectionGroup?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,l).next(f=>{let g=null;for(const D of f)s.tn(D)&&(!g||D.fields.length>g.fields.length)&&(g=D);return g})}getIndexType(e,r){let s=2;const l=this.cn(r);return be.forEach(l,f=>this.ln(e,f).next(g=>{g?0!==s&&g.fields.length<function(M){let H=new Wn(dt.comparator),Q=!1;for(const ce of M.filters)for(const xe of ce.getFlattenedFilters())xe.field.isKeyField()||("array-contains"===xe.op||"array-contains-any"===xe.op?Q=!0:H=H.add(xe.field));for(const ce of M.orderBy)ce.field.isKeyField()||(H=H.add(ce.field));return H.size+(Q?1:0)}(f)&&(s=1):s=0})).next(()=>null!==r.limit&&l.length>1&&2===s?1:s)}An(e,r){const s=new Ea;for(const l of oe(e)){const f=r.data.field(l.fieldPath);if(null==f)return null;const g=s.Ht(l.kind);dl.bt.Pt(f,g)}return s.Wt()}Tn(e){const r=new Ea;return dl.bt.Pt(e,r.Ht(0)),r.Wt()}Rn(e,r){const s=new Ea;return dl.bt.Pt(Us(this.databaseId,r),s.Ht(function(f){const g=oe(f);return 0===g.length?0:g[g.length-1].kind}(e))),s.Wt()}Pn(e,r,s){if(null===s)return[];let l=[];l.push(new Ea);let f=0;for(const g of oe(e)){const D=s[f++];for(const M of l)if(this.Vn(r,g.fieldPath)&&Ui(D))l=this.mn(l,g,D);else{const H=M.Ht(g.kind);dl.bt.Pt(D,H)}}return this.fn(l)}hn(e,r,s){return this.Pn(e,r,s.position)}fn(e){const r=[];for(let s=0;s<e.length;++s)r[s]=e[s].Wt();return r}mn(e,r,s){const l=[...e],f=[];for(const g of s.arrayValue.values||[])for(const D of l){const M=new Ea;M.seed(D.Wt()),dl.bt.Pt(g,M.Ht(r.kind)),f.push(M)}return f}Vn(e,r){return!!e.filters.find(s=>s instanceof Hn&&s.field.isEqual(r)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,r){const s=Yo(e),l=go(e);return(r?s.U("collectionGroupIndex",IDBKeyRange.bound(r,r)):s.U()).next(f=>{const g=[];return be.forEach(f,D=>l.get([D.indexId,this.uid]).next(M=>{g.push(function(Q,ce){const xe=ce?new U(ce.sequenceNumber,new F(Zo(ce.readTime),new he(jn(ce.documentKey)),ce.largestBatchId)):U.empty(),at=Q.fields.map(([Nt,qt])=>new lt(dt.fromServerFormat(Nt),qt));return new X(Q.indexId,Q.collectionGroup,at,xe)}(D,M))})).next(()=>g)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>0===r.length?null:(r.sort((s,l)=>{const f=s.indexState.sequenceNumber-l.indexState.sequenceNumber;return 0!==f?f:At(s.collectionGroup,l.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,s){const l=Yo(e),f=go(e);return this.gn(e).next(g=>l.U("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(D=>be.forEach(D,M=>f.put(Ba(M.indexId,this.uid,g,s)))))}updateIndexEntries(e,r){const s=new Map;return be.forEach(r,(l,f)=>{const g=s.get(l.collectionGroup);return(g?be.resolve(g):this.getFieldIndexes(e,l.collectionGroup)).next(D=>(s.set(l.collectionGroup,D),be.forEach(D,M=>this.pn(e,l,M).next(H=>{const Q=this.yn(f,M);return H.isEqual(Q)?be.resolve():this.wn(e,f,M,H,Q)}))))})}Sn(e,r,s,l){return ic(e).put({indexId:l.indexId,uid:this.uid,arrayValue:l.arrayValue,directionalValue:l.directionalValue,orderedDocumentKey:this.Rn(s,r.key),documentKey:r.key.path.toArray()})}bn(e,r,s,l){return ic(e).delete([l.indexId,this.uid,l.arrayValue,l.directionalValue,this.Rn(s,r.key),r.key.path.toArray()])}pn(e,r,s){const l=ic(e);let f=new Wn(No);return l.J({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.Rn(s,r)])},(g,D)=>{f=f.add(new Oo(s.indexId,r,D.arrayValue,D.directionalValue))}).next(()=>f)}yn(e,r){let s=new Wn(No);const l=this.An(r,e);if(null==l)return s;const f=Se(r);if(null!=f){const g=e.data.field(f.fieldPath);if(Ui(g))for(const D of g.arrayValue.values||[])s=s.add(new Oo(r.indexId,e.key,this.Tn(D),l))}else s=s.add(new Oo(r.indexId,e.key,rc,l));return s}wn(e,r,s,l,f){st("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const g=[];return function(M,H,Q,ce,xe){const at=M.getIterator(),Nt=H.getIterator();let qt=io(at),Lt=io(Nt);for(;qt||Lt;){let Dn=!1,Un=!1;if(qt&&Lt){const vn=Q(qt,Lt);vn<0?Un=!0:vn>0&&(Dn=!0)}else null!=qt?Un=!0:Dn=!0;Dn?(ce(Lt),Lt=io(Nt)):Un?(xe(qt),qt=io(at)):(qt=io(at),Lt=io(Nt))}}(l,f,No,D=>{g.push(this.Sn(e,r,s,D))},D=>{g.push(this.bn(e,r,s,D))}),be.waitFor(g)}gn(e){let r=1;return go(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,l,f)=>{f.done(),r=l.sequenceNumber+1}).next(()=>r)}createRange(e,r,s){s=s.sort((g,D)=>No(g,D)).filter((g,D,M)=>!D||0!==No(g,M[D-1]));const l=[];l.push(e);for(const g of s){const D=No(g,e),M=No(g,r);if(0===D)l[0]=e.Jt();else if(D>0&&M<0)l.push(g),l.push(g.Jt());else if(M>0)break}l.push(r);const f=[];for(let g=0;g<l.length;g+=2){if(this.Dn(l[g],l[g+1]))return[];f.push(IDBKeyRange.bound([l[g].indexId,this.uid,l[g].arrayValue,l[g].directionalValue,rc,[]],[l[g+1].indexId,this.uid,l[g+1].arrayValue,l[g+1].directionalValue,rc,[]]))}return f}Dn(e,r){return No(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(Sf)}getMinOffset(e,r){return be.mapArray(this.cn(r),s=>this.ln(e,s).next(l=>l||St())).next(Sf)}}function Xd(a){return ii(a,"collectionParents")}function ic(a){return ii(a,"indexEntries")}function Yo(a){return ii(a,"indexConfiguration")}function go(a){return ii(a,"indexState")}function Sf(a){Rt(0!==a.length);let e=a[0].indexState.offset,r=e.largestBatchId;for(let s=1;s<a.length;s++){const l=a[s].indexState.offset;se(l,e)<0&&(e=l),r<l.largestBatchId&&(r=l.largestBatchId)}return new F(e.readTime,e.documentKey,r)}const Xc={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ys{constructor(e,r,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new ys(e,ys.DEFAULT_COLLECTION_PERCENTILE,ys.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function sc(a,e,r){const s=a.store("mutations"),l=a.store("documentMutations"),f=[],g=IDBKeyRange.only(r.batchId);let D=0;const M=s.J({range:g},(Q,ce,xe)=>(D++,xe.delete()));f.push(M.next(()=>{Rt(1===D)}));const H=[];for(const Q of r.mutations){const ce=Lr(e,Q.key.path,r.batchId);f.push(l.delete(ce)),H.push(Q.key)}return be.waitFor(f).next(()=>H)}function oc(a){if(!a)return 0;let e;if(a.document)e=a.document;else if(a.unknownDocument)e=a.unknownDocument;else{if(!a.noDocument)throw St();e=a.noDocument}return JSON.stringify(e).length}ys.DEFAULT_COLLECTION_PERCENTILE=10,ys.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ys.DEFAULT=new ys(41943040,ys.DEFAULT_COLLECTION_PERCENTILE,ys.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ys.DISABLED=new ys(-1,0,0);class us{constructor(e,r,s,l){this.userId=e,this.serializer=r,this.indexManager=s,this.referenceDelegate=l,this.Cn={}}static lt(e,r,s,l){Rt(""!==e.uid);const f=e.isAuthenticated()?e.uid:"";return new us(f,r,s,l)}checkEmpty(e){let r=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return _o(e).J({index:"userMutationsIndex",range:s},(l,f,g)=>{r=!1,g.done()}).next(()=>r)}addMutationBatch(e,r,s,l){const f=Jo(e),g=_o(e);return g.add({}).next(D=>{Rt("number"==typeof D);const M=new Wd(D,r,s,l),H=function(at,Nt,qt){const Lt=qt.baseMutations.map(Un=>dr(at.ct,Un)),Dn=qt.mutations.map(Un=>dr(at.ct,Un));return{userId:Nt,batchId:qt.batchId,localWriteTimeMs:qt.localWriteTime.toMillis(),baseMutations:Lt,mutations:Dn}}(this.serializer,this.userId,M),Q=[];let ce=new Wn((xe,at)=>At(xe.canonicalString(),at.canonicalString()));for(const xe of l){const at=Lr(this.userId,xe.key.path,D);ce=ce.add(xe.key.path.popLast()),Q.push(g.put(H)),Q.push(f.put(at,_r))}return ce.forEach(xe=>{Q.push(this.indexManager.addToCollectionParentIndex(e,xe))}),e.addOnCommittedListener(()=>{this.Cn[D]=M.keys()}),be.waitFor(Q).next(()=>M)})}lookupMutationBatch(e,r){return _o(e).get(r).next(s=>s?(Rt(s.userId===this.userId),po(this.serializer,s)):null)}vn(e,r){return this.Cn[r]?be.resolve(this.Cn[r]):this.lookupMutationBatch(e,r).next(s=>{if(s){const l=s.keys();return this.Cn[r]=l,l}return null})}getNextMutationBatchAfterBatchId(e,r){const s=r+1,l=IDBKeyRange.lowerBound([this.userId,s]);let f=null;return _o(e).J({index:"userMutationsIndex",range:l},(g,D,M)=>{D.userId===this.userId&&(Rt(D.batchId>=s),f=po(this.serializer,D)),M.done()}).next(()=>f)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return _o(e).J({index:"userMutationsIndex",range:r,reverse:!0},(l,f,g)=>{s=f.batchId,g.done()}).next(()=>s)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return _o(e).U("userMutationsIndex",r).next(s=>s.map(l=>po(this.serializer,l)))}getAllMutationBatchesAffectingDocumentKey(e,r){const s=Ar(this.userId,r.path),l=IDBKeyRange.lowerBound(s),f=[];return Jo(e).J({range:l},(g,D,M)=>{const[H,Q,ce]=g,xe=jn(Q);if(H===this.userId&&r.path.isEqual(xe))return _o(e).get(ce).next(at=>{if(!at)throw St();Rt(at.userId===this.userId),f.push(po(this.serializer,at))});M.done()}).next(()=>f)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new Wn(At);const l=[];return r.forEach(f=>{const g=Ar(this.userId,f.path),D=IDBKeyRange.lowerBound(g),M=Jo(e).J({range:D},(H,Q,ce)=>{const[xe,at,Nt]=H,qt=jn(at);xe===this.userId&&f.path.isEqual(qt)?s=s.add(Nt):ce.done()});l.push(M)}),be.waitFor(l).next(()=>this.Fn(e,s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,l=s.length+1,f=Ar(this.userId,s),g=IDBKeyRange.lowerBound(f);let D=new Wn(At);return Jo(e).J({range:g},(M,H,Q)=>{const[ce,xe,at]=M,Nt=jn(xe);ce===this.userId&&s.isPrefixOf(Nt)?Nt.length===l&&(D=D.add(at)):Q.done()}).next(()=>this.Fn(e,D))}Fn(e,r){const s=[],l=[];return r.forEach(f=>{l.push(_o(e).get(f).next(g=>{if(null===g)throw St();Rt(g.userId===this.userId),s.push(po(this.serializer,g))}))}),be.waitFor(l).next(()=>s)}removeMutationBatch(e,r){return sc(e._e,this.userId,r).next(s=>(e.addOnCommittedListener(()=>{this.Mn(r.batchId)}),be.forEach(s,l=>this.referenceDelegate.markPotentiallyOrphaned(e,l))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return be.resolve();const s=IDBKeyRange.lowerBound([this.userId]),l=[];return Jo(e).J({range:s},(f,g,D)=>{if(f[0]===this.userId){const M=jn(f[1]);l.push(M)}else D.done()}).next(()=>{Rt(0===l.length)})})}containsKey(e,r){return zu(e,this.userId,r)}xn(e){return eh(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function zu(a,e,r){const s=Ar(e,r.path),l=s[1],f=IDBKeyRange.lowerBound(s);let g=!1;return Jo(a).J({range:f,H:!0},(D,M,H)=>{const[Q,ce,xe]=D;Q===e&&ce===l&&(g=!0),H.done()}).next(()=>g)}function _o(a){return ii(a,"mutations")}function Jo(a){return ii(a,"documentMutations")}function eh(a){return ii(a,"mutationQueues")}class Xo{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Xo(0)}static Ln(){return new Xo(-1)}}class th{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.Bn(e).next(r=>{const s=new Xo(r.highestTargetId);return r.highestTargetId=s.next(),this.kn(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(r=>Ht.fromTimestamp(new Gn(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,s){return this.Bn(e).next(l=>(l.highestListenSequenceNumber=r,s&&(l.lastRemoteSnapshotVersion=s.toTimestamp()),r>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=r),this.kn(e,l)))}addTargetData(e,r){return this.qn(e,r).next(()=>this.Bn(e).next(s=>(s.targetCount+=1,this.Qn(r,s),this.kn(e,s))))}updateTargetData(e,r){return this.qn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>yo(e).delete(r.targetId)).next(()=>this.Bn(e)).next(s=>(Rt(s.targetCount>0),s.targetCount-=1,this.kn(e,s)))}removeTargets(e,r,s){let l=0;const f=[];return yo(e).J((g,D)=>{const M=cl(D);M.sequenceNumber<=r&&null===s.get(M.targetId)&&(l++,f.push(this.removeTargetData(e,M)))}).next(()=>be.waitFor(f)).next(()=>l)}forEachTarget(e,r){return yo(e).J((s,l)=>{const f=cl(l);r(f)})}Bn(e){return $a(e).get("targetGlobalKey").next(r=>(Rt(null!==r),r))}kn(e,r){return $a(e).put("targetGlobalKey",r)}qn(e,r){return yo(e).put(Kc(this.serializer,r))}Qn(e,r){let s=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,s=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.Bn(e).next(r=>r.targetCount)}getTargetData(e,r){const s=Qs(r),l=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let f=null;return yo(e).J({range:l,index:"queryTargetsIndex"},(g,D,M)=>{const H=cl(D);xo(r,H.target)&&(f=H,M.done())}).next(()=>f)}addMatchingKeys(e,r,s){const l=[],f=js(e);return r.forEach(g=>{const D=on(g.path);l.push(f.put({targetId:s,path:D})),l.push(this.referenceDelegate.addReference(e,s,g))}),be.waitFor(l)}removeMatchingKeys(e,r,s){const l=js(e);return be.forEach(r,f=>{const g=on(f.path);return be.waitFor([l.delete([s,g]),this.referenceDelegate.removeReference(e,s,f)])})}removeMatchingKeysForTargetId(e,r){const s=js(e),l=IDBKeyRange.bound([r],[r+1],!1,!0);return s.delete(l)}getMatchingKeysForTargetId(e,r){const s=IDBKeyRange.bound([r],[r+1],!1,!0),l=js(e);let f=$n();return l.J({range:s,H:!0},(g,D,M)=>{const H=jn(g[1]),Q=new he(H);f=f.add(Q)}).next(()=>f)}containsKey(e,r){const s=on(r.path),l=IDBKeyRange.bound([s],[zn(s)],!1,!0);let f=0;return js(e).J({index:"documentTargetsIndex",H:!0,range:l},([g,D],M,H)=>{0!==g&&(f++,H.done())}).next(()=>f>0)}ot(e,r){return yo(e).get(r).next(s=>s?cl(s):null)}}function yo(a){return ii(a,"targets")}function $a(a){return ii(a,"targetGlobal")}function js(a){return ii(a,"targetDocuments")}function nh([a,e],[r,s]){const l=At(a,r);return 0===l?At(e,s):l}class Gu{constructor(e){this.Kn=e,this.buffer=new Wn(nh),this.$n=0}Un(){return++this.$n}Wn(e){const r=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(r);else{const s=this.buffer.last();nh(r,s)<0&&(this.buffer=this.buffer.delete(s).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Ia{constructor(e,r,s){this.garbageCollector=e,this.asyncQueue=r,this.localStore=s,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){var r=this;st("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Ie.Z)(function*(){r.Gn=null;try{yield r.localStore.collectGarbage(r.garbageCollector)}catch(s){mt(s)?st("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield Yt(s)}yield r.zn(3e5)}))}}class l_{constructor(e,r){this.jn=e,this.params=r}calculateTargetCount(e,r){return this.jn.Hn(e).next(s=>Math.floor(r/100*s))}nthSequenceNumber(e,r){if(0===r)return be.resolve(Ve.oe);const s=new Gu(r);return this.jn.forEachTarget(e,l=>s.Wn(l.sequenceNumber)).next(()=>this.jn.Jn(e,l=>s.Wn(l))).next(()=>s.maxValue)}removeTargets(e,r,s){return this.jn.removeTargets(e,r,s)}removeOrphanedDocuments(e,r){return this.jn.removeOrphanedDocuments(e,r)}collect(e,r){return-1===this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector","Garbage collection skipped; disabled"),be.resolve(Xc)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Xc):this.Yn(e,r))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,r){let s,l,f,g,D,M,H;const Q=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(ce=>(ce>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${ce}`),l=this.params.maximumSequenceNumbersToCollect):l=ce,g=Date.now(),this.nthSequenceNumber(e,l))).next(ce=>(s=ce,D=Date.now(),this.removeTargets(e,s,r))).next(ce=>(f=ce,M=Date.now(),this.removeOrphanedDocuments(e,s))).next(ce=>(H=Date.now(),sr()<=me.in.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${g-Q}ms\n\tDetermined least recently used ${l} in `+(D-g)+`ms\n\tRemoved ${f} targets in `+(M-D)+`ms\n\tRemoved ${ce} documents in `+(H-M)+`ms\nTotal Duration: ${H-Q}ms`),be.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:f,documentsRemoved:ce})))}}class c_{constructor(e,r){this.db=e,this.garbageCollector=function xf(a,e){return new l_(a,e)}(this,r)}Hn(e){const r=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>r.next(l=>s+l))}Zn(e){let r=0;return this.Jn(e,s=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Jn(e,r){return this.Xn(e,(s,l)=>r(l))}addReference(e,r,s){return eu(e,s)}removeReference(e,r,s){return eu(e,s)}removeTargets(e,r,s){return this.db.getTargetCache().removeTargets(e,r,s)}markPotentiallyOrphaned(e,r){return eu(e,r)}er(e,r){return function(l,f){let g=!1;return eh(l).Y(D=>zu(l,D,f).next(M=>(M&&(g=!0),be.resolve(!M)))).next(()=>g)}(e,r)}removeOrphanedDocuments(e,r){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let f=0;return this.Xn(e,(g,D)=>{if(D<=r){const M=this.er(e,g).next(H=>{if(!H)return f++,s.getEntry(e,g).next(()=>(s.removeEntry(g,Ht.min()),js(e).delete([0,on(g.path)])))});l.push(M)}}).next(()=>be.waitFor(l)).next(()=>s.apply(e)).next(()=>f)}removeTarget(e,r){const s=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,r){return eu(e,r)}Xn(e,r){const s=js(e);let l,f=Ve.oe;return s.J({index:"documentTargetsIndex"},([g,D],{path:M,sequenceNumber:H})=>{0===g?(f!==Ve.oe&&r(new he(jn(l)),f),f=H,l=M):f=Ve.oe}).next(()=>{f!==Ve.oe&&r(new he(jn(l)),f)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function eu(a,e){return js(a).put((l=a.currentSequenceNumber,{targetId:0,path:on(e.path),sequenceNumber:l}));var l}class gm{constructor(){this.changes=new Pn(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,vr.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const s=this.changes.get(r);return void 0!==s?be.resolve(s):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class u_{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,s){return pl(e).put(s)}removeEntry(e,r,s){return pl(e).delete(function(f,g){const D=f.path.toArray();return[D.slice(0,D.length-2),D[D.length-2],Hu(g),D[D.length-1]]}(r,s))}updateMetadata(e,r){return this.getMetadata(e).next(s=>(s.byteSize+=r,this.tr(e,s)))}getEntry(e,r){let s=vr.newInvalidDocument(r);return pl(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(tu(r))},(l,f)=>{s=this.nr(r,f)}).next(()=>s)}rr(e,r){let s={size:0,document:vr.newInvalidDocument(r)};return pl(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(tu(r))},(l,f)=>{s={document:this.nr(r,f),size:oc(f)}}).next(()=>s)}getEntries(e,r){let s=Tn();return this.ir(e,r,(l,f)=>{const g=this.nr(l,f);s=s.insert(l,g)}).next(()=>s)}sr(e,r){let s=Tn(),l=new Xn(he.comparator);return this.ir(e,r,(f,g)=>{const D=this.nr(f,g);s=s.insert(f,D),l=l.insert(f,oc(g))}).next(()=>({documents:s,_r:l}))}ir(e,r,s){if(r.isEmpty())return be.resolve();let l=new Wn(Mf);r.forEach(M=>l=l.add(M));const f=IDBKeyRange.bound(tu(l.first()),tu(l.last())),g=l.getIterator();let D=g.getNext();return pl(e).J({index:"documentKeyIndex",range:f},(M,H,Q)=>{const ce=he.fromSegments([...H.prefixPath,H.collectionGroup,H.documentId]);for(;D&&Mf(D,ce)<0;)s(D,null),D=g.getNext();D&&D.isEqual(ce)&&(s(D,H),D=g.hasNext()?g.getNext():null),D?Q.$(tu(D)):Q.done()}).next(()=>{for(;D;)s(D,null),D=g.hasNext()?g.getNext():null})}getDocumentsMatchingQuery(e,r,s,l,f){const g=r.path,D=[g.popLast().toArray(),g.lastSegment(),Hu(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],M=[g.popLast().toArray(),g.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return pl(e).U(IDBKeyRange.bound(D,M,!0)).next(H=>{f?.incrementDocumentReadCount(H.length);let Q=Tn();for(const ce of H){const xe=this.nr(he.fromSegments(ce.prefixPath.concat(ce.collectionGroup,ce.documentId)),ce);xe.isFoundDocument()&&(vt(r,xe)||l.has(xe.key))&&(Q=Q.insert(xe.key,xe))}return Q})}getAllFromCollectionGroup(e,r,s,l){let f=Tn();const g=zi(r,s),D=zi(r,F.max());return pl(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(g,D,!0)},(M,H,Q)=>{const ce=this.nr(he.fromSegments(H.prefixPath.concat(H.collectionGroup,H.documentId)),H);f=f.insert(ce.key,ce),f.size===l&&Q.done()}).next(()=>f)}newChangeBuffer(e){return new d_(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return ea(e).get("remoteDocumentGlobalKey").next(r=>(Rt(!!r),r))}tr(e,r){return ea(e).put("remoteDocumentGlobalKey",r)}nr(e,r){if(r){const s=function ju(a,e){let r;if(e.document)r=gt(a.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=he.fromSegments(e.noDocument.path),l=Zo(e.noDocument.readTime);r=vr.newNoDocument(s,l),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return St();{const s=he.fromSegments(e.unknownDocument.path),l=Zo(e.unknownDocument.version);r=vr.newUnknownDocument(s,l)}}return e.readTime&&r.setReadTime(function(l){const f=new Gn(l[0],l[1]);return Ht.fromTimestamp(f)}(e.readTime)),r}(this.serializer,r);if(!s.isNoDocument()||!s.version.isEqual(Ht.min()))return s}return vr.newInvalidDocument(e)}}function Rf(a){return new u_(a)}class d_ extends gm{constructor(e,r){super(),this.ar=e,this.trackRemovals=r,this.ur=new Pn(s=>s.toString(),(s,l)=>s.isEqual(l))}applyChanges(e){const r=[];let s=0,l=new Wn((f,g)=>At(f.canonicalString(),g.canonicalString()));return this.changes.forEach((f,g)=>{const D=this.ur.get(f);if(r.push(this.ar.removeEntry(e,f,D.readTime)),g.isValidDocument()){const M=ya(this.ar.serializer,g);l=l.add(f.path.popLast());const H=oc(M);s+=H-D.size,r.push(this.ar.addEntry(e,f,M))}else if(s-=D.size,this.trackRemovals){const M=ya(this.ar.serializer,g.convertToNoDocument(Ht.min()));r.push(this.ar.addEntry(e,f,M))}}),l.forEach(f=>{r.push(this.ar.indexManager.addToCollectionParentIndex(e,f))}),r.push(this.ar.updateMetadata(e,s)),be.waitFor(r)}getFromCache(e,r){return this.ar.rr(e,r).next(s=>(this.ur.set(r,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,r){return this.ar.sr(e,r).next(({documents:s,_r:l})=>(l.forEach((f,g)=>{this.ur.set(f,{size:g,readTime:s.get(f).readTime})}),s))}}function ea(a){return ii(a,"remoteDocumentGlobal")}function pl(a){return ii(a,"remoteDocumentsV14")}function tu(a){const e=a.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function zi(a,e){const r=e.documentKey.path.toArray();return[a,Hu(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function Mf(a,e){const r=a.path.toArray(),s=e.path.toArray();let l=0;for(let f=0;f<r.length-2&&f<s.length-2;++f)if(l=At(r[f],s[f]),l)return l;return l=At(r.length,s.length),l||(l=At(r[r.length-2],s[s.length-2]),l||At(r[r.length-1],s[s.length-1]))}class nu{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class Pf{constructor(e,r,s,l){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,r){let s=null;return this.documentOverlayCache.getOverlay(e,r).next(l=>(s=l,this.remoteDocumentCache.getEntry(e,r))).next(l=>(null!==s&&Vr(s.mutation,l,Qr.empty(),Gn.now()),l))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.getLocalViewOfDocuments(e,s,$n()).next(()=>s))}getLocalViewOfDocuments(e,r,s=$n()){const l=Wr();return this.populateOverlays(e,l,r).next(()=>this.computeViews(e,r,l,s).next(f=>{let g=jr();return f.forEach((D,M)=>{g=g.insert(D,M.overlayedDocument)}),g}))}getOverlayedDocuments(e,r){const s=Wr();return this.populateOverlays(e,s,r).next(()=>this.computeViews(e,r,s,$n()))}populateOverlays(e,r,s){const l=[];return s.forEach(f=>{r.has(f)||l.push(f)}),this.documentOverlayCache.getOverlays(e,l).next(f=>{f.forEach((g,D)=>{r.set(g,D)})})}computeViews(e,r,s,l){let f=Tn();const g=gs(),D=gs();return r.forEach((M,H)=>{const Q=s.get(H.key);l.has(H.key)&&(void 0===Q||Q.mutation instanceof ao)?f=f.insert(H.key,H):void 0!==Q?(g.set(H.key,Q.mutation.getFieldMask()),Vr(Q.mutation,H,Q.mutation.getFieldMask(),Gn.now())):g.set(H.key,Qr.empty())}),this.recalculateAndSaveOverlays(e,f).next(M=>(M.forEach((H,Q)=>g.set(H,Q)),r.forEach((H,Q)=>{var ce;return D.set(H,new nu(Q,null!==(ce=g.get(H))&&void 0!==ce?ce:null))}),D))}recalculateAndSaveOverlays(e,r){const s=gs();let l=new Xn((g,D)=>g-D),f=$n();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(g=>{for(const D of g)D.keys().forEach(M=>{const H=r.get(M);if(null===H)return;let Q=s.get(M)||Qr.empty();Q=D.applyToLocalView(H,Q),s.set(M,Q);const ce=(l.get(D.batchId)||$n()).add(M);l=l.insert(D.batchId,ce)})}).next(()=>{const g=[],D=l.getReverseIterator();for(;D.hasNext();){const M=D.getNext(),H=M.key,Q=M.value,ce=gi();Q.forEach(xe=>{if(!f.has(xe)){const at=_i(r.get(xe),s.get(xe));null!==at&&ce.set(xe,at),f=f.add(xe)}}),g.push(this.documentOverlayCache.saveOverlays(e,H,ce))}return be.waitFor(g)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,r,s,l){return he.isDocumentKey((g=r).path)&&null===g.collectionGroup&&0===g.filters.length?this.getDocumentsMatchingDocumentQuery(e,r.path):Mo(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,s,l):this.getDocumentsMatchingCollectionQuery(e,r,s,l);var g}getNextDocuments(e,r,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,s,l).next(f=>{const g=l-f.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,s.largestBatchId,l-f.size):be.resolve(Wr());let D=-1,M=f;return g.next(H=>be.forEach(H,(Q,ce)=>(D<ce.largestBatchId&&(D=ce.largestBatchId),f.get(Q)?be.resolve():this.remoteDocumentCache.getEntry(e,Q).next(xe=>{M=M.insert(Q,xe)}))).next(()=>this.populateOverlays(e,H,f)).next(()=>this.computeViews(e,M,H,$n())).next(Q=>({batchId:D,changes:di(Q)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new he(r)).next(s=>{let l=jr();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(e,r,s,l){const f=r.collectionGroup;let g=jr();return this.indexManager.getCollectionParents(e,f).next(D=>be.forEach(D,M=>{const H=(ce=r,xe=M.child(f),new ji(xe,null,ce.explicitOrderBy.slice(),ce.filters.slice(),ce.limit,ce.limitType,ce.startAt,ce.endAt));var ce,xe;return this.getDocumentsMatchingCollectionQuery(e,H,s,l).next(Q=>{Q.forEach((ce,xe)=>{g=g.insert(ce,xe)})})}).next(()=>g))}getDocumentsMatchingCollectionQuery(e,r,s,l){let f;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,s.largestBatchId).next(g=>(f=g,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,s,f,l))).next(g=>{f.forEach((M,H)=>{const Q=H.getKey();null===g.get(Q)&&(g=g.insert(Q,vr.newInvalidDocument(Q)))});let D=jr();return g.forEach((M,H)=>{const Q=f.get(M);void 0!==Q&&Vr(Q.mutation,H,Qr.empty(),Gn.now()),vt(r,H)&&(D=D.insert(M,H))}),D})}}class vo{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,r){return be.resolve(this.cr.get(r))}saveBundleMetadata(e,r){return this.cr.set(r.id,{id:(l=r).id,version:l.version,createTime:Di(l.createTime)}),be.resolve();var l}getNamedQuery(e,r){return be.resolve(this.lr.get(r))}saveNamedQuery(e,r){return this.lr.set(r.name,{name:(l=r).name,query:$u(l.bundledQuery),readTime:Di(l.readTime)}),be.resolve();var l}}class ac{constructor(){this.overlays=new Xn(he.comparator),this.hr=new Map}getOverlay(e,r){return be.resolve(this.overlays.get(r))}getOverlays(e,r){const s=Wr();return be.forEach(r,l=>this.getOverlay(e,l).next(f=>{null!==f&&s.set(l,f)})).next(()=>s)}saveOverlays(e,r,s){return s.forEach((l,f)=>{this.ht(e,r,f)}),be.resolve()}removeOverlaysForBatchId(e,r,s){const l=this.hr.get(s);return void 0!==l&&(l.forEach(f=>this.overlays=this.overlays.remove(f)),this.hr.delete(s)),be.resolve()}getOverlaysForCollection(e,r,s){const l=Wr(),f=r.length+1,g=new he(r.child("")),D=this.overlays.getIteratorFrom(g);for(;D.hasNext();){const M=D.getNext().value,H=M.getKey();if(!r.isPrefixOf(H.path))break;H.path.length===f&&M.largestBatchId>s&&l.set(M.getKey(),M)}return be.resolve(l)}getOverlaysForCollectionGroup(e,r,s,l){let f=new Xn((H,Q)=>H-Q);const g=this.overlays.getIterator();for(;g.hasNext();){const H=g.getNext().value;if(H.getKey().getCollectionGroup()===r&&H.largestBatchId>s){let Q=f.get(H.largestBatchId);null===Q&&(Q=Wr(),f=f.insert(H.largestBatchId,Q)),Q.set(H.getKey(),H)}}const D=Wr(),M=f.getIterator();for(;M.hasNext()&&(M.getNext().value.forEach((H,Q)=>D.set(H,Q)),!(D.size()>=l)););return be.resolve(D)}ht(e,r,s){const l=this.overlays.get(s.key);if(null!==l){const g=this.hr.get(l.largestBatchId).delete(s.key);this.hr.set(l.largestBatchId,g)}this.overlays=this.overlays.insert(s.key,new Cs(r,s));let f=this.hr.get(r);void 0===f&&(f=$n(),this.hr.set(r,f)),this.hr.set(r,f.add(s.key))}}class lc{constructor(){this.Pr=new Wn(ki.Ir),this.Tr=new Wn(ki.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,r){const s=new ki(e,r);this.Pr=this.Pr.add(s),this.Tr=this.Tr.add(s)}dr(e,r){e.forEach(s=>this.addReference(s,r))}removeReference(e,r){this.Ar(new ki(e,r))}Rr(e,r){e.forEach(s=>this.removeReference(s,r))}Vr(e){const r=new he(new ln([])),s=new ki(r,e),l=new ki(r,e+1),f=[];return this.Tr.forEachInRange([s,l],g=>{this.Ar(g),f.push(g.key)}),f}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const r=new he(new ln([])),s=new ki(r,e),l=new ki(r,e+1);let f=$n();return this.Tr.forEachInRange([s,l],g=>{f=f.add(g.key)}),f}containsKey(e){const r=new ki(e,0),s=this.Pr.firstAfterOrEqual(r);return null!==s&&e.isEqual(s.key)}}class ki{constructor(e,r){this.key=e,this.pr=r}static Ir(e,r){return he.comparator(e.key,r.key)||At(e.pr,r.pr)}static Er(e,r){return At(e.pr,r.pr)||he.comparator(e.key,r.key)}}class ru{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.yr=1,this.wr=new Wn(ki.Ir)}checkEmpty(e){return be.resolve(0===this.mutationQueue.length)}addMutationBatch(e,r,s,l){const f=this.yr;this.yr++;const g=new Wd(f,r,s,l);this.mutationQueue.push(g);for(const D of l)this.wr=this.wr.add(new ki(D.key,f)),this.indexManager.addToCollectionParentIndex(e,D.key.path.popLast());return be.resolve(g)}lookupMutationBatch(e,r){return be.resolve(this.Sr(r))}getNextMutationBatchAfterBatchId(e,r){const l=this.br(r+1),f=l<0?0:l;return be.resolve(this.mutationQueue.length>f?this.mutationQueue[f]:null)}getHighestUnacknowledgedBatchId(){return be.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return be.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const s=new ki(r,0),l=new ki(r,Number.POSITIVE_INFINITY),f=[];return this.wr.forEachInRange([s,l],g=>{const D=this.Sr(g.pr);f.push(D)}),be.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new Wn(At);return r.forEach(l=>{const f=new ki(l,0),g=new ki(l,Number.POSITIVE_INFINITY);this.wr.forEachInRange([f,g],D=>{s=s.add(D.pr)})}),be.resolve(this.Dr(s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,l=s.length+1;let f=s;he.isDocumentKey(f)||(f=f.child(""));const g=new ki(new he(f),0);let D=new Wn(At);return this.wr.forEachWhile(M=>{const H=M.key.path;return!!s.isPrefixOf(H)&&(H.length===l&&(D=D.add(M.pr)),!0)},g),be.resolve(this.Dr(D))}Dr(e){const r=[];return e.forEach(s=>{const l=this.Sr(s);null!==l&&r.push(l)}),r}removeMutationBatch(e,r){Rt(0===this.Cr(r.batchId,"removed")),this.mutationQueue.shift();let s=this.wr;return be.forEach(r.mutations,l=>{const f=new ki(l.key,r.batchId);return s=s.delete(f),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.wr=s})}Mn(e){}containsKey(e,r){const s=new ki(r,0),l=this.wr.firstAfterOrEqual(s);return be.resolve(r.isEqual(l&&l.key))}performConsistencyCheck(e){return be.resolve()}Cr(e,r){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const r=this.br(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class _m{constructor(e){this.vr=e,this.docs=new Xn(he.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const s=r.key,l=this.docs.get(s),f=l?l.size:0,g=this.vr(r);return this.docs=this.docs.insert(s,{document:r.mutableCopy(),size:g}),this.size+=g-f,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const s=this.docs.get(r);return be.resolve(s?s.document.mutableCopy():vr.newInvalidDocument(r))}getEntries(e,r){let s=Tn();return r.forEach(l=>{const f=this.docs.get(l);s=s.insert(l,f?f.document.mutableCopy():vr.newInvalidDocument(l))}),be.resolve(s)}getDocumentsMatchingQuery(e,r,s,l){let f=Tn();const g=r.path,D=new he(g.child("")),M=this.docs.getIteratorFrom(D);for(;M.hasNext();){const{key:H,value:{document:Q}}=M.getNext();if(!g.isPrefixOf(H.path))break;H.path.length>g.length+1||se(R(Q),s)<=0||(l.has(Q.key)||vt(r,Q))&&(f=f.insert(Q.key,Q.mutableCopy()))}return be.resolve(f)}getAllFromCollectionGroup(e,r,s,l){St()}Fr(e,r){return be.forEach(this.docs,s=>r(s))}newChangeBuffer(e){return new h_(this)}getSize(e){return be.resolve(this.size)}}class h_ extends gm{constructor(e){super(),this.ar=e}applyChanges(e){const r=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?r.push(this.ar.addEntry(e,l)):this.ar.removeEntry(s)}),be.waitFor(r)}getFromCache(e,r){return this.ar.getEntry(e,r)}getAllFromCache(e,r){return this.ar.getEntries(e,r)}}class ym{constructor(e){this.persistence=e,this.Mr=new Pn(r=>Qs(r),xo),this.lastRemoteSnapshotVersion=Ht.min(),this.highestTargetId=0,this.Or=0,this.Nr=new lc,this.targetCount=0,this.Lr=Xo.Nn()}forEachTarget(e,r){return this.Mr.forEach((s,l)=>r(l)),be.resolve()}getLastRemoteSnapshotVersion(e){return be.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return be.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),be.resolve(this.highestTargetId)}setTargetsMetadata(e,r,s){return s&&(this.lastRemoteSnapshotVersion=s),r>this.Or&&(this.Or=r),be.resolve()}qn(e){this.Mr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.Lr=new Xo(r),this.highestTargetId=r),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,r){return this.qn(r),this.targetCount+=1,be.resolve()}updateTargetData(e,r){return this.qn(r),be.resolve()}removeTargetData(e,r){return this.Mr.delete(r.target),this.Nr.Vr(r.targetId),this.targetCount-=1,be.resolve()}removeTargets(e,r,s){let l=0;const f=[];return this.Mr.forEach((g,D)=>{D.sequenceNumber<=r&&null===s.get(D.targetId)&&(this.Mr.delete(g),f.push(this.removeMatchingKeysForTargetId(e,D.targetId)),l++)}),be.waitFor(f).next(()=>l)}getTargetCount(e){return be.resolve(this.targetCount)}getTargetData(e,r){const s=this.Mr.get(r)||null;return be.resolve(s)}addMatchingKeys(e,r,s){return this.Nr.dr(r,s),be.resolve()}removeMatchingKeys(e,r,s){this.Nr.Rr(r,s);const l=this.persistence.referenceDelegate,f=[];return l&&r.forEach(g=>{f.push(l.markPotentiallyOrphaned(e,g))}),be.waitFor(f)}removeMatchingKeysForTargetId(e,r){return this.Nr.Vr(r),be.resolve()}getMatchingKeysForTargetId(e,r){const s=this.Nr.gr(r);return be.resolve(s)}containsKey(e,r){return be.resolve(this.Nr.containsKey(r))}}class rh{constructor(e,r){this.Br={},this.overlays={},this.kr=new Ve(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new ym(this),this.indexManager=new mm,this.remoteDocumentCache=new _m(s=>this.referenceDelegate.Kr(s)),this.serializer=new Bu(r),this.$r=new vo(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new ac,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let s=this.Br[e.toKey()];return s||(s=new ru(r,this.referenceDelegate),this.Br[e.toKey()]=s),s}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,r,s){st("MemoryPersistence","Starting transaction:",e);const l=new Js(this.kr.next());return this.referenceDelegate.Ur(),s(l).next(f=>this.referenceDelegate.Wr(l).next(()=>f)).toPromise().then(f=>(l.raiseOnCommittedEvent(),f))}Gr(e,r){return be.or(Object.values(this.Br).map(s=>()=>s.containsKey(e,r)))}}class Js extends Bt{constructor(e){super(),this.currentSequenceNumber=e}}class cc{constructor(e){this.persistence=e,this.zr=new lc,this.jr=null}static Hr(e){return new cc(e)}get Jr(){if(this.jr)return this.jr;throw St()}addReference(e,r,s){return this.zr.addReference(s,r),this.Jr.delete(s.toString()),be.resolve()}removeReference(e,r,s){return this.zr.removeReference(s,r),this.Jr.add(s.toString()),be.resolve()}markPotentiallyOrphaned(e,r){return this.Jr.add(r.toString()),be.resolve()}removeTarget(e,r){this.zr.Vr(r.targetId).forEach(l=>this.Jr.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,r.targetId).next(l=>{l.forEach(f=>this.Jr.add(f.toString()))}).next(()=>s.removeTargetData(e,r))}Ur(){this.jr=new Set}Wr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return be.forEach(this.Jr,s=>{const l=he.fromPath(s);return this.Yr(e,l).next(f=>{f||r.removeEntry(l,Ht.min())})}).next(()=>(this.jr=null,r.apply(e)))}updateLimboDocument(e,r){return this.Yr(e,r).next(s=>{s?this.Jr.delete(r.toString()):this.Jr.add(r.toString())})}Kr(e){return 0}Yr(e,r){return be.or([()=>be.resolve(this.zr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Gr(e,r)])}}class f_{constructor(e){this.serializer=e}O(e,r,s,l){const f=new en("createOrUpgrade",r);var M;s<1&&l>=1&&(e.createObjectStore("owner"),(M=e).createObjectStore("mutationQueues",{keyPath:"userId"}),M.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",qr,{unique:!0}),M.createObjectStore("documentMutations"),ih(e),function(M){M.createObjectStore("remoteDocuments")}(e));let g=be.resolve();return s<3&&l>=3&&(0!==s&&(function(M){M.deleteObjectStore("targetDocuments"),M.deleteObjectStore("targets"),M.deleteObjectStore("targetGlobal")}(e),ih(e)),g=g.next(()=>function(M){const H=M.store("targetGlobal"),Q={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ht.min().toTimestamp(),targetCount:0};return H.put("targetGlobalKey",Q)}(f))),s<4&&l>=4&&(0!==s&&(g=g.next(()=>function(M,H){return H.store("mutations").U().next(Q=>{M.deleteObjectStore("mutations"),M.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",qr,{unique:!0});const ce=H.store("mutations"),xe=Q.map(at=>ce.put(at));return be.waitFor(xe)})}(e,f))),g=g.next(()=>{!function(M){M.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&l>=5&&(g=g.next(()=>this.Xr(f))),s<6&&l>=6&&(g=g.next(()=>(function(M){M.createObjectStore("remoteDocumentGlobal")}(e),this.ei(f)))),s<7&&l>=7&&(g=g.next(()=>this.ti(f))),s<8&&l>=8&&(g=g.next(()=>this.ni(e,f))),s<9&&l>=9&&(g=g.next(()=>{!function(M){M.objectStoreNames.contains("remoteDocumentChanges")&&M.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&l>=10&&(g=g.next(()=>this.ri(f))),s<11&&l>=11&&(g=g.next(()=>{(function(M){M.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(M){M.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&l>=12&&(g=g.next(()=>{!function(M){const H=M.createObjectStore("documentOverlays",{keyPath:Fa});H.createIndex("collectionPathOverlayIndex",wo,{unique:!1}),H.createIndex("collectionGroupOverlayIndex",Lo,{unique:!1})}(e)})),s<13&&l>=13&&(g=g.next(()=>function(M){const H=M.createObjectStore("remoteDocumentsV14",{keyPath:Li});H.createIndex("documentKeyIndex",Ki),H.createIndex("collectionGroupIndex",Is)}(e)).next(()=>this.ii(e,f)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&l>=14&&(g=g.next(()=>this.si(e,f))),s<15&&l>=15&&(g=g.next(()=>function(M){M.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),M.createObjectStore("indexState",{keyPath:no}).createIndex("sequenceNumberIndex",Na,{unique:!1}),M.createObjectStore("indexEntries",{keyPath:To}).createIndex("documentKeyIndex",ka,{unique:!1})}(e))),s<16&&l>=16&&(g=g.next(()=>{r.objectStore("indexState").clear()}).next(()=>{r.objectStore("indexEntries").clear()})),g}ei(e){let r=0;return e.store("remoteDocuments").J((s,l)=>{r+=oc(l)}).next(()=>{const s={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Xr(e){const r=e.store("mutationQueues"),s=e.store("mutations");return r.U().next(l=>be.forEach(l,f=>{const g=IDBKeyRange.bound([f.userId,-1],[f.userId,f.lastAcknowledgedBatchId]);return s.U("userMutationsIndex",g).next(D=>be.forEach(D,M=>{Rt(M.userId===f.userId);const H=po(this.serializer,M);return sc(e,f.userId,H).next(()=>{})}))}))}ti(e){const r=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(l=>{const f=[];return s.J((g,D)=>{const M=new ln(g),H=[0,on(M)];f.push(r.get(H).next(Q=>Q?be.resolve():r.put({targetId:0,path:on(M),sequenceNumber:l.highestListenSequenceNumber})))}).next(()=>be.waitFor(f))})}ni(e,r){e.createObjectStore("collectionParents",{keyPath:Vs});const s=r.store("collectionParents"),l=new nc,f=g=>{if(l.add(g)){const D=g.lastSegment(),M=g.popLast();return s.put({collectionId:D,parent:on(M)})}};return r.store("remoteDocuments").J({H:!0},(g,D)=>{const M=new ln(g);return f(M.popLast())}).next(()=>r.store("documentMutations").J({H:!0},([g,D,M],H)=>{const Q=jn(D);return f(Q.popLast())}))}ri(e){const r=e.store("targets");return r.J((s,l)=>{const f=cl(l),g=Kc(this.serializer,f);return r.put(g)})}ii(e,r){const s=r.store("remoteDocuments"),l=[];return s.J((f,g)=>{const D=r.store("remoteDocumentsV14"),M=(ce=g,ce.document?new he(ln.fromString(ce.document.name).popFirst(5)):ce.noDocument?he.fromSegments(ce.noDocument.path):ce.unknownDocument?he.fromSegments(ce.unknownDocument.path):St()).path.toArray(),H={prefixPath:M.slice(0,M.length-2),collectionGroup:M[M.length-2],documentId:M[M.length-1],readTime:g.readTime||[0,0],unknownDocument:g.unknownDocument,noDocument:g.noDocument,document:g.document,hasCommittedMutations:!!g.hasCommittedMutations};var ce;l.push(D.put(H))}).next(()=>be.waitFor(l))}si(e,r){const s=r.store("mutations"),l=Rf(this.serializer),f=new rh(cc.Hr,this.serializer.ct);return s.U().next(g=>{const D=new Map;return g.forEach(M=>{var H;let Q=null!==(H=D.get(M.userId))&&void 0!==H?H:$n();po(this.serializer,M).keys().forEach(ce=>Q=Q.add(ce)),D.set(M.userId,Q)}),be.forEach(D,(M,H)=>{const Q=new ut(H),ce=va.lt(this.serializer,Q),xe=f.getIndexManager(Q),at=us.lt(Q,this.serializer,xe,f.referenceDelegate);return new Pf(l,at,ce,xe).recalculateAndSaveOverlaysForDocumentKeys(new bs(r,Ve.oe),M).next()})})}}function ih(a){a.createObjectStore("targetDocuments",{keyPath:$s}).createIndex("documentTargetsIndex",Ai,{unique:!0}),a.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",qi,{unique:!0}),a.createObjectStore("targetGlobal")}const iu="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class su{constructor(e,r,s,l,f,g,D,M,H,Q,ce=16){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=s,this.oi=f,this.window=g,this.document=D,this._i=H,this.ai=Q,this.ui=ce,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=xe=>Promise.resolve(),!su.D())throw new It(tt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new c_(this,l),this.Ti=r+"main",this.serializer=new Bu(M),this.Ei=new Zn(this.Ti,this.ui,new f_(this.serializer)),this.Qr=new th(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Rf(this.serializer),this.$r=new hm,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===Q&&Zt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new It(tt.FAILED_PRECONDITION,iu);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new Ve(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){var r=this;return this.Ii=function(){var s=(0,Ie.Z)(function*(l){if(r.started)return e(l)});return function(l){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L(function(){var r=(0,Ie.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return r.apply(this,arguments)}}())}setNetworkEnabled(e){var r=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((0,Ie.Z)(function*(){r.started&&(yield r.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>uc(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(r=>{r||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(r=>this.isPrimary&&!r?this.yi(e).next(()=>!1):!!r&&this.wi(e).next(()=>!0))).catch(e=>{if(mt(e))return st("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return st("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return ou(e).get("owner").next(r=>be.resolve(this.Si(r)))}bi(e){return uc(e).delete(this.clientId)}Di(){var e=this;return(0,Ie.Z)(function*(){if(e.isPrimary&&!e.Ci(e.Pi,18e5)){e.Pi=Date.now();const r=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const l=ii(s,"clientMetadata");return l.U().next(f=>{const g=e.vi(f,18e5),D=f.filter(M=>-1===g.indexOf(M));return be.forEach(D,M=>l.delete(M.clientId)).next(()=>D)})}).catch(()=>[]);if(e.di)for(const s of r)e.di.removeItem(e.Fi(s.clientId))}})()}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?be.resolve(!0):ou(e).get("owner").next(r=>{if(null!==r&&this.Ci(r.leaseTimestampMs,5e3)&&!this.Mi(r.ownerId)){if(this.Si(r)&&this.networkEnabled)return!0;if(!this.Si(r)){if(!r.allowTabSynchronization)throw new It(tt.FAILED_PRECONDITION,iu);return!1}}return!(!this.networkEnabled||!this.inForeground)||uc(e).U().next(s=>void 0===this.vi(s,5e3).find(l=>!(this.clientId===l.clientId||!(!this.networkEnabled&&l.networkEnabled||!this.inForeground&&l.inForeground&&this.networkEnabled===l.networkEnabled))))}).next(r=>(this.isPrimary!==r&&st("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var e=this;return(0,Ie.Z)(function*(){e.qr=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Oi(),e.Ni(),yield e.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],r=>{const s=new bs(r,Ve.oe);return e.yi(s).next(()=>e.bi(s))}),e.Ei.close(),e.Li()})()}vi(e,r){return e.filter(s=>this.Ci(s.updateTimeMs,r)&&!this.Mi(s.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>uc(e).U().next(r=>this.vi(r,18e5).map(s=>s.clientId)))}get started(){return this.qr}getMutationQueue(e,r){return us.lt(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Jd(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return va.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,r,s){st("IndexedDbPersistence","Starting transaction:",e);const l="readonly"===r?"readonly":"readwrite",f=16===(M=this.ui)?Do:15===M?ua:14===M?Gs:13===M?zs:12===M?Vo:11===M?Vi:void St();var M;let g;return this.Ei.runTransaction(e,l,f,D=>(g=new bs(D,this.kr?this.kr.next():Ve.oe),"readwrite-primary"===r?this.gi(g).next(M=>!!M||this.pi(g)).next(M=>{if(!M)throw Zt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new It(tt.FAILED_PRECONDITION,Ze);return s(g)}).next(M=>this.wi(g).next(()=>M)):this.ki(g).next(()=>s(g)))).then(D=>(g.raiseOnCommittedEvent(),D))}ki(e){return ou(e).get("owner").next(r=>{if(null!==r&&this.Ci(r.leaseTimestampMs,5e3)&&!this.Mi(r.ownerId)&&!this.Si(r)&&!(this.ai||this.allowTabSynchronization&&r.allowTabSynchronization))throw new It(tt.FAILED_PRECONDITION,iu)})}wi(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ou(e).put("owner",r)}static D(){return Zn.D()}yi(e){const r=ou(e);return r.get("owner").next(s=>this.Si(s)?(st("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):be.resolve())}Ci(e,r){const s=Date.now();return!(e<s-r||e>s&&(Zt(`Detected an update time that is in the future: ${e} > ${s}`),1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const r=/(?:Version|Mobile)\/1[456]/;(0,He.G6)()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var r;try{const s=null!==(null===(r=this.di)||void 0===r?void 0:r.getItem(this.Fi(e)));return st("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return Zt("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){Zt("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function ou(a){return ii(a,"owner")}function uc(a){return ii(a,"clientMetadata")}function sh(a,e){let r=a.projectId;return a.isDefaultDatabase||(r+="."+a.database),"firestore/"+e+"/"+r+"/"}class Wu{constructor(e,r,s,l){this.targetId=e,this.fromCache=r,this.qi=s,this.Qi=l}static Ki(e,r){let s=$n(),l=$n();for(const f of r.docChanges)switch(f.type){case 0:s=s.add(f.doc.key);break;case 1:l=l.add(f.doc.key)}return new Wu(e,r.fromCache,s,l)}}class oh{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class ml{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=(0,He.G6)()?8:je((0,He.z$)())>0?6:4}initialize(e,r){this.zi=e,this.indexManager=r,this.$i=!0}getDocumentsMatchingQuery(e,r,s,l){const f={result:null};return this.ji(e,r).next(g=>{f.result=g}).next(()=>{if(!f.result)return this.Hi(e,r,l,s).next(g=>{f.result=g})}).next(()=>{if(f.result)return;const g=new oh;return this.Ji(e,r,g).next(D=>{if(f.result=D,this.Ui)return this.Yi(e,r,g,D.size)})}).next(()=>f.result)}Yi(e,r,s,l){return s.documentReadCount<this.Wi?(sr()<=me.in.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",it(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),be.resolve()):(sr()<=me.in.DEBUG&&st("QueryEngine","Query:",it(r),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.Gi*l?(sr()<=me.in.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",it(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,E(r))):be.resolve())}ji(e,r){if(Hi(r))return be.resolve(null);let s=E(r);return this.indexManager.getIndexType(e,s).next(l=>0===l?null:(null!==r.limit&&1===l&&(r=re(r,null,"F"),s=E(r)),this.indexManager.getDocumentsMatchingTarget(e,s).next(f=>{const g=$n(...f);return this.zi.getDocuments(e,g).next(D=>this.indexManager.getMinOffset(e,s).next(M=>{const H=this.Zi(r,D);return this.Xi(r,H,g,M.readTime)?this.ji(e,re(r,null,"F")):this.es(e,H,r,M)}))})))}Hi(e,r,s,l){return Hi(r)||l.isEqual(Ht.min())?be.resolve(null):this.zi.getDocuments(e,s).next(f=>{const g=this.Zi(r,f);return this.Xi(r,g,s,l)?be.resolve(null):(sr()<=me.in.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),it(r)),this.es(e,g,r,V(l,-1)).next(D=>D))})}Zi(e,r){let s=new Wn(nn(e));return r.forEach((l,f)=>{vt(e,f)&&(s=s.add(f))}),s}Xi(e,r,s,l){if(null===e.limit)return!1;if(s.size!==r.size)return!0;const f="F"===e.limitType?r.last():r.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(l)>0)}Ji(e,r,s){return sr()<=me.in.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",it(r)),this.zi.getDocumentsMatchingQuery(e,r,F.min(),s)}es(e,r,s,l){return this.zi.getDocumentsMatchingQuery(e,s,l).next(f=>(r.forEach(g=>{f=f.insert(g.key,g)}),f))}}class vm{constructor(e,r,s,l){this.persistence=e,this.ts=r,this.serializer=l,this.ns=new Xn(At),this.rs=new Pn(f=>Qs(f),xo),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(s)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Pf(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.ns))}}function Ku(a,e,r,s){return new vm(a,e,r,s)}function qu(a,e){return gl.apply(this,arguments)}function gl(){return(gl=(0,Ie.Z)(function*(a,e){const r=Pt(a);return yield r.persistence.runTransaction("Handle user change","readonly",s=>{let l;return r.mutationQueue.getAllMutationBatches(s).next(f=>(l=f,r._s(e),r.mutationQueue.getAllMutationBatches(s))).next(f=>{const g=[],D=[];let M=$n();for(const H of l){g.push(H.batchId);for(const Q of H.mutations)M=M.add(Q.key)}for(const H of f){D.push(H.batchId);for(const Q of H.mutations)M=M.add(Q.key)}return r.localDocuments.getDocuments(s,M).next(H=>({us:H,removedBatchIds:g,addedBatchIds:D}))})})})).apply(this,arguments)}function Qu(a){const e=Pt(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Qr.getLastRemoteSnapshotVersion(r))}function au(a,e,r){let s=$n(),l=$n();return r.forEach(f=>s=s.add(f)),e.getEntries(a,s).next(f=>{let g=Tn();return r.forEach((D,M)=>{const H=f.get(D);M.isFoundDocument()!==H.isFoundDocument()&&(l=l.add(D)),M.isNoDocument()&&M.version.isEqual(Ht.min())?(e.removeEntry(D,M.readTime),g=g.insert(D,M)):!H.isValidDocument()||M.version.compareTo(H.version)>0||0===M.version.compareTo(H.version)&&H.hasPendingWrites?(e.addEntry(M),g=g.insert(D,M)):st("LocalStore","Ignoring outdated watch update for ",D,". Current version:",H.version," Watch version:",M.version)}),{cs:g,ls:l}})}function Of(a,e){const r=Pt(a);return r.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function dc(a,e){const r=Pt(a);return r.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return r.Qr.getTargetData(s,e).next(f=>f?(l=f,be.resolve(l)):r.Qr.allocateTargetId(s).next(g=>(l=new qo(e,g,"TargetPurposeListen",s.currentSequenceNumber),r.Qr.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=r.ns.get(s.targetId);return(null===l||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(r.ns=r.ns.insert(s.targetId,s),r.rs.set(e,s.targetId)),s})}function hc(a,e,r){return za.apply(this,arguments)}function za(){return(za=(0,Ie.Z)(function*(a,e,r){const s=Pt(a),l=s.ns.get(e),f=r?"readwrite":"readwrite-primary";try{r||(yield s.persistence.runTransaction("Release target",f,g=>s.persistence.referenceDelegate.removeTarget(g,l)))}catch(g){if(!mt(g))throw g;st("LocalStore",`Failed to update sequence numbers for target ${e}: ${g}`)}s.ns=s.ns.remove(e),s.rs.delete(l.target)})).apply(this,arguments)}function Ta(a,e,r){const s=Pt(a);let l=Ht.min(),f=$n();return s.persistence.runTransaction("Execute query","readwrite",g=>function(M,H,Q){const ce=Pt(M),xe=ce.rs.get(Q);return void 0!==xe?be.resolve(ce.ns.get(xe)):ce.Qr.getTargetData(H,Q)}(s,g,E(e)).next(D=>{if(D)return l=D.lastLimboFreeSnapshotVersion,s.Qr.getMatchingKeysForTargetId(g,D.targetId).next(M=>{f=M})}).next(()=>s.ts.getDocumentsMatchingQuery(g,e,r?l:Ht.min(),r?f:$n())).next(D=>(ah(s,Xt(e),D),{documents:D,hs:f})))}function Nf(a,e){const r=Pt(a),s=Pt(r.Qr),l=r.ns.get(e);return l?Promise.resolve(l.target):r.persistence.runTransaction("Get target data","readonly",f=>s.ot(f,e).next(g=>g?g.target:null))}function p_(a,e){const r=Pt(a),s=r.ss.get(e)||Ht.min();return r.persistence.runTransaction("Get new document changes","readonly",l=>r.os.getAllFromCollectionGroup(l,e,V(s,-1),Number.MAX_SAFE_INTEGER)).then(l=>(ah(r,e,l),l))}function ah(a,e,r){let s=a.ss.get(e)||Ht.min();r.forEach((l,f)=>{f.readTime.compareTo(s)>0&&(s=f.readTime)}),a.ss.set(e,s)}function kf(){return(kf=(0,Ie.Z)(function*(a,e,r,s){const l=Pt(a);let f=$n(),g=Tn();for(const H of r){const Q=e.Ps(H.metadata.name);H.document&&(f=f.add(Q));const ce=e.Is(H);ce.setReadTime(e.Ts(H.metadata.readTime)),g=g.insert(Q,ce)}const D=l.os.newChangeBuffer({trackRemovals:!0}),M=yield dc(l,(Q=s,E(as(ln.fromString(`__bundle__/docs/${Q}`)))));var Q;return l.persistence.runTransaction("Apply bundle documents","readwrite",H=>au(H,D,g).next(Q=>(D.apply(H),Q)).next(Q=>l.Qr.removeMatchingKeysForTargetId(H,M.targetId).next(()=>l.Qr.addMatchingKeys(H,f,M.targetId)).next(()=>l.localDocuments.getLocalViewOfDocuments(H,Q.cs,Q.ls)).next(()=>Q.cs)))})).apply(this,arguments)}function Em(a,e){return lu.apply(this,arguments)}function lu(){return(lu=(0,Ie.Z)(function*(a,e,r=$n()){const s=yield dc(a,E($u(e.bundledQuery))),l=Pt(a);return l.persistence.runTransaction("Save named query","readwrite",f=>{const g=Di(e.readTime);if(s.snapshotVersion.compareTo(g)>=0)return l.$r.saveNamedQuery(f,e);const D=s.withResumeToken(nr.EMPTY_BYTE_STRING,g);return l.ns=l.ns.insert(D.targetId,D),l.Qr.updateTargetData(f,D).next(()=>l.Qr.removeMatchingKeysForTargetId(f,s.targetId)).next(()=>l.Qr.addMatchingKeys(f,r,s.targetId)).next(()=>l.$r.saveNamedQuery(f,e))})})).apply(this,arguments)}function Ff(a,e){return`firestore_clients_${a}_${e}`}function yl(a,e,r){let s=`firestore_mutations_${a}_${r}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function Ju(a,e){return`firestore_targets_${a}_${e}`}class Xu{constructor(e,r,s,l){this.user=e,this.batchId=r,this.state=s,this.error=l}static Es(e,r,s){const l=JSON.parse(s);let f,g="object"==typeof l&&-1!==["pending","acknowledged","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return g&&l.error&&(g="string"==typeof l.error.message&&"string"==typeof l.error.code,g&&(f=new It(l.error.code,l.error.message))),g?new Xu(e,r,l.state,f):(Zt("SharedClientState",`Failed to parse mutation state for ID '${r}': ${s}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ga{constructor(e,r,s){this.targetId=e,this.state=r,this.error=s}static Es(e,r){const s=JSON.parse(r);let l,f="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return f&&s.error&&(f="string"==typeof s.error.message&&"string"==typeof s.error.code,f&&(l=new It(s.error.code,s.error.message))),f?new Ga(e,s.state,l):(Zt("SharedClientState",`Failed to parse target state for ID '${e}': ${r}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class lh{constructor(e,r){this.clientId=e,this.activeTargetIds=r}static Es(e,r){const s=JSON.parse(r);let l="object"==typeof s&&s.activeTargetIds instanceof Array,f=ls();for(let g=0;l&&g<s.activeTargetIds.length;++g)l=_n(s.activeTargetIds[g]),f=f.add(s.activeTargetIds[g]);return l?new lh(e,f):(Zt("SharedClientState",`Failed to parse client data for instance '${e}': ${r}`),null)}}class ed{constructor(e,r){this.clientId=e,this.onlineState=r}static Es(e){const r=JSON.parse(e);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new ed(r.clientId,r.onlineState):(Zt("SharedClientState",`Failed to parse online state: ${e}`),null)}}class td{constructor(){this.activeTargetIds=ls()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ch{constructor(e,r,s,l,f){this.window=e,this.oi=r,this.persistenceKey=s,this.Vs=l,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new Xn(At),this.started=!1,this.ys=[];const g=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=f,this.ws=Ff(this.persistenceKey,this.Vs),this.Ss=`firestore_sequence_number_${this.persistenceKey}`,this.ps=this.ps.insert(this.Vs,new td),this.bs=new RegExp(`^firestore_clients_${g}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${g}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${g}_(\\d+)$`),this.vs=`firestore_online_state_${this.persistenceKey}`,this.Fs=function(M){return`firestore_bundle_loaded_v2_${M}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ie.Z)(function*(){const r=yield e.syncEngine.Bi();for(const l of r){if(l===e.Vs)continue;const f=e.getItem(Ff(e.persistenceKey,l));if(f){const g=lh.Es(l,f);g&&(e.ps=e.ps.insert(g.clientId,g))}}e.Ms();const s=e.storage.getItem(e.vs);if(s){const l=e.xs(s);l&&e.Os(l)}for(const l of e.ys)e.gs(l);e.ys=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let r=!1;return this.ps.forEach((s,l)=>{l.activeTargetIds.has(e)&&(r=!0)}),r}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,r,s){this.Ls(e,r,s),this.Bs(e)}addLocalQueryTarget(e){let r="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(Ju(this.persistenceKey,e));if(s){const l=Ga.Es(e,s);l&&(r=l.state)}}return this.ks.As(e),this.Ms(),r}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Ju(this.persistenceKey,e))}updateQueryState(e,r,s){this.qs(e,r,s)}handleUserChange(e,r,s){r.forEach(l=>{this.Bs(l)}),this.currentUser=e,s.forEach(l=>{this.addPendingMutation(l)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const r=this.storage.getItem(e);return st("SharedClientState","READ",e,r),r}setItem(e,r){st("SharedClientState","SET",e,r),this.storage.setItem(e,r)}removeItem(e){st("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){var r=this;const s=e;if(s.storageArea===this.storage){if(st("SharedClientState","EVENT",s.key,s.newValue),s.key===this.ws)return void Zt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((0,Ie.Z)(function*(){if(r.started){if(null!==s.key)if(r.bs.test(s.key)){if(null==s.newValue){const l=r.$s(s.key);return r.Us(l,null)}{const l=r.Ws(s.key,s.newValue);if(l)return r.Us(l.clientId,l)}}else if(r.Ds.test(s.key)){if(null!==s.newValue){const l=r.Gs(s.key,s.newValue);if(l)return r.zs(l)}}else if(r.Cs.test(s.key)){if(null!==s.newValue){const l=r.js(s.key,s.newValue);if(l)return r.Hs(l)}}else if(s.key===r.vs){if(null!==s.newValue){const l=r.xs(s.newValue);if(l)return r.Os(l)}}else if(s.key===r.Ss){const l=function(g){let D=Ve.oe;if(null!=g)try{const M=JSON.parse(g);Rt("number"==typeof M),D=M}catch(M){Zt("SharedClientState","Failed to read sequence number from WebStorage",M)}return D}(s.newValue);l!==Ve.oe&&r.sequenceNumberHandler(l)}else if(s.key===r.Fs){const l=r.Js(s.newValue);yield Promise.all(l.map(f=>r.syncEngine.Ys(f)))}}else r.ys.push(s)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,r,s){const l=new Xu(this.currentUser,e,r,s),f=yl(this.persistenceKey,this.currentUser,e);this.setItem(f,l.ds())}Bs(e){const r=yl(this.persistenceKey,this.currentUser,e);this.removeItem(r)}Qs(e){this.storage.setItem(this.vs,JSON.stringify({clientId:this.Vs,onlineState:e}))}qs(e,r,s){const l=Ju(this.persistenceKey,e),f=new Ga(e,r,s);this.setItem(l,f.ds())}Ks(e){const r=JSON.stringify(Array.from(e));this.setItem(this.Fs,r)}$s(e){const r=this.bs.exec(e);return r?r[1]:null}Ws(e,r){const s=this.$s(e);return lh.Es(s,r)}Gs(e,r){const s=this.Ds.exec(e),l=Number(s[1]);return Xu.Es(new ut(void 0!==s[2]?s[2]:null),l,r)}js(e,r){const s=this.Cs.exec(e),l=Number(s[1]);return Ga.Es(l,r)}xs(e){return ed.Es(e)}Js(e){return JSON.parse(e)}zs(e){var r=this;return(0,Ie.Z)(function*(){if(e.user.uid===r.currentUser.uid)return r.syncEngine.Zs(e.batchId,e.state,e.error);st("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,r){const s=r?this.ps.insert(e,r):this.ps.remove(e),l=this.Ns(this.ps),f=this.Ns(s),g=[],D=[];return f.forEach(M=>{l.has(M)||g.push(M)}),l.forEach(M=>{f.has(M)||D.push(M)}),this.syncEngine.eo(g,D).then(()=>{this.ps=s})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let r=ls();return e.forEach((s,l)=>{r=r.unionWith(l.activeTargetIds)}),r}}class Lf{constructor(){this.no=new td,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,s){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,r,s){this.ro[e]=r}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new td,Promise.resolve()}handleUserChange(e,r,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class uh{io(e){}shutdown(){}}class Im{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){st("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){st("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let dh=null;function fc(){return null===dh?dh=268435456+Math.round(2147483648*Math.random()):dh++,"0x"+dh.toString(16)}const Vf={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class m_{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}const Os="WebChannelConnection";class Uf extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const s=r.ssl?"https":"http",l=encodeURIComponent(this.databaseId.projectId),f=encodeURIComponent(this.databaseId.database);this.wo=s+"://"+r.host,this.So=`projects/${l}/databases/${f}`,this.bo="(default)"===this.databaseId.database?`project_id=${l}`:`project_id=${l}&database_id=${f}`}get Do(){return!1}Co(r,s,l,f,g){const D=fc(),M=this.vo(r,s.toUriEncodedString());st("RestConnection",`Sending RPC '${r}' ${D}:`,M,l);const H={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(H,f,g),this.Mo(r,M,H,l).then(Q=>(st("RestConnection",`Received RPC '${r}' ${D}: `,Q),Q),Q=>{throw Yn("RestConnection",`RPC '${r}' ${D} failed with error: `,Q,"url: ",M,"request:",l),Q})}xo(r,s,l,f,g,D){return this.Co(r,s,l,f,g)}Fo(r,s,l){r["X-Goog-Api-Client"]="gl-js/ fire/"+jt,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((f,g)=>r[g]=f),l&&l.headers.forEach((f,g)=>r[g]=f)}vo(r,s){return`${this.wo}/v1/${s}:${Vf[r]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,r,s,l){const f=fc();return new Promise((g,D)=>{const M=new An;M.setWithCredentials(!0),M.listenOnce(hn.COMPLETE,()=>{try{switch(M.getLastErrorCode()){case En.NO_ERROR:const Q=M.getResponseJson();st(Os,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(Q)),g(Q);break;case En.TIMEOUT:st(Os,`RPC '${e}' ${f} timed out`),D(new It(tt.DEADLINE_EXCEEDED,"Request time out"));break;case En.HTTP_ERROR:const ce=M.getStatus();if(st(Os,`RPC '${e}' ${f} failed with status:`,ce,"response text:",M.getResponseText()),ce>0){let xe=M.getResponseJson();Array.isArray(xe)&&(xe=xe[0]);const at=xe?.error;if(at&&at.status&&at.message){const Nt=function(Lt){const Dn=Lt.toLowerCase().replace(/_/g,"-");return Object.values(tt).indexOf(Dn)>=0?Dn:tt.UNKNOWN}(at.status);D(new It(Nt,at.message))}else D(new It(tt.UNKNOWN,"Server responded with status "+M.getStatus()))}else D(new It(tt.UNAVAILABLE,"Connection failed."));break;default:St()}}finally{st(Os,`RPC '${e}' ${f} completed.`)}});const H=JSON.stringify(l);st(Os,`RPC '${e}' ${f} sending request:`,l),M.send(r,"POST",H,s,15)})}Oo(e,r,s){const l=fc(),f=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],g=rt(),D=ct(),M={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},H=this.longPollingOptions.timeoutSeconds;void 0!==H&&(M.longPollingTimeout=Math.round(1e3*H)),this.useFetchStreams&&(M.xmlHttpFactory=new br({})),this.Fo(M.initMessageHeaders,r,s),M.encodeInitMessageHeaders=!0;const Q=f.join("");st(Os,`Creating RPC '${e}' stream ${l}: ${Q}`,M);const ce=g.createWebChannel(Q,M);let xe=!1,at=!1;const Nt=new m_({lo:Lt=>{at?st(Os,`Not sending because RPC '${e}' stream ${l} is closed:`,Lt):(xe||(st(Os,`Opening RPC '${e}' stream ${l} transport.`),ce.open(),xe=!0),st(Os,`RPC '${e}' stream ${l} sending:`,Lt),ce.send(Lt))},ho:()=>ce.close()}),qt=(Lt,Dn,Un)=>{Lt.listen(Dn,vn=>{try{Un(vn)}catch(ar){setTimeout(()=>{throw ar},0)}})};return qt(ce,Vn.EventType.OPEN,()=>{at||(st(Os,`RPC '${e}' stream ${l} transport opened.`),Nt.mo())}),qt(ce,Vn.EventType.CLOSE,()=>{at||(at=!0,st(Os,`RPC '${e}' stream ${l} transport closed`),Nt.po())}),qt(ce,Vn.EventType.ERROR,Lt=>{at||(at=!0,Yn(Os,`RPC '${e}' stream ${l} transport errored:`,Lt),Nt.po(new It(tt.UNAVAILABLE,"The operation could not be completed")))}),qt(ce,Vn.EventType.MESSAGE,Lt=>{var Dn;if(!at){const Un=Lt.data[0];Rt(!!Un);const ar=Un.error||(null===(Dn=Un[0])||void 0===Dn?void 0:Dn.error);if(ar){st(Os,`RPC '${e}' stream ${l} received error:`,ar);const Rr=ar.status;let Ir=function(Fe){const Ke=xi[Fe];if(void 0!==Ke)return er(Ke)}(Rr),$e=ar.message;void 0===Ir&&(Ir=tt.INTERNAL,$e="Unknown error status: "+Rr+" with message "+ar.message),at=!0,Nt.po(new It(Ir,$e)),ce.close()}else st(Os,`RPC '${e}' stream ${l} received:`,Un),Nt.yo(Un)}}),qt(D,Be.STAT_EVENT,Lt=>{Lt.stat===Ne.PROXY?st(Os,`RPC '${e}' stream ${l} detected buffering proxy`):Lt.stat===Ne.NOPROXY&&st(Os,`RPC '${e}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{Nt.fo()},0),Nt}}function hh(){return typeof window<"u"?window:null}function nd(){return typeof document<"u"?document:null}function Wa(a){return new uo(a,!0)}class wa{constructor(e,r,s=1e3,l=1.5,f=6e4){this.oi=e,this.timerId=r,this.No=s,this.Lo=l,this.Bo=f,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const r=Math.floor(this.ko+this.Uo()),s=Math.max(0,Date.now()-this.Qo),l=Math.max(0,r-s);l>0&&st("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.ko} ms, delay with jitter: ${r} ms, last attempt: ${s} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,l,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){null!==this.qo&&(this.qo.skipDelay(),this.qo=null)}cancel(){null!==this.qo&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}class fh{constructor(e,r,s,l,f,g,D,M){this.oi=e,this.Go=s,this.zo=l,this.connection=f,this.authCredentialsProvider=g,this.appCheckCredentialsProvider=D,this.listener=M,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new wa(e,r)}Zo(){return 1===this.state||5===this.state||this.Xo()}Xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.e_()}stop(){var e=this;return(0,Ie.Z)(function*(){e.Zo()&&(yield e.close(0))})()}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&null===this.Ho&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}r_(){var e=this;return(0,Ie.Z)(function*(){if(e.Xo())return e.close(0)})()}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(e,r){var s=this;return(0,Ie.Z)(function*(){s.s_(),s.o_(),s.Yo.cancel(),s.jo++,4!==e?s.Yo.reset():r&&r.code===tt.RESOURCE_EXHAUSTED?(Zt(r.toString()),Zt("Using maximum backoff delay to prevent overloading the backend."),s.Yo.Ko()):r&&r.code===tt.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.__(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.Ao(r)})()}__(){}auth(){this.state=1;const e=this.a_(this.jo),r=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.jo===r&&this.u_(s,l)},s=>{e(()=>{const l=new It(tt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.c_(l)})})}u_(e,r){const s=this.a_(this.jo);this.stream=this.l_(e,r),this.stream.Po(()=>{s(()=>this.listener.Po())}),this.stream.To(()=>{s(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(l=>{s(()=>this.c_(l))}),this.stream.onMessage(l=>{s(()=>this.onMessage(l))})}e_(){var e=this;this.state=5,this.Yo.$o((0,Ie.Z)(function*(){e.state=0,e.start()}))}c_(e){return st("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return r=>{this.oi.enqueueAndForget(()=>this.jo===e?r():(st("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Bf extends fh{constructor(e,r,s,l,f,g){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,s,l,g),this.serializer=f}l_(e,r){return this.connection.Oo("Listen",e,r)}onMessage(e){this.Yo.reset();const r=function cn(a,e){let r;if("targetChange"in e){const s="NO_CHANGE"===(H=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===H?1:"REMOVE"===H?2:"CURRENT"===H?3:"RESET"===H?4:St(),l=e.targetChange.targetIds||[],f=function(H,Q){return H.useProto3Json?(Rt(void 0===Q||"string"==typeof Q),nr.fromBase64String(Q||"")):(Rt(void 0===Q||Q instanceof Buffer||Q instanceof Uint8Array),nr.fromUint8Array(Q||new Uint8Array))}(a,e.targetChange.resumeToken),g=e.targetChange.cause,D=g&&function(H){const Q=void 0===H.code?tt.UNKNOWN:er(H.code);return new It(Q,H.message||"")}(g);r=new Ua(s,l,f,D||null)}else if("documentChange"in e){const s=e.documentChange,l=C(a,s.document.name),f=Di(s.document.updateTime),g=s.document.createTime?Di(s.document.createTime):Ht.min(),D=new oi({mapValue:{fields:s.document.fields}}),M=vr.newFoundDocument(l,f,g,D);r=new Xl(s.targetIds||[],s.removedTargetIds||[],M.key,M)}else if("documentDelete"in e){const s=e.documentDelete,l=C(a,s.document),f=s.readTime?Di(s.readTime):Ht.min(),g=vr.newNoDocument(l,f);r=new Xl([],s.removedTargetIds||[],g.key,g)}else if("documentRemove"in e){const s=e.documentRemove,l=C(a,s.document);r=new Xl([],s.removedTargetIds||[],l,null)}else{if(!("filter"in e))return St();{const s=e.filter,{count:l=0,unchangedNames:f}=s,g=new Uc(l,f);r=new wf(s.targetId,g)}}var H;return r}(this.serializer,e),s=function(f){if(!("targetChange"in f))return Ht.min();const g=f.targetChange;return g.targetIds&&g.targetIds.length?Ht.min():g.readTime?Di(g.readTime):Ht.min()}(e);return this.listener.h_(r,s)}P_(e){const r={};r.database=j(this.serializer),r.addTarget=function(f,g){let D;const M=g.target;if(D=Ro(M)?{documents:cs(f,M)}:{query:Po(f,M)._t},D.targetId=g.targetId,g.resumeToken.approximateByteSize()>0){D.resumeToken=Wc(f,g.resumeToken);const H=Go(f,g.expectedCount);null!==H&&(D.expectedCount=H)}else if(g.snapshotVersion.compareTo(Ht.min())>0){D.readTime=Wo(f,g.snapshotVersion.toTimestamp());const H=Go(f,g.expectedCount);null!==H&&(D.expectedCount=H)}return D}(this.serializer,e);const s=function Ko(a,e){const r=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return St()}}(e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);s&&(r.labels=s),this.i_(r)}I_(e){const r={};r.database=j(this.serializer),r.removeTarget=e,this.i_(r)}}class jf extends fh{constructor(e,r,s,l,f,g){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,s,l,g),this.serializer=f,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,r){return this.connection.Oo("Write",e,r)}onMessage(e){if(Rt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const r=function xr(a,e){return a&&a.length>0?(Rt(void 0!==e),a.map(r=>function(l,f){let g=Di(l.updateTime?l.updateTime:f);return g.isEqual(Ht.min())&&(g=Di(f)),new Ji(g,l.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),s=Di(e.commitTime);return this.listener.A_(s,r)}return Rt(!e.writeResults||0===e.writeResults.length),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=j(this.serializer),this.i_(e)}d_(e){const r={streamToken:this.lastStreamToken,writes:e.map(s=>dr(this.serializer,s))};this.i_(r)}}class vl extends class{}{constructor(e,r,s,l){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=s,this.serializer=l,this.m_=!1}f_(){if(this.m_)throw new It(tt.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,r,s,l){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,g])=>this.connection.Co(e,ho(r,s),l,f,g)).catch(f=>{throw"FirebaseError"===f.name?(f.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new It(tt.UNKNOWN,f.toString())})}xo(e,r,s,l,f){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([g,D])=>this.connection.xo(e,ho(r,s),l,g,D,f)).catch(g=>{throw"FirebaseError"===g.name?(g.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),g):new It(tt.UNKNOWN,g.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class Hf{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,"Online"===e&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Zt(r),this.y_=!1):st("OnlineStateTracker",r)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class $f{constructor(e,r,s,l,f){var g=this;this.localStore=e,this.datastore=r,this.asyncQueue=s,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=f,this.O_.io(D=>{s.enqueueAndForget((0,Ie.Z)(function*(){var M;ta(g)&&(st("RemoteStore","Restarting streams for network reachability change."),yield(M=(0,Ie.Z)(function*(Q){const ce=Pt(Q);ce.M_.add(4),yield Xs(ce),ce.N_.set("Unknown"),ce.M_.delete(4),yield Ka(ce)}),function H(Q){return M.apply(this,arguments)})(g))}))}),this.N_=new Hf(s,l)}}function Ka(a){return pc.apply(this,arguments)}function pc(){return(pc=(0,Ie.Z)(function*(a){if(ta(a))for(const e of a.x_)yield e(!0)})).apply(this,arguments)}function Xs(a){return ph.apply(this,arguments)}function ph(){return(ph=(0,Ie.Z)(function*(a){for(const e of a.x_)yield e(!1)})).apply(this,arguments)}function cu(a,e){const r=Pt(a);r.F_.has(e.targetId)||(r.F_.set(e.targetId,e),sd(r)?mh(r):Tl(r).Xo()&&rd(r,e))}function mc(a,e){const r=Pt(a),s=Tl(r);r.F_.delete(e),s.Xo()&&id(r,e),0===r.F_.size&&(s.Xo()?s.n_():ta(r)&&r.N_.set("Unknown"))}function rd(a,e){if(a.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ht.min())>0){const r=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Tl(a).P_(e)}function id(a,e){a.L_.xe(e),Tl(a).I_(e)}function mh(a){a.L_=new pr({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>a.F_.get(e)||null,tt:()=>a.datastore.serializer.databaseId}),Tl(a).start(),a.N_.w_()}function sd(a){return ta(a)&&!Tl(a).Zo()&&a.F_.size>0}function ta(a){return 0===Pt(a).M_.size}function uu(a){a.L_=void 0}function zf(a){return gh.apply(this,arguments)}function gh(){return(gh=(0,Ie.Z)(function*(a){a.N_.set("Online")})).apply(this,arguments)}function Ss(a){return du.apply(this,arguments)}function du(){return(du=(0,Ie.Z)(function*(a){a.F_.forEach((e,r)=>{rd(a,e)})})).apply(this,arguments)}function Hs(a,e){return Da.apply(this,arguments)}function Da(){return(Da=(0,Ie.Z)(function*(a,e){uu(a),sd(a)?(a.N_.D_(e),mh(a)):a.N_.set("Unknown")})).apply(this,arguments)}function vs(a,e,r){return El.apply(this,arguments)}function El(){return El=(0,Ie.Z)(function*(a,e,r){if(a.N_.set("Online"),e instanceof Ua&&2===e.state&&e.cause)try{yield(s=(0,Ie.Z)(function*(f,g){const D=g.cause;for(const M of g.targetIds)f.F_.has(M)&&(yield f.remoteSyncer.rejectListen(M,D),f.F_.delete(M),f.L_.removeTarget(M))}),function l(f,g){return s.apply(this,arguments)})(a,e)}catch(s){st("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield Il(a,s)}else if(e instanceof Xl?a.L_.Ke(e):e instanceof wf?a.L_.He(e):a.L_.We(e),!r.isEqual(Ht.min()))try{const s=yield Qu(a.localStore);r.compareTo(s)>=0&&(yield function(f,g){const D=f.L_.rt(g);return D.targetChanges.forEach((M,H)=>{if(M.resumeToken.approximateByteSize()>0){const Q=f.F_.get(H);Q&&f.F_.set(H,Q.withResumeToken(M.resumeToken,g))}}),D.targetMismatches.forEach((M,H)=>{const Q=f.F_.get(M);if(!Q)return;f.F_.set(M,Q.withResumeToken(nr.EMPTY_BYTE_STRING,Q.snapshotVersion)),id(f,M);const ce=new qo(Q.target,M,H,Q.sequenceNumber);rd(f,ce)}),f.remoteSyncer.applyRemoteEvent(D)}(a,r))}catch(s){st("RemoteStore","Failed to raise snapshot:",s),yield Il(a,s)}var s}),El.apply(this,arguments)}function Il(a,e,r){return gc.apply(this,arguments)}function gc(){return(gc=(0,Ie.Z)(function*(a,e,r){if(!mt(e))throw e;a.M_.add(1),yield Xs(a),a.N_.set("Offline"),r||(r=()=>Qu(a.localStore)),a.asyncQueue.enqueueRetryable((0,Ie.Z)(function*(){st("RemoteStore","Retrying IndexedDB access"),yield r(),a.M_.delete(1),yield Ka(a)}))})).apply(this,arguments)}function Gf(a,e){return e().catch(r=>Il(a,r,e))}function qa(a){return _h.apply(this,arguments)}function _h(){return(_h=(0,Ie.Z)(function*(a){const e=Pt(a),r=na(e);let s=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;Aa(e);)try{const l=yield Of(e.localStore,s);if(null===l){0===e.v_.length&&r.n_();break}s=l.batchId,Wf(e,l)}catch(l){yield Il(e,l)}yh(e)&&Kf(e)})).apply(this,arguments)}function Aa(a){return ta(a)&&a.v_.length<10}function Wf(a,e){a.v_.push(e);const r=na(a);r.Xo()&&r.E_&&r.d_(e.mutations)}function yh(a){return ta(a)&&!na(a).Zo()&&a.v_.length>0}function Kf(a){na(a).start()}function bm(a){return _c.apply(this,arguments)}function _c(){return(_c=(0,Ie.Z)(function*(a){na(a).V_()})).apply(this,arguments)}function xs(a){return hu.apply(this,arguments)}function hu(){return(hu=(0,Ie.Z)(function*(a){const e=na(a);for(const r of a.v_)e.d_(r.mutations)})).apply(this,arguments)}function bl(a,e,r){return vh.apply(this,arguments)}function vh(){return(vh=(0,Ie.Z)(function*(a,e,r){const s=a.v_.shift(),l=lo.from(s,e,r);yield Gf(a,()=>a.remoteSyncer.applySuccessfulWrite(l)),yield qa(a)})).apply(this,arguments)}function Ca(a,e){return Za.apply(this,arguments)}function Za(){return Za=(0,Ie.Z)(function*(a,e){var r;e&&na(a).E_&&(yield(r=(0,Ie.Z)(function*(l,f){if(Bc(D=f.code)&&D!==tt.ABORTED){const g=l.v_.shift();na(l).t_(),yield Gf(l,()=>l.remoteSyncer.rejectFailedWrite(g.batchId,f)),yield qa(l)}var D}),function s(l,f){return r.apply(this,arguments)})(a,e)),yh(a)&&Kf(a)}),Za.apply(this,arguments)}function od(a,e){return fu.apply(this,arguments)}function fu(){return(fu=(0,Ie.Z)(function*(a,e){const r=Pt(a);r.asyncQueue.verifyOperationInProgress(),st("RemoteStore","RemoteStore received new credentials");const s=ta(r);r.M_.add(3),yield Xs(r),s&&r.N_.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(e),r.M_.delete(3),yield Ka(r)})).apply(this,arguments)}function Qa(a,e){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,Ie.Z)(function*(a,e){const r=Pt(a);e?(r.M_.delete(2),yield Ka(r)):e||(r.M_.add(2),yield Xs(r),r.N_.set("Unknown"))})).apply(this,arguments)}function Tl(a){return a.B_||(a.B_=function(r,s,l){const f=Pt(r);return f.f_(),new Bf(s,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,l)}(a.datastore,a.asyncQueue,{Po:zf.bind(null,a),To:Ss.bind(null,a),Ao:Hs.bind(null,a),h_:vs.bind(null,a)}),a.x_.push(function(){var e=(0,Ie.Z)(function*(r){r?(a.B_.t_(),sd(a)?mh(a):a.N_.set("Unknown")):(yield a.B_.stop(),uu(a))});return function(r){return e.apply(this,arguments)}}())),a.B_}function na(a){return a.k_||(a.k_=function(r,s,l){const f=Pt(r);return f.f_(),new jf(s,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,l)}(a.datastore,a.asyncQueue,{Po:()=>Promise.resolve(),To:bm.bind(null,a),Ao:Ca.bind(null,a),R_:xs.bind(null,a),A_:bl.bind(null,a)}),a.x_.push(function(){var e=(0,Ie.Z)(function*(r){r?(a.k_.t_(),yield qa(a)):(yield a.k_.stop(),a.v_.length>0&&(st("RemoteStore",`Stopping write stream with ${a.v_.length} pending writes`),a.v_=[]))});return function(r){return e.apply(this,arguments)}}())),a.k_}class yc{constructor(e,r,s,l,f){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=s,this.op=l,this.removalCallback=f,this.deferred=new or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(g=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,s,l,f){const g=Date.now()+s,D=new yc(e,r,g,l,f);return D.start(s),D}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new It(tt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vc(a,e){if(Zt("AsyncQueue",`${e}: ${a}`),mt(a))return new It(tt.UNAVAILABLE,`${e}: ${a}`);throw a}class _{constructor(e){this.comparator=e?(r,s)=>e(r,s)||he.comparator(r.key,s.key):(r,s)=>he.comparator(r.key,s.key),this.keyedMap=jr(),this.sortedSet=new Xn(this.comparator)}static emptySet(e){return new _(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,s)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof _)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;r.hasNext();){const l=r.getNext().key,f=s.getNext().key;if(!l.isEqual(f))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const s=new _;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=r,s}}class u{constructor(){this.q_=new Xn(he.comparator)}track(e){const r=e.doc.key,s=this.q_.get(r);s?0!==e.type&&3===s.type?this.q_=this.q_.insert(r,e):3===e.type&&1!==s.type?this.q_=this.q_.insert(r,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.q_=this.q_.insert(r,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.q_=this.q_.insert(r,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.q_=this.q_.remove(r):1===e.type&&2===s.type?this.q_=this.q_.insert(r,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.q_=this.q_.insert(r,{type:2,doc:e.doc}):St():this.q_=this.q_.insert(r,e)}Q_(){const e=[];return this.q_.inorderTraversal((r,s)=>{e.push(s)}),e}}class d{constructor(e,r,s,l,f,g,D,M,H){this.query=e,this.docs=r,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=f,this.fromCache=g,this.syncStateChanged=D,this.excludesMetadataChanges=M,this.hasCachedResults=H}static fromInitialDocuments(e,r,s,l,f){const g=[];return r.forEach(D=>{g.push({type:0,doc:D})}),new d(e,r,_.emptySet(r),g,s,l,!0,!1,f)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ce(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,s=e.docChanges;if(r.length!==s.length)return!1;for(let l=0;l<r.length;l++)if(r[l].type!==s[l].type||!r[l].doc.isEqual(s[l].doc))return!1;return!0}}class v{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class L{constructor(){this.queries=new Pn(e=>Me(e),Ce),this.onlineState="Unknown",this.z_=new Set}}function q(a,e){return Te.apply(this,arguments)}function Te(){return(Te=(0,Ie.Z)(function*(a,e){const r=Pt(a);let s=3;const l=e.query;let f=r.queries.get(l);f?!f.W_()&&e.G_()&&(s=2):(f=new v,s=e.G_()?0:1);try{switch(s){case 0:f.K_=yield r.onListen(l,!0);break;case 1:f.K_=yield r.onListen(l,!1);break;case 2:yield r.onFirstRemoteStoreListen(l)}}catch(g){const D=vc(g,`Initialization of query '${it(e.query)}' failed`);return void e.onError(D)}r.queries.set(l,f),f.U_.push(e),e.j_(r.onlineState),f.K_&&e.H_(f.K_)&&gn(r)})).apply(this,arguments)}function ze(a,e){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,Ie.Z)(function*(a,e){const r=Pt(a),s=e.query;let l=3;const f=r.queries.get(s);if(f){const g=f.U_.indexOf(e);g>=0&&(f.U_.splice(g,1),0===f.U_.length?l=e.G_()?0:1:!f.W_()&&e.G_()&&(l=2))}switch(l){case 0:return r.queries.delete(s),r.onUnlisten(s,!0);case 1:return r.queries.delete(s),r.onUnlisten(s,!1);case 2:return r.onLastRemoteStoreUnlisten(s);default:return}})).apply(this,arguments)}function rn(a,e){const r=Pt(a);let s=!1;for(const l of e){const g=r.queries.get(l.query);if(g){for(const D of g.U_)D.H_(l)&&(s=!0);g.K_=l}}s&&gn(r)}function yn(a,e,r){const s=Pt(a),l=s.queries.get(e);if(l)for(const f of l.U_)f.onError(r);s.queries.delete(e)}function gn(a){a.z_.forEach(e=>{e.next()})}var li,ds;(ds=li||(li={})).J_="default",ds.Cache="cache";class wl{constructor(e,r,s){this.query=e,this.Y_=r,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=s||{}}H_(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)3!==l.type&&s.push(l);e=new d(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),r=!0):this.ta(e,this.onlineState)&&(this.na(e),r=!0),this.X_=e,r}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let r=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),r=!0),r}ta(e,r){return!e.fromCache||!this.G_()||(!this.options.ra||!("Offline"!==r))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===r)}ea(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}na(e){e=d.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==li.Cache}}class Eh{constructor(e,r){this.ia=e,this.byteLength=r}sa(){return"metadata"in this.ia}}class ad{constructor(e){this.serializer=e}Ps(e){return C(this.serializer,e)}Is(e){return e.metadata.exists?gt(this.serializer,e.document,!1):vr.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return Di(e)}}class Tm{constructor(e,r,s){this.oa=e,this.localStore=r,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Ec(e)}_a(e){this.progress.bytesLoaded+=e.byteLength;let r=this.progress.documentsLoaded;if(e.ia.namedQuery)this.queries.push(e.ia.namedQuery);else if(e.ia.documentMetadata){this.documents.push({metadata:e.ia.documentMetadata}),e.ia.documentMetadata.exists||++r;const s=ln.fromString(e.ia.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.ia.document&&(this.documents[this.documents.length-1].document=e.ia.document,++r);return r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}aa(e){const r=new Map,s=new ad(this.serializer);for(const l of e)if(l.metadata.queries){const f=s.Ps(l.metadata.name);for(const g of l.metadata.queries){const D=(r.get(g)||$n()).add(f);r.set(g,D)}}return r}complete(){var e=this;return(0,Ie.Z)(function*(){const r=yield function _l(a,e,r,s){return kf.apply(this,arguments)}(e.localStore,new ad(e.serializer),e.documents,e.oa.id),s=e.aa(e.documents);for(const l of e.queries)yield Em(e.localStore,l,s.get(l.name));return e.progress.taskState="Success",{progress:e.progress,ua:e.collectionGroups,ca:r}})()}}function Ec(a){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:a.totalDocuments,totalBytes:a.totalBytes}}class ld{constructor(e){this.key=e}}class cd{constructor(e){this.key=e}}class ud{constructor(e,r){this.query=e,this.la=r,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=$n(),this.mutatedKeys=$n(),this.Ia=nn(e),this.Ta=new _(this.Ia)}get Ea(){return this.la}da(e,r){const s=r?r.Aa:new u,l=r?r.Ta:this.Ta;let f=r?r.mutatedKeys:this.mutatedKeys,g=l,D=!1;const M="F"===this.query.limitType&&l.size===this.query.limit?l.last():null,H="L"===this.query.limitType&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((Q,ce)=>{const xe=l.get(Q),at=vt(this.query,ce)?ce:null,Nt=!!xe&&this.mutatedKeys.has(xe.key),qt=!!at&&(at.hasLocalMutations||this.mutatedKeys.has(at.key)&&at.hasCommittedMutations);let Lt=!1;xe&&at?xe.data.isEqual(at.data)?Nt!==qt&&(s.track({type:3,doc:at}),Lt=!0):this.Ra(xe,at)||(s.track({type:2,doc:at}),Lt=!0,(M&&this.Ia(at,M)>0||H&&this.Ia(at,H)<0)&&(D=!0)):!xe&&at?(s.track({type:0,doc:at}),Lt=!0):xe&&!at&&(s.track({type:1,doc:xe}),Lt=!0,(M||H)&&(D=!0)),Lt&&(at?(g=g.add(at),f=qt?f.add(Q):f.delete(Q)):(g=g.delete(Q),f=f.delete(Q)))}),null!==this.query.limit)for(;g.size>this.query.limit;){const Q="F"===this.query.limitType?g.last():g.first();g=g.delete(Q.key),f=f.delete(Q.key),s.track({type:1,doc:Q})}return{Ta:g,Aa:s,Xi:D,mutatedKeys:f}}Ra(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,s,l){const f=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const g=e.Aa.Q_();g.sort((Q,ce)=>function(at,Nt){const qt=Lt=>{switch(Lt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return St()}};return qt(at)-qt(Nt)}(Q.type,ce.type)||this.Ia(Q.doc,ce.doc)),this.Va(s),l=null!=l&&l;const D=r&&!l?this.ma():[],M=0===this.Pa.size&&this.current&&!l?1:0,H=M!==this.ha;return this.ha=M,0!==g.length||H?{snapshot:new d(this.query,e.Ta,f,g,e.mutatedKeys,0===M,H,!1,!!s&&s.resumeToken.approximateByteSize()>0),fa:D}:{fa:D}}j_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new u,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(r=>this.la=this.la.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.la=this.la.delete(r)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=$n(),this.Ta.forEach(s=>{this.ga(s.key)&&(this.Pa=this.Pa.add(s.key))});const r=[];return e.forEach(s=>{this.Pa.has(s)||r.push(new cd(s))}),this.Pa.forEach(s=>{e.has(s)||r.push(new ld(s))}),r}pa(e){this.la=e.hs,this.Pa=$n();const r=this.da(e.documents);return this.applyChanges(r,!0)}ya(){return d.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class dd{constructor(e,r,s){this.query=e,this.targetId=r,this.view=s}}class hd{constructor(e){this.key=e,this.wa=!1}}class qf{constructor(e,r,s,l,f,g){this.localStore=e,this.remoteStore=r,this.eventManager=s,this.sharedClientState=l,this.currentUser=f,this.maxConcurrentLimboResolutions=g,this.Sa={},this.ba=new Pn(D=>Me(D),Ce),this.Da=new Map,this.Ca=new Set,this.va=new Xn(he.comparator),this.Fa=new Map,this.Ma=new lc,this.xa={},this.Oa=new Map,this.Na=Xo.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}function Ic(a,e){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,Ie.Z)(function*(a,e,r=!0){const s=Ch(a);let l;const f=s.ba.get(e);return f?(s.sharedClientState.addLocalQueryTarget(f.targetId),l=f.view.ya()):l=yield bh(s,e,r,!0),l})).apply(this,arguments)}function g_(a,e){return Ih.apply(this,arguments)}function Ih(){return(Ih=(0,Ie.Z)(function*(a,e){const r=Ch(a);yield bh(r,e,!0,!1)})).apply(this,arguments)}function bh(a,e,r,s){return Zf.apply(this,arguments)}function Zf(){return(Zf=(0,Ie.Z)(function*(a,e,r,s){const l=yield dc(a.localStore,E(e)),f=l.targetId,g=r?a.sharedClientState.addLocalQueryTarget(f):"not-current";let D;return s&&(D=yield Th(a,e,f,"current"===g,l.resumeToken)),a.isPrimaryClient&&r&&cu(a.remoteStore,l),D})).apply(this,arguments)}function Th(a,e,r,s,l){return pu.apply(this,arguments)}function pu(){return pu=(0,Ie.Z)(function*(a,e,r,s,l){a.Ba=(ce,xe,at)=>{return(Nt=(0,Ie.Z)(function*(Lt,Dn,Un,vn){let ar=Dn.view.da(Un);ar.Xi&&(ar=yield Ta(Lt.localStore,Dn.query,!1).then(({documents:we})=>Dn.view.da(we,ar)));const Rr=vn&&vn.targetChanges.get(Dn.targetId),Ir=vn&&null!=vn.targetMismatches.get(Dn.targetId),$e=Dn.view.applyChanges(ar,Lt.isPrimaryClient,Rr,Ir);return Xf(Lt,Dn.targetId,$e.fa),$e.snapshot}),function qt(Lt,Dn,Un,vn){return Nt.apply(this,arguments)})(a,ce,xe,at);var Nt};const f=yield Ta(a.localStore,e,!0),g=new ud(e,f.hs),D=g.da(f.documents),M=Jl.createSynthesizedTargetChangeForCurrentChange(r,s&&"Offline"!==a.onlineState,l),H=g.applyChanges(D,a.isPrimaryClient,M);Xf(a,r,H.fa);const Q=new dd(e,r,g);return a.ba.set(e,Q),a.Da.has(r)?a.Da.get(r).push(e):a.Da.set(r,[e]),H.snapshot}),pu.apply(this,arguments)}function cv(a,e,r){return Qf.apply(this,arguments)}function Qf(){return(Qf=(0,Ie.Z)(function*(a,e,r){const s=Pt(a),l=s.ba.get(e),f=s.Da.get(l.targetId);if(f.length>1)return s.Da.set(l.targetId,f.filter(g=>!Ce(g,e))),void s.ba.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||(yield hc(s.localStore,l.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(l.targetId),r&&mc(s.remoteStore,l.targetId),mu(s,l.targetId)}).catch(Yt))):(mu(s,l.targetId),yield hc(s.localStore,l.targetId,!0))})).apply(this,arguments)}function uv(a,e){return wm.apply(this,arguments)}function wm(){return(wm=(0,Ie.Z)(function*(a,e){const r=Pt(a),s=r.ba.get(e),l=r.Da.get(s.targetId);r.isPrimaryClient&&1===l.length&&(r.sharedClientState.removeLocalQueryTarget(s.targetId),mc(r.remoteStore,s.targetId))})).apply(this,arguments)}function Yf(){return(Yf=(0,Ie.Z)(function*(a,e,r){const s=rp(a);try{const l=yield function(g,D){const M=Pt(g),H=Gn.now(),Q=D.reduce((at,Nt)=>at.add(Nt.key),$n());let ce,xe;return M.persistence.runTransaction("Locally write mutations","readwrite",at=>{let Nt=Tn(),qt=$n();return M.os.getEntries(at,Q).next(Lt=>{Nt=Lt,Nt.forEach((Dn,Un)=>{Un.isValidDocument()||(qt=qt.add(Dn))})}).next(()=>M.localDocuments.getOverlayedDocuments(at,Nt)).next(Lt=>{ce=Lt;const Dn=[];for(const Un of D){const vn=il(Un,ce.get(Un.key).overlayedDocument);null!=vn&&Dn.push(new ao(Un.key,vn,ti(vn.value.mapValue),qn.exists(!0)))}return M.mutationQueue.addMutationBatch(at,H,Dn,D)}).next(Lt=>{xe=Lt;const Dn=Lt.applyToLocalDocumentSet(ce,qt);return M.documentOverlayCache.saveOverlays(at,Lt.batchId,Dn)})}).then(()=>({batchId:xe.batchId,changes:di(ce)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),function(g,D,M){let H=g.xa[g.currentUser.toKey()];H||(H=new Xn(At)),H=H.insert(D,M),g.xa[g.currentUser.toKey()]=H}(s,l.batchId,r),yield Al(s,l.changes),yield qa(s.remoteStore)}catch(l){const f=vc(l,"Failed to persist write");r.reject(f)}})).apply(this,arguments)}function Dm(a,e){return fd.apply(this,arguments)}function fd(){return(fd=(0,Ie.Z)(function*(a,e){const r=Pt(a);try{const s=yield function Yu(a,e){const r=Pt(a),s=e.snapshotVersion;let l=r.ns;return r.persistence.runTransaction("Apply remote event","readwrite-primary",f=>{const g=r.os.newChangeBuffer({trackRemovals:!0});l=r.ns;const D=[];e.targetChanges.forEach((Q,ce)=>{const xe=l.get(ce);if(!xe)return;D.push(r.Qr.removeMatchingKeys(f,Q.removedDocuments,ce).next(()=>r.Qr.addMatchingKeys(f,Q.addedDocuments,ce)));let at=xe.withSequenceNumber(f.currentSequenceNumber);var qt,Lt,Dn;null!==e.targetMismatches.get(ce)?at=at.withResumeToken(nr.EMPTY_BYTE_STRING,Ht.min()).withLastLimboFreeSnapshotVersion(Ht.min()):Q.resumeToken.approximateByteSize()>0&&(at=at.withResumeToken(Q.resumeToken,s)),l=l.insert(ce,at),Lt=at,Dn=Q,(0===(qt=xe).resumeToken.approximateByteSize()||Lt.snapshotVersion.toMicroseconds()-qt.snapshotVersion.toMicroseconds()>=3e8||Dn.addedDocuments.size+Dn.modifiedDocuments.size+Dn.removedDocuments.size>0)&&D.push(r.Qr.updateTargetData(f,at))});let M=Tn(),H=$n();if(e.documentUpdates.forEach(Q=>{e.resolvedLimboDocuments.has(Q)&&D.push(r.persistence.referenceDelegate.updateLimboDocument(f,Q))}),D.push(au(f,g,e.documentUpdates).next(Q=>{M=Q.cs,H=Q.ls})),!s.isEqual(Ht.min())){const Q=r.Qr.getLastRemoteSnapshotVersion(f).next(ce=>r.Qr.setTargetsMetadata(f,f.currentSequenceNumber,s));D.push(Q)}return be.waitFor(D).next(()=>g.apply(f)).next(()=>r.localDocuments.getLocalViewOfDocuments(f,M,H)).next(()=>M)}).then(f=>(r.ns=l,f))}(r.localStore,e);e.targetChanges.forEach((l,f)=>{const g=r.Fa.get(f);g&&(Rt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?g.wa=!0:l.modifiedDocuments.size>0?Rt(g.wa):l.removedDocuments.size>0&&(Rt(g.wa),g.wa=!1))}),yield Al(r,s,e)}catch(s){yield Yt(s)}})).apply(this,arguments)}function Jf(a,e,r){const s=Pt(a);if(s.isPrimaryClient&&0===r||!s.isPrimaryClient&&1===r){const l=[];s.ba.forEach((f,g)=>{const D=g.view.j_(e);D.snapshot&&l.push(D.snapshot)}),function(g,D){const M=Pt(g);M.onlineState=D;let H=!1;M.queries.forEach((Q,ce)=>{for(const xe of ce.U_)xe.j_(D)&&(H=!0)}),H&&gn(M)}(s.eventManager,e),l.length&&s.Sa.h_(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function pd(a,e,r){return Am.apply(this,arguments)}function Am(){return(Am=(0,Ie.Z)(function*(a,e,r){const s=Pt(a);s.sharedClientState.updateQueryState(e,"rejected",r);const l=s.Fa.get(e),f=l&&l.key;if(f){let g=new Xn(he.comparator);g=g.insert(f,vr.newNoDocument(f,Ht.min()));const D=$n().add(f),M=new Yl(Ht.min(),new Map,new Xn(At),g,D);yield Dm(s,M),s.va=s.va.remove(f),s.Fa.delete(e),Sm(s)}else yield hc(s.localStore,e,!1).then(()=>mu(s,e,r)).catch(Yt)})).apply(this,arguments)}function hv(a,e){return __.apply(this,arguments)}function __(){return(__=(0,Ie.Z)(function*(a,e){const r=Pt(a),s=e.batch.batchId;try{const l=yield function Zu(a,e){const r=Pt(a);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=e.batch.keys(),f=r.os.newChangeBuffer({trackRemovals:!0});return function(D,M,H,Q){const ce=H.batch,xe=ce.keys();let at=be.resolve();return xe.forEach(Nt=>{at=at.next(()=>Q.getEntry(M,Nt)).next(qt=>{const Lt=H.docVersions.get(Nt);Rt(null!==Lt),qt.version.compareTo(Lt)<0&&(ce.applyToRemoteDocument(qt,H),qt.isValidDocument()&&(qt.setReadTime(H.commitVersion),Q.addEntry(qt)))})}),at.next(()=>D.mutationQueue.removeMutationBatch(M,ce))}(r,s,e,f).next(()=>f.apply(s)).next(()=>r.mutationQueue.performConsistencyCheck(s)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(D){let M=$n();for(let H=0;H<D.mutationResults.length;++H)D.mutationResults[H].transformResults.length>0&&(M=M.add(D.batch.mutations[H].key));return M}(e))).next(()=>r.localDocuments.getDocuments(s,l))})}(r.localStore,e);Dh(r,s,null),md(r,s),r.sharedClientState.updateMutationState(s,"acknowledged"),yield Al(r,l)}catch(l){yield Yt(l)}})).apply(this,arguments)}function fv(a,e,r){return wh.apply(this,arguments)}function wh(){return(wh=(0,Ie.Z)(function*(a,e,r){const s=Pt(a);try{const l=yield function(g,D){const M=Pt(g);return M.persistence.runTransaction("Reject batch","readwrite-primary",H=>{let Q;return M.mutationQueue.lookupMutationBatch(H,D).next(ce=>(Rt(null!==ce),Q=ce.keys(),M.mutationQueue.removeMutationBatch(H,ce))).next(()=>M.mutationQueue.performConsistencyCheck(H)).next(()=>M.documentOverlayCache.removeOverlaysForBatchId(H,Q,D)).next(()=>M.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(H,Q)).next(()=>M.localDocuments.getDocuments(H,Q))})}(s.localStore,e);Dh(s,e,r),md(s,e),s.sharedClientState.updateMutationState(e,"rejected",r),yield Al(s,l)}catch(l){yield Yt(l)}})).apply(this,arguments)}function bc(){return(bc=(0,Ie.Z)(function*(a,e){const r=Pt(a);ta(r.remoteStore)||st("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(g){const D=Pt(g);return D.persistence.runTransaction("Get highest unacknowledged batch id","readonly",M=>D.mutationQueue.getHighestUnacknowledgedBatchId(M))}(r.localStore);if(-1===s)return void e.resolve();const l=r.Oa.get(s)||[];l.push(e),r.Oa.set(s,l)}catch(s){const l=vc(s,"Initialization of waitForPendingWrites() operation failed");e.reject(l)}})).apply(this,arguments)}function md(a,e){(a.Oa.get(e)||[]).forEach(r=>{r.resolve()}),a.Oa.delete(e)}function Dh(a,e,r){const s=Pt(a);let l=s.xa[s.currentUser.toKey()];if(l){const f=l.get(e);f&&(r?f.reject(r):f.resolve(),l=l.remove(e)),s.xa[s.currentUser.toKey()]=l}}function mu(a,e,r=null){a.sharedClientState.removeLocalQueryTarget(e);for(const s of a.Da.get(e))a.ba.delete(s),r&&a.Sa.ka(s,r);a.Da.delete(e),a.isPrimaryClient&&a.Ma.Vr(e).forEach(s=>{a.Ma.containsKey(s)||Cm(a,s)})}function Cm(a,e){a.Ca.delete(e.path.canonicalString());const r=a.va.get(e);null!==r&&(mc(a.remoteStore,r),a.va=a.va.remove(e),a.Fa.delete(r),Sm(a))}function Xf(a,e,r){for(const s of r)s instanceof ld?(a.Ma.addReference(s.key,e),gu(a,s)):s instanceof cd?(st("SyncEngine","Document no longer in limbo: "+s.key),a.Ma.removeReference(s.key,e),a.Ma.containsKey(s.key)||Cm(a,s.key)):St()}function gu(a,e){const r=e.key,s=r.path.canonicalString();a.va.get(r)||a.Ca.has(s)||(st("SyncEngine","New document in limbo: "+r),a.Ca.add(s),Sm(a))}function Sm(a){for(;a.Ca.size>0&&a.va.size<a.maxConcurrentLimboResolutions;){const e=a.Ca.values().next().value;a.Ca.delete(e);const r=new he(ln.fromString(e)),s=a.Na.next();a.Fa.set(s,new hd(r)),a.va=a.va.insert(r,s),cu(a.remoteStore,new qo(E(as(r.path)),s,"TargetPurposeLimboResolution",Ve.oe))}}function Al(a,e,r){return xm.apply(this,arguments)}function xm(){return xm=(0,Ie.Z)(function*(a,e,r){const s=Pt(a),l=[],f=[],g=[];var D;s.ba.isEmpty()||(s.ba.forEach((D,M)=>{g.push(s.Ba(M,e,r).then(H=>{if((H||r)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(M.targetId,H&&!H.fromCache?"current":"not-current"),H){l.push(H);const Q=Wu.Ki(M.targetId,H);f.push(Q)}}))}),yield Promise.all(g),s.Sa.h_(l),yield(D=(0,Ie.Z)(function*(H,Q){const ce=Pt(H);try{yield ce.persistence.runTransaction("notifyLocalViewChanges","readwrite",xe=>be.forEach(Q,at=>be.forEach(at.qi,Nt=>ce.persistence.referenceDelegate.addReference(xe,at.targetId,Nt)).next(()=>be.forEach(at.Qi,Nt=>ce.persistence.referenceDelegate.removeReference(xe,at.targetId,Nt)))))}catch(xe){if(!mt(xe))throw xe;st("LocalStore","Failed to update sequence numbers: "+xe)}for(const xe of Q){const at=xe.targetId;if(!xe.fromCache){const Nt=ce.ns.get(at),Lt=Nt.withLastLimboFreeSnapshotVersion(Nt.snapshotVersion);ce.ns=ce.ns.insert(at,Lt)}}}),function M(H,Q){return D.apply(this,arguments)})(s.localStore,f))}),xm.apply(this,arguments)}function mv(a,e){return Rm.apply(this,arguments)}function Rm(){return(Rm=(0,Ie.Z)(function*(a,e){const r=Pt(a);if(!r.currentUser.isEqual(e)){st("SyncEngine","User change. New user:",e.toKey());const s=yield qu(r.localStore,e);r.currentUser=e,(f=r).Oa.forEach(D=>{D.forEach(M=>{M.reject(new It(tt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),f.Oa.clear(),r.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield Al(r,s.us)}var f})).apply(this,arguments)}function Cl(a,e){const r=Pt(a),s=r.Fa.get(e);if(s&&s.wa)return $n().add(s.key);{let l=$n();const f=r.Da.get(e);if(!f)return l;for(const g of f){const D=r.ba.get(g);l=l.unionWith(D.view.Ea)}return l}}function gd(a,e){return Mm.apply(this,arguments)}function Mm(){return(Mm=(0,Ie.Z)(function*(a,e){const r=Pt(a),s=yield Ta(r.localStore,e.query,!0),l=e.view.pa(s);return r.isPrimaryClient&&Xf(r,e.targetId,l.fa),l})).apply(this,arguments)}function gv(a,e){return Pm.apply(this,arguments)}function Pm(){return(Pm=(0,Ie.Z)(function*(a,e){const r=Pt(a);return p_(r.localStore,e).then(s=>Al(r,s))})).apply(this,arguments)}function _v(a,e,r,s){return Om.apply(this,arguments)}function Om(){return(Om=(0,Ie.Z)(function*(a,e,r,s){const l=Pt(a),f=yield function(D,M){const H=Pt(D),Q=Pt(H.mutationQueue);return H.persistence.runTransaction("Lookup mutation documents","readonly",ce=>Q.vn(ce,M).next(xe=>xe?H.localDocuments.getDocuments(ce,xe):be.resolve(null)))}(l.localStore,e);var M;null!==f?("pending"===r?yield qa(l.remoteStore):"acknowledged"===r||"rejected"===r?(Dh(l,e,s||null),md(l,e),M=e,Pt(Pt(l.localStore).mutationQueue).Mn(M)):St(),yield Al(l,f)):st("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function ep(){return(ep=(0,Ie.Z)(function*(a,e){const r=Pt(a);if(Ch(r),rp(r),!0===e&&!0!==r.La){const s=r.sharedClientState.getAllActiveQueryTargets(),l=yield y_(r,s.toArray());r.La=!0,yield Qa(r.remoteStore,!0);for(const f of l)cu(r.remoteStore,f)}else if(!1===e&&!1!==r.La){const s=[];let l=Promise.resolve();r.Da.forEach((f,g)=>{r.sharedClientState.isLocalQueryTarget(g)?s.push(g):l=l.then(()=>(mu(r,g),hc(r.localStore,g,!0))),mc(r.remoteStore,g)}),yield l,yield y_(r,s),function(g){const D=Pt(g);D.Fa.forEach((M,H)=>{mc(D.remoteStore,H)}),D.Ma.mr(),D.Fa=new Map,D.va=new Xn(he.comparator)}(r),r.La=!1,yield Qa(r.remoteStore,!1)}})).apply(this,arguments)}function y_(a,e,r){return Nm.apply(this,arguments)}function Nm(){return(Nm=(0,Ie.Z)(function*(a,e,r){const s=Pt(a),l=[],f=[];for(const g of e){let D;const M=s.Da.get(g);if(M&&0!==M.length){D=yield dc(s.localStore,E(M[0]));for(const H of M){const Q=s.ba.get(H),ce=yield gd(s,Q);ce.snapshot&&f.push(ce.snapshot)}}else{const H=yield Nf(s.localStore,g);D=yield dc(s.localStore,H),yield Th(s,v_(H),g,!1,D.resumeToken)}l.push(D)}return s.Sa.h_(f),l})).apply(this,arguments)}function v_(a){return ui(a.path,a.collectionGroup,a.orderBy,a.filters,a.limit,"F",a.startAt,a.endAt)}function vv(a){return r=Pt(a).localStore,Pt(Pt(r).persistence).Bi();var r}function tp(a,e,r,s){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,Ie.Z)(function*(a,e,r,s){const l=Pt(a);if(l.La)return void st("SyncEngine","Ignoring unexpected query state notification.");const f=l.Da.get(e);if(f&&f.length>0)switch(r){case"current":case"not-current":{const g=yield p_(l.localStore,Xt(f[0])),D=Yl.createSynthesizedRemoteEventForCurrentChange(e,"current"===r,nr.EMPTY_BYTE_STRING);yield Al(l,g,D);break}case"rejected":yield hc(l.localStore,e,!0),mu(l,e,s);break;default:St()}})).apply(this,arguments)}function Ah(a,e,r){return np.apply(this,arguments)}function np(){return(np=(0,Ie.Z)(function*(a,e,r){const s=Ch(a);if(s.La){for(const l of e){if(s.Da.has(l)&&s.sharedClientState.isActiveQueryTarget(l)){st("SyncEngine","Adding an already active target "+l);continue}const f=yield Nf(s.localStore,l),g=yield dc(s.localStore,f);yield Th(s,v_(f),g.targetId,!1,g.resumeToken),cu(s.remoteStore,g)}for(const l of r)s.Da.has(l)&&(yield hc(s.localStore,l,!1).then(()=>{mc(s.remoteStore,l),mu(s,l)}).catch(Yt))}})).apply(this,arguments)}function Ch(a){const e=Pt(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=Dm.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Cl.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pd.bind(null,e),e.Sa.h_=rn.bind(null,e.eventManager),e.Sa.ka=yn.bind(null,e.eventManager),e}function rp(a){const e=Pt(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hv.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fv.bind(null,e),e}class ip{constructor(){this.synchronizeTabs=!1}initialize(e){var r=this;return(0,Ie.Z)(function*(){r.serializer=Wa(e.databaseInfo.databaseId),r.sharedClientState=r.createSharedClientState(e),r.persistence=r.createPersistence(e),yield r.persistence.start(),r.localStore=r.createLocalStore(e),r.gcScheduler=r.createGarbageCollectionScheduler(e,r.localStore),r.indexBackfillerScheduler=r.createIndexBackfillerScheduler(e,r.localStore)})()}createGarbageCollectionScheduler(e,r){return null}createIndexBackfillerScheduler(e,r){return null}createLocalStore(e){return Ku(this.persistence,new ml,e.initialUser,this.serializer)}createPersistence(e){return new rh(cc.Hr,this.serializer)}createSharedClientState(e){return new Lf}terminate(){var e=this;return(0,Ie.Z)(function*(){var r,s;null===(r=e.gcScheduler)||void 0===r||r.stop(),null===(s=e.indexBackfillerScheduler)||void 0===s||s.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Sh extends ip{constructor(e,r,s){super(),this.Qa=e,this.cacheSizeBytes=r,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var r=()=>super.initialize,s=this;return(0,Ie.Z)(function*(){yield r().call(s,e),yield s.Qa.initialize(s,e),yield rp(s.Qa.syncEngine),yield qa(s.Qa.remoteStore),yield s.persistence.fi(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return Ku(this.persistence,new ml,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,r){return new Ia(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,r)}createIndexBackfillerScheduler(e,r){const s=new ot(r,this.persistence);return new Qt(e.asyncQueue,s)}createPersistence(e){const r=sh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?ys.withCacheSize(this.cacheSizeBytes):ys.DEFAULT;return new su(this.synchronizeTabs,r,e.clientId,s,e.asyncQueue,hh(),nd(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Lf}}class sp extends Sh{constructor(e,r){super(e,r,!1),this.Qa=e,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(e){var r=()=>super.initialize,s=this;return(0,Ie.Z)(function*(){yield r().call(s,e);const l=s.Qa.syncEngine;s.sharedClientState instanceof ch&&(s.sharedClientState.syncEngine={Zs:_v.bind(null,l),Xs:tp.bind(null,l),eo:Ah.bind(null,l),Bi:vv.bind(null,l),Ys:gv.bind(null,l)},yield s.sharedClientState.start()),yield s.persistence.fi(function(){var f=(0,Ie.Z)(function*(g){yield function yv(a,e){return ep.apply(this,arguments)}(s.Qa.syncEngine,g),s.gcScheduler&&(g&&!s.gcScheduler.started?s.gcScheduler.start():g||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(g&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():g||s.indexBackfillerScheduler.stop())});return function(g){return f.apply(this,arguments)}}())})()}createSharedClientState(e){const r=hh();if(!ch.D(r))throw new It(tt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=sh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new ch(r,e.asyncQueue,s,e.clientId,e.initialUser)}}class xh{initialize(e,r){var s=this;return(0,Ie.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(r),s.remoteStore=s.createRemoteStore(r),s.eventManager=s.createEventManager(r),s.syncEngine=s.createSyncEngine(r,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=l=>Jf(s.syncEngine,l,1),s.remoteStore.remoteSyncer.handleCredentialChange=mv.bind(null,s.syncEngine),yield Qa(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new L}createDatastore(e){const r=Wa(e.databaseInfo.databaseId),s=new Uf(e.databaseInfo);return new vl(e.authCredentials,e.appCheckCredentials,s,r)}createRemoteStore(e){return s=this.localStore,l=this.datastore,f=e.asyncQueue,g=r=>Jf(this.syncEngine,r,0),D=Im.D()?new Im:new uh,new $f(s,l,f,g,D);var s,l,f,g,D}createSyncEngine(e,r){return function(l,f,g,D,M,H,Q){const ce=new qf(l,f,g,D,M,H);return Q&&(ce.La=!0),ce}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}terminate(){var e=this;return(0,Ie.Z)(function*(){var r,s;yield(s=(0,Ie.Z)(function*(f){const g=Pt(f);st("RemoteStore","RemoteStore shutting down."),g.M_.add(5),yield Xs(g),g.O_.shutdown(),g.N_.set("Unknown")}),function l(f){return s.apply(this,arguments)})(e.remoteStore),null===(r=e.datastore)||void 0===r||r.terminate()})()}}function Ev(a,e=10240){let r=0;return{read:()=>(0,Ie.Z)(function*(){if(r<a.byteLength){const s={value:a.slice(r,r+e),done:!1};return r+=e,s}return{done:!0}})(),cancel:()=>(0,Ie.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Rh{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Zt("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,r){this.muted||setTimeout(()=>{this.muted||e(r)},0)}}class Iv{constructor(e,r){this.Ua=e,this.serializer=r,this.metadata=new or,this.buffer=new Uint8Array,this.Wa=new TextDecoder("utf-8"),this.Ga().then(s=>{s&&s.sa()?this.metadata.resolve(s.ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(s?.ia)}`))},s=>this.metadata.reject(s))}close(){return this.Ua.cancel()}getMetadata(){var e=this;return(0,Ie.Z)(function*(){return e.metadata.promise})()}qa(){var e=this;return(0,Ie.Z)(function*(){return yield e.getMetadata(),e.Ga()})()}Ga(){var e=this;return(0,Ie.Z)(function*(){const r=yield e.za();if(null===r)return null;const s=e.Wa.decode(r),l=Number(s);isNaN(l)&&e.ja(`length string (${s}) is not valid number`);const f=yield e.Ha(l);return new Eh(JSON.parse(f),r.length+l)})()}Ja(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}za(){var e=this;return(0,Ie.Z)(function*(){for(;e.Ja()<0&&!(yield e.Ya()););if(0===e.buffer.length)return null;const r=e.Ja();r<0&&e.ja("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,r);return e.buffer=e.buffer.slice(r),s})()}Ha(e){var r=this;return(0,Ie.Z)(function*(){for(;r.buffer.length<e;)(yield r.Ya())&&r.ja("Reached the end of bundle when more is expected.");const s=r.Wa.decode(r.buffer.slice(0,e));return r.buffer=r.buffer.slice(e),s})()}ja(e){throw this.Ua.cancel(),new Error(`Invalid bundle format: ${e}`)}Ya(){var e=this;return(0,Ie.Z)(function*(){const r=yield e.Ua.read();if(!r.done){const s=new Uint8Array(e.buffer.length+r.value.length);s.set(e.buffer),s.set(r.value,e.buffer.length),e.buffer=s}return r.done})()}}class bv{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var r=this;return(0,Ie.Z)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw r.lastTransactionError=new It(tt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),r.lastTransactionError;const s=yield(l=(0,Ie.Z)(function*(g,D){const M=Pt(g),H={documents:D.map(at=>T(M.serializer,at))},Q=yield M.xo("BatchGetDocuments",M.serializer.databaseId,ln.emptyPath(),H,D.length),ce=new Map;Q.forEach(at=>{const Nt=function ft(a,e){return"found"in e?function(s,l){Rt(!!l.found);const f=C(s,l.found.name),g=Di(l.found.updateTime),D=l.found.createTime?Di(l.found.createTime):Ht.min(),M=new oi({mapValue:{fields:l.found.fields}});return vr.newFoundDocument(f,g,D,M)}(a,e):"missing"in e?function(s,l){Rt(!!l.missing),Rt(!!l.readTime);const f=C(s,l.missing),g=Di(l.readTime);return vr.newNoDocument(f,g)}(a,e):St()}(M.serializer,at);ce.set(Nt.key.toString(),Nt)});const xe=[];return D.forEach(at=>{const Nt=ce.get(at.toString());Rt(!!Nt),xe.push(Nt)}),xe}),function f(g,D){return l.apply(this,arguments)})(r.datastore,e);var l;return s.forEach(l=>r.recordVersion(l)),s})()}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new fa(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ie.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const r=e.readVersions;var s;e.mutations.forEach(s=>{r.delete(s.key.toString())}),r.forEach((s,l)=>{const f=he.fromPath(l);e.mutations.push(new Vc(f,e.precondition(f)))}),yield(s=(0,Ie.Z)(function*(f,g){const D=Pt(f),M={writes:g.map(H=>dr(D.serializer,H))};yield D.Co("Commit",D.serializer.databaseId,ln.emptyPath(),M)}),function l(f,g){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw St();r=Ht.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!r.isEqual(s))throw new It(tt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(Ht.min())?qn.exists(!1):qn.updateTime(r):qn.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(Ht.min()))throw new It(tt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return qn.updateTime(r)}return qn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Tv{constructor(e,r,s,l,f){this.asyncQueue=e,this.datastore=r,this.options=s,this.updateFunction=l,this.deferred=f,this.Za=s.maxAttempts,this.Yo=new wa(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){var e=this;this.Yo.$o((0,Ie.Z)(function*(){const r=new bv(e.datastore),s=e.tu(r);s&&s.then(l=>{e.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{e.deferred.resolve(l)}).catch(f=>{e.nu(f)}))}).catch(l=>{e.nu(l)})}))}tu(e){try{const r=this.updateFunction(e);return!_t(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}nu(e){this.Za>0&&this.ru(e)?(this.Za-=1,this.asyncQueue.enqueueAndForget(()=>(this.eu(),Promise.resolve()))):this.deferred.reject(e)}ru(e){if("FirebaseError"===e.name){const r=e.code;return"aborted"===r||"failed-precondition"===r||"already-exists"===r||!Bc(r)}return!1}}class wv{constructor(e,r,s,l){var f=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=s,this.databaseInfo=l,this.user=ut.UNAUTHENTICATED,this.clientId=vi.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var g=(0,Ie.Z)(function*(D){st("FirestoreClient","Received user=",D.uid),yield f.authCredentialListener(D),f.user=D});return function(D){return g.apply(this,arguments)}}()),this.appCheckCredentials.start(s,g=>(st("FirestoreClient","Received new app check token=",g),this.appCheckCredentialListener(g,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new It(tt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ie.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(s){const l=vc(s,"Failed to shutdown persistence");r.reject(l)}})),r.promise}}function Mh(a,e){return _d.apply(this,arguments)}function _d(){return _d=(0,Ie.Z)(function*(a,e){a.asyncQueue.verifyOperationInProgress(),st("FirestoreClient","Initializing OfflineComponentProvider");const r=a.configuration;yield e.initialize(r);let s=r.initialUser;a.setCredentialChangeListener(function(){var l=(0,Ie.Z)(function*(f){s.isEqual(f)||(yield qu(e.localStore,f),s=f)});return function(f){return l.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=e}),_d.apply(this,arguments)}function op(a,e){return Ph.apply(this,arguments)}function Ph(){return(Ph=(0,Ie.Z)(function*(a,e){a.asyncQueue.verifyOperationInProgress();const r=yield Sl(a);st("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(r,a.configuration),a.setCredentialChangeListener(s=>od(e.remoteStore,s)),a.setAppCheckTokenChangeListener((s,l)=>od(e.remoteStore,l)),a._onlineComponents=e})).apply(this,arguments)}function E_(a){return"FirebaseError"===a.name?a.code===tt.FAILED_PRECONDITION||a.code===tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||22===a.code||20===a.code||11===a.code}function Sl(a){return km.apply(this,arguments)}function km(){return(km=(0,Ie.Z)(function*(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){st("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Mh(a,a._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!E_(r))throw r;Yn("Error using user provided cache. Falling back to memory cache: "+r),yield Mh(a,new ip)}}else st("FirestoreClient","Using default OfflineComponentProvider"),yield Mh(a,new ip);return a._offlineComponents})).apply(this,arguments)}function ap(a){return lp.apply(this,arguments)}function lp(){return(lp=(0,Ie.Z)(function*(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(st("FirestoreClient","Using user provided OnlineComponentProvider"),yield op(a,a._uninitializedComponentsProvider._online)):(st("FirestoreClient","Using default OnlineComponentProvider"),yield op(a,new xh))),a._onlineComponents})).apply(this,arguments)}function Fm(a){return Sl(a).then(e=>e.persistence)}function yd(a){return Sl(a).then(e=>e.localStore)}function I_(a){return ap(a).then(e=>e.remoteStore)}function Lm(a){return ap(a).then(e=>e.syncEngine)}function _u(a){return T_.apply(this,arguments)}function T_(){return(T_=(0,Ie.Z)(function*(a){const e=yield ap(a),r=e.eventManager;return r.onListen=Ic.bind(null,e.syncEngine),r.onUnlisten=cv.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=g_.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=uv.bind(null,e.syncEngine),r})).apply(this,arguments)}function Vm(a,e,r={}){const s=new or;return a.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function(f,g,D,M,H){const Q=new Rh({next:xe=>{g.enqueueAndForget(()=>ze(f,ce));const at=xe.docs.has(D);!at&&xe.fromCache?H.reject(new It(tt.UNAVAILABLE,"Failed to get document because the client is offline.")):at&&xe.fromCache&&M&&"server"===M.source?H.reject(new It(tt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):H.resolve(xe)},error:xe=>H.reject(xe)}),ce=new wl(as(D.path),Q,{includeMetadataChanges:!0,ra:!0});return q(f,ce)}(yield _u(a),a.asyncQueue,e,r,s)})),s.promise}function cp(a,e,r={}){const s=new or;return a.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function(f,g,D,M,H){const Q=new Rh({next:xe=>{g.enqueueAndForget(()=>ze(f,ce)),xe.fromCache&&"server"===M.source?H.reject(new It(tt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):H.resolve(xe)},error:xe=>H.reject(xe)}),ce=new wl(D,Q,{includeMetadataChanges:!0,ra:!0});return q(f,ce)}(yield _u(a),a.asyncQueue,e,r,s)})),s.promise}function C_(a){const e={};return void 0!==a.timeoutSeconds&&(e.timeoutSeconds=a.timeoutSeconds),e}const dp=new Map;function hp(a,e,r){if(!r)throw new It(tt.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function jm(a,e,r,s){if(!0===e&&!0===s)throw new It(tt.INVALID_ARGUMENT,`${a} and ${r} cannot be used together.`)}function Tc(a){if(!he.isDocumentKey(a))throw new It(tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function S_(a){if(he.isDocumentKey(a))throw new It(tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function vd(a){if(void 0===a)return"undefined";if(null===a)return"null";if("string"==typeof a)return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if("number"==typeof a||"boolean"==typeof a)return""+a;if("object"==typeof a){if(a instanceof Array)return"an array";{const e=(s=a).constructor?s.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var s;return"function"==typeof a?"a function":St()}function Er(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new It(tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=vd(a);throw new It(tt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return a}function x_(a,e){if(e<=0)throw new It(tt.INVALID_ARGUMENT,`Function ${a}() requires a positive number, but it was: ${e}.`)}class fp{constructor(e){var r,s;if(void 0===e.host){if(void 0!==e.ssl)throw new It(tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new It(tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}jm("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=C_(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(f){if(void 0!==f.timeoutSeconds){if(isNaN(f.timeoutSeconds))throw new It(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (must not be NaN)`);if(f.timeoutSeconds<5)throw new It(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (minimum allowed value is 5)`);if(f.timeoutSeconds>30)throw new It(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wc{constructor(e,r,s,l){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fp({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new It(tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new It(tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fp(e),void 0!==e.credentials&&(this._authCredentials=function(s){if(!s)return new Tr;switch(s.type){case"firstParty":return new tr(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new It(tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const s=dp.get(r);s&&(st("ComponentProvider","Removing Datastore"),dp.delete(r),s.terminate())}(this),Promise.resolve()}}class Gi{constructor(e,r,s){this.converter=r,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Gi(this.firestore,e,this._query)}}class hi{constructor(e,r,s){this.converter=r,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ja(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hi(this.firestore,e,this._key)}}class Ja extends Gi{constructor(e,r,s){super(e,r,as(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hi(this.firestore,null,new he(e))}withConverter(e){return new Ja(this.firestore,e,this._path)}}function R_(a,e,...r){if(a=(0,He.m9)(a),hp("collection","path",e),a instanceof wc){const s=ln.fromString(e,...r);return S_(s),new Ja(a,null,s)}{if(!(a instanceof hi||a instanceof Ja))throw new It(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(ln.fromString(e,...r));return S_(s),new Ja(a.firestore,null,s)}}function xl(a,e,...r){if(a=(0,He.m9)(a),1===arguments.length&&(e=vi.newId()),hp("doc","path",e),a instanceof wc){const s=ln.fromString(e,...r);return Tc(s),new hi(a,null,new he(s))}{if(!(a instanceof hi||a instanceof Ja))throw new It(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(ln.fromString(e,...r));return Tc(s),new hi(a.firestore,a instanceof Ja?a.converter:null,new he(s))}}function P_(a,e){return a=(0,He.m9)(a),e=(0,He.m9)(e),(a instanceof hi||a instanceof Ja)&&(e instanceof hi||e instanceof Ja)&&a.firestore===e.firestore&&a.path===e.path&&a.converter===e.converter}function Hm(a,e){return a=(0,He.m9)(a),e=(0,He.m9)(e),a instanceof Gi&&e instanceof Gi&&a.firestore===e.firestore&&Ce(a._query,e._query)&&a.converter===e.converter}class Av{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new wa(this,"async_queue_retry"),this.hu=()=>{const r=nd();r&&st("AsyncQueue","Visibility state changed to "+r.visibilityState),this.Yo.Wo()};const e=nd();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const r=nd();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const r=new or;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){var e=this;return(0,Ie.Z)(function*(){if(0!==e.su.length){try{yield e.su[0](),e.su.shift(),e.Yo.reset()}catch(r){if(!mt(r))throw r;st("AsyncQueue","Operation failed with retryable error: "+r)}e.su.length>0&&e.Yo.$o(()=>e.Tu())}})()}Iu(e){const r=this.iu.then(()=>(this.uu=!0,e().catch(s=>{throw this.au=s,this.uu=!1,Zt("INTERNAL UNHANDLED ERROR: ",function(g){let D=g.message||"";return g.stack&&(D=g.stack.includes(g.message)?g.stack:g.message+"\n"+g.stack),D}(s)),s}).then(s=>(this.uu=!1,s))));return this.iu=r,r}enqueueAfterDelay(e,r,s){this.Pu(),this.lu.indexOf(e)>-1&&(r=0);const l=yc.createAndSchedule(this,e,r,s,f=>this.Eu(f));return this._u.push(l),l}Pu(){this.au&&St()}verifyOperationInProgress(){}du(){var e=this;return(0,Ie.Z)(function*(){let r;do{r=e.iu,yield r}while(r!==e.iu)})()}Au(e){for(const r of this._u)if(r.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((r,s)=>r.targetTimeMs-s.targetTimeMs);for(const r of this._u)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const r=this._u.indexOf(e);this._u.splice(r,1)}}function kh(a){return function(r,s){if("object"!=typeof r||null===r)return!1;const l=r;for(const f of["next","error","complete"])if(f in l&&"function"==typeof l[f])return!0;return!1}(a)}class O_{constructor(){this._progressObserver={},this._taskCompletionResolver=new or,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,r,s){this._progressObserver={next:e,error:r,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,r){return this._taskCompletionResolver.promise.then(e,r)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ri extends wc{constructor(e,r,s,l){super(e,r,s,l),this.type="firestore",this._queue=new Av,this._persistenceKey=l?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||k_(this),this._firestoreClient.terminate()}}function Ri(a){return a._firestoreClient||k_(a),a._firestoreClient.verifyNotTerminated(),a._firestoreClient}function k_(a){var e,r,s;const l=a._freezeSettings(),f=(M=(null===(e=a._app)||void 0===e?void 0:e.options.appId)||"",new Or(a._databaseId,M,a._persistenceKey,(Q=l).host,Q.ssl,Q.experimentalForceLongPolling,Q.experimentalAutoDetectLongPolling,C_(Q.experimentalLongPollingOptions),Q.useFetchStreams));var M,Q;a._firestoreClient=new wv(a._authCredentials,a._appCheckCredentials,a._queue,f),null!==(r=l.localCache)&&void 0!==r&&r._offlineComponentProvider&&null!==(s=l.localCache)&&void 0!==s&&s._onlineComponentProvider&&(a._firestoreClient._uninitializedComponentsProvider={_offlineKind:l.localCache.kind,_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider})}function xv(a,e,r){const s=new or;return a.asyncQueue.enqueue((0,Ie.Z)(function*(){try{yield Mh(a,r),yield op(a,e),s.resolve()}catch(l){const f=l;if(!E_(f))throw f;Yn("Error enabling indexeddb cache. Falling back to memory cache: "+f),s.reject(f)}})).then(()=>s.promise)}function Ed(a){if(a._initialized||a._terminated)throw new It(tt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ra{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ra(nr.fromBase64String(e))}catch(r){throw new It(tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new ra(nr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ra{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new It(tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class bd{constructor(e){this._methodName=e}}class Td{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new It(tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new It(tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return At(this._lat,e._lat)||At(this._long,e._long)}}const Lh=/^__.*__$/;class Mv{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return null!==this.fieldMask?new ao(e,this.data,this.fieldMask,r,this.fieldTransforms):new Ti(e,this.data,r,this.fieldTransforms)}}class qm{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return new ao(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function F_(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw St()}}class mp{constructor(e,r,s,l,f,g){this.settings=e,this.databaseId=r,this.serializer=s,this.ignoreUndefinedProperties=l,void 0===f&&this.mu(),this.fieldTransforms=f||[],this.fieldMask=g||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new mp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(e),l=this.gu({path:s,yu:!1});return l.wu(e),l}Su(e){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(e),l=this.gu({path:s,yu:!1});return l.mu(),l}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Ep(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(0===e.length)throw this.Du("Document fields must not be empty");if(F_(this.fu)&&Lh.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class Zm{constructor(e,r,s){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=s||Wa(e)}Fu(e,r,s,l=!1){return new mp({fu:e,methodName:r,vu:s,path:dt.emptyPath(),yu:!1,Cu:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ac(a){const e=a._freezeSettings(),r=Wa(a._databaseId);return new Zm(a._databaseId,!!e.ignoreUndefinedProperties,r)}function gp(a,e,r,s,l,f={}){const g=a.Fu(f.merge||f.mergeFields?2:0,e,r,l);yp("Data must be an object, but it was:",g,s);const D=Jm(s,g);let M,H;if(f.merge)M=new Qr(g.fieldMask),H=g.fieldTransforms;else if(f.mergeFields){const Q=[];for(const ce of f.mergeFields){const xe=vp(e,ce,r);if(!g.contains(xe))throw new It(tt.INVALID_ARGUMENT,`Field '${xe}' is specified in your field mask but missing from your input data.`);vu(Q,xe)||Q.push(xe)}M=new Qr(Q),H=g.fieldTransforms.filter(ce=>M.covers(ce.field))}else M=null,H=g.fieldTransforms;return new Mv(new oi(D),M,H)}class Vh extends bd{_toFieldTransform(e){if(2!==e.fu)throw e.Du(1===e.fu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vh}}function Pv(a,e,r){return new mp({fu:3,vu:e.settings.vu,methodName:a._methodName,yu:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Qm extends bd{_toFieldTransform(e){return new bi(e.path,new Mt)}isEqual(e){return e instanceof Qm}}class wd extends bd{constructor(e,r){super(e),this.Mu=r}_toFieldTransform(e){const r=Pv(this,e,!0),s=this.Mu.map(f=>yu(f,r)),l=new pn(s);return new bi(e.path,l)}isEqual(e){return e instanceof wd&&(0,He.vZ)(this.Mu,e.Mu)}}class Uh extends bd{constructor(e,r){super(e),this.Mu=r}_toFieldTransform(e){const r=Pv(this,e,!0),s=this.Mu.map(f=>yu(f,r)),l=new Kn(s);return new bi(e.path,l)}isEqual(e){return e instanceof Uh&&(0,He.vZ)(this.Mu,e.Mu)}}class Ym extends bd{constructor(e,r){super(e),this.xu=r}_toFieldTransform(e){const r=new fr(e.serializer,O(e.serializer,this.xu));return new bi(e.path,r)}isEqual(e){return e instanceof Ym&&this.xu===e.xu}}function _p(a,e,r,s){const l=a.Fu(1,e,r);yp("Data must be an object, but it was:",l,s);const f=[],g=oi.empty();Ts(s,(M,H)=>{const Q=Cc(e,M,r);H=(0,He.m9)(H);const ce=l.Su(Q);if(H instanceof Vh)f.push(Q);else{const xe=yu(H,ce);null!=xe&&(f.push(Q),g.set(Q,xe))}});const D=new Qr(f);return new qm(g,D,l.fieldTransforms)}function Bh(a,e,r,s,l,f){const g=a.Fu(1,e,r),D=[vp(e,s,r)],M=[l];if(f.length%2!=0)throw new It(tt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let xe=0;xe<f.length;xe+=2)D.push(vp(e,f[xe])),M.push(f[xe+1]);const H=[],Q=oi.empty();for(let xe=D.length-1;xe>=0;--xe)if(!vu(H,D[xe])){const at=D[xe];let Nt=M[xe];Nt=(0,He.m9)(Nt);const qt=g.Su(at);if(Nt instanceof Vh)H.push(at);else{const Lt=yu(Nt,qt);null!=Lt&&(H.push(at),Q.set(at,Lt))}}const ce=new Qr(H);return new qm(Q,ce,g.fieldTransforms)}function jh(a,e,r,s=!1){return yu(r,a.Fu(s?4:3,e))}function yu(a,e){if(L_(a=(0,He.m9)(a)))return yp("Unsupported field value:",e,a),Jm(a,e);if(a instanceof bd)return function(s,l){if(!F_(l.fu))throw l.Du(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Du(`${s._methodName}() is not currently supported inside arrays`);const f=s._toFieldTransform(l);f&&l.fieldTransforms.push(f)}(a,e),null;if(void 0===a&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.yu&&4!==e.fu)throw e.Du("Nested arrays are not supported");return function(s,l){const f=[];let g=0;for(const D of s){let M=yu(D,l.bu(g));null==M&&(M={nullValue:"NULL_VALUE"}),f.push(M),g++}return{arrayValue:{values:f}}}(a,e)}return function(s,l){if(null===(s=(0,He.m9)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return O(l.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const f=Gn.fromDate(s);return{timestampValue:Wo(l.serializer,f)}}if(s instanceof Gn){const f=new Gn(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Wo(l.serializer,f)}}if(s instanceof Td)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ra)return{bytesValue:Wc(l.serializer,s._byteString)};if(s instanceof hi){const f=l.databaseId,g=s.firestore._databaseId;if(!g.isEqual(f))throw l.Du(`Document reference is for database ${g.projectId}/${g.database} but should be for database ${f.projectId}/${f.database}`);return{referenceValue:es(s.firestore._databaseId||l.databaseId,s._key.path)}}throw l.Du(`Unsupported field value: ${vd(s)}`)}(a,e)}function Jm(a,e){const r={};return lr(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ts(a,(s,l)=>{const f=yu(l,e.pu(s));null!=f&&(r[s]=f)}),{mapValue:{fields:r}}}function L_(a){return!("object"!=typeof a||null===a||a instanceof Array||a instanceof Date||a instanceof Gn||a instanceof Td||a instanceof ra||a instanceof hi||a instanceof bd)}function yp(a,e,r){if(!L_(r)||"object"!=typeof(l=r)||null===l||Object.getPrototypeOf(l)!==Object.prototype&&null!==Object.getPrototypeOf(l)){const s=vd(r);throw e.Du("an object"===s?a+" a custom object":a+" "+s)}var l}function vp(a,e,r){if((e=(0,He.m9)(e))instanceof Ra)return e._internalPath;if("string"==typeof e)return Cc(a,e);throw Ep("Field path arguments must be of type string or ",a,!1,void 0,r)}const Ov=new RegExp("[~\\*/\\[\\]]");function Cc(a,e,r){if(e.search(Ov)>=0)throw Ep(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,r);try{return new Ra(...e.split("."))._internalPath}catch{throw Ep(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,r)}}function Ep(a,e,r,s,l){const f=s&&!s.isEmpty(),g=void 0!==l;let D=`Function ${e}() called with invalid data`;r&&(D+=" (via `toFirestore()`)"),D+=". ";let M="";return(f||g)&&(M+=" (found",f&&(M+=` in field ${s}`),g&&(M+=` in document ${l}`),M+=")"),new It(tt.INVALID_ARGUMENT,D+a+M)}function vu(a,e){return a.some(r=>r.isEqual(e))}class Rl{constructor(e,r,s,l,f){this._firestore=e,this._userDataWriter=r,this._key=s,this._document=l,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new hi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Nv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Hh("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class Nv extends Rl{data(){return super.data()}}function Hh(a,e){return"string"==typeof e?Cc(a,e):e instanceof Ra?e._internalPath:e._delegate._internalPath}function V_(a){if("L"===a.limitType&&0===a.explicitOrderBy.length)throw new It(tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xm{}class $h extends Xm{}function Ml(a,e,...r){let s=[];e instanceof Xm&&s.push(e),s=s.concat(r),function(f){const g=f.filter(M=>M instanceof zh).length,D=f.filter(M=>M instanceof Dd).length;if(g>1||g>0&&D>0)throw new It(tt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const l of s)a=l._apply(a);return a}class Dd extends $h{constructor(e,r,s){super(),this._field=e,this._op=r,this._value=s,this.type="where"}static _create(e,r,s){return new Dd(e,r,s)}_apply(e){const r=this._parse(e);return Pl(e._query,r),new Gi(e.firestore,e.converter,W(e._query,r))}_parse(e){const r=Ac(e.firestore);return function(f,g,D,M,H,Q,ce){let xe;if(H.isKeyField()){if("array-contains"===Q||"array-contains-any"===Q)throw new It(tt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${Q}' queries on documentId().`);if("in"===Q||"not-in"===Q){bp(ce,Q);const at=[];for(const Nt of ce)at.push(Uv(M,f,Nt));xe={arrayValue:{values:at}}}else xe=Uv(M,f,ce)}else"in"!==Q&&"not-in"!==Q&&"array-contains-any"!==Q||bp(ce,Q),xe=jh(D,"where",ce,"in"===Q||"not-in"===Q);return Hn.create(H,Q,xe)}(e._query,0,r,e.firestore._databaseId,this._field,this._op,this._value)}}class zh extends Xm{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new zh(e,r)}_parse(e){const r=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===r.length?r[0]:wr.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return 0===r.getFilters().length?e:(function(l,f){let g=l;const D=f.getFlattenedFilters();for(const M of D)Pl(g,M),g=W(g,M)}(e._query,r),new Gi(e.firestore,e.converter,W(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class tg extends $h{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new tg(e,r)}_apply(e){const r=function(l,f,g){if(null!==l.startAt)throw new It(tt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==l.endAt)throw new It(tt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ni(f,g)}(e._query,this._field,this._direction);return new Gi(e.firestore,e.converter,function(l,f){const g=l.explicitOrderBy.concat([f]);return new ji(l.path,l.collectionGroup,g,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(e._query,r))}}class Gh extends $h{constructor(e,r,s){super(),this.type=e,this._limit=r,this._limitType=s}static _create(e,r,s){return new Gh(e,r,s)}_apply(e){return new Gi(e.firestore,e.converter,re(e._query,this._limit,this._limitType))}}class Ip extends $h{constructor(e,r,s){super(),this.type=e,this._docOrFields=r,this._inclusive=s}static _create(e,r,s){return new Ip(e,r,s)}_apply(e){const r=ng(e,this.type,this._docOrFields,this._inclusive);return new Gi(e.firestore,e.converter,(f=r,new ji((l=e._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,f,l.endAt)));var l,f}}class Wh extends $h{constructor(e,r,s){super(),this.type=e,this._docOrFields=r,this._inclusive=s}static _create(e,r,s){return new Wh(e,r,s)}_apply(e){const r=ng(e,this.type,this._docOrFields,this._inclusive);return new Gi(e.firestore,e.converter,(f=r,new ji((l=e._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,f)));var l,f}}function ng(a,e,r,s){if(r[0]=(0,He.m9)(r[0]),r[0]instanceof Rl)return function(f,g,D,M,H){if(!M)throw new It(tt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${D}().`);const Q=[];for(const ce of K(f))if(ce.field.isKeyField())Q.push(Us(g,M.key));else{const xe=M.data.field(ce.field);if(ns(xe))throw new It(tt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ce.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===xe){const at=ce.field.canonicalString();throw new It(tt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${at}' (used as the orderBy) does not exist.`)}Q.push(xe)}return new kr(Q,H)}(a._query,a.firestore._databaseId,e,r[0]._document,s);{const l=Ac(a.firestore);return function(g,D,M,H,Q,ce){const xe=g.explicitOrderBy;if(Q.length>xe.length)throw new It(tt.INVALID_ARGUMENT,`Too many arguments provided to ${H}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const at=[];for(let Nt=0;Nt<Q.length;Nt++){const qt=Q[Nt];if(xe[Nt].field.isKeyField()){if("string"!=typeof qt)throw new It(tt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${H}(), but got a ${typeof qt}`);if(!Mo(g)&&-1!==qt.indexOf("/"))throw new It(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${H}() must be a plain document ID, but '${qt}' contains a slash.`);const Lt=g.path.child(ln.fromString(qt));if(!he.isDocumentKey(Lt))throw new It(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${H}() must result in a valid document path, but '${Lt}' is not because it contains an odd number of segments.`);const Dn=new he(Lt);at.push(Us(D,Dn))}else{const Lt=jh(M,H,qt);at.push(Lt)}}return new kr(at,ce)}(a._query,a.firestore._databaseId,l,e,r,s)}}function Uv(a,e,r){if("string"==typeof(r=(0,He.m9)(r))){if(""===r)throw new It(tt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Mo(e)&&-1!==r.indexOf("/"))throw new It(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const s=e.path.child(ln.fromString(r));if(!he.isDocumentKey(s))throw new It(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Us(a,new he(s))}if(r instanceof hi)return Us(a,r._key);throw new It(tt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vd(r)}.`)}function bp(a,e){if(!Array.isArray(a)||0===a.length)throw new It(tt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Pl(a,e){const r=function(l,f){for(const g of l)for(const D of g.getFlattenedFilters())if(f.indexOf(D.op)>=0)return D.op;return null}(a.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==r)throw new It(tt.INVALID_ARGUMENT,r===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class rg{convertValue(e,r="none"){switch(Qi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(ei(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 10:return this.convertObject(e.mapValue,r);default:throw St()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const s={};return Ts(e,(l,f)=>{s[l]=this.convertValue(f,r)}),s}convertGeoPoint(e){return new Td(kn(e.latitude),kn(e.longitude))}convertArray(e,r){return(e.values||[]).map(s=>this.convertValue(s,r))}convertServerTimestamp(e,r){switch(r){case"previous":const s=si(e);return null==s?null:this.convertValue(s,r);case"estimate":return this.convertTimestamp(rs(e));default:return null}}convertTimestamp(e){const r=Mn(e);return new Gn(r.seconds,r.nanos)}convertDocumentKey(e,r){const s=ln.fromString(e);Rt(Cf(s));const l=new Ei(s.get(1),s.get(3)),f=new he(s.popFirst(5));return l.isEqual(r)||Zt(`Document ${f} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),f}}function ig(a,e,r){let s;return s=a?r&&(r.merge||r.mergeFields)?a.toFirestore(e,r):a.toFirestore(e):e,s}class Bv extends rg{constructor(e){super(),this.firestore=e}convertBytes(e){return new ra(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new hi(this.firestore,null,r)}}class Mi{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Nl extends Rl{constructor(e,r,s,l,f,g){super(e,r,s,l,g),this._firestore=e,this._firestoreImpl=e,this.metadata=f}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Eu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const s=this._document.data.field(Hh("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,r.serverTimestamps)}}}class Eu extends Nl{data(e={}){return super.data(e)}}class Sc{constructor(e,r,s,l){this._firestore=e,this._userDataWriter=r,this._snapshot=l,this.metadata=new Mi(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(s=>{e.call(r,new Eu(this._firestore,this._userDataWriter,s.key,s,new Mi(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new It(tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(l,f){if(l._snapshot.oldDocs.isEmpty()){let g=0;return l._snapshot.docChanges.map(D=>({type:"added",doc:new Eu(l._firestore,l._userDataWriter,D.doc.key,D.doc,new Mi(l._snapshot.mutatedKeys.has(D.doc.key),l._snapshot.fromCache),l.query.converter),oldIndex:-1,newIndex:g++}))}{let g=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(D=>f||3!==D.type).map(D=>{const M=new Eu(l._firestore,l._userDataWriter,D.doc.key,D.doc,new Mi(l._snapshot.mutatedKeys.has(D.doc.key),l._snapshot.fromCache),l.query.converter);let H=-1,Q=-1;return 0!==D.type&&(H=g.indexOf(D.doc.key),g=g.delete(D.doc.key)),1!==D.type&&(g=g.add(D.doc),Q=g.indexOf(D.doc.key)),{type:jv(D.type),doc:M,oldIndex:H,newIndex:Q}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function jv(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return St()}}function wp(a,e){return a instanceof Nl&&e instanceof Nl?a._firestore===e._firestore&&a._key.isEqual(e._key)&&(null===a._document?null===e._document:a._document.isEqual(e._document))&&a._converter===e._converter:a instanceof Sc&&e instanceof Sc&&a._firestore===e._firestore&&Hm(a.query,e.query)&&a.metadata.isEqual(e.metadata)&&a._snapshot.isEqual(e._snapshot)}class kl extends rg{constructor(e){super(),this.firestore=e}convertBytes(e){return new ra(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new hi(this.firestore,null,r)}}function K_(a,e,r){a=Er(a,hi);const s=Er(a.firestore,ri),l=ig(a.converter,e,r);return Cd(s,[gp(Ac(s),"setDoc",a._key,l,null!==a.converter,r).toMutation(a._key,qn.none())])}function sg(a,e,r,...s){a=Er(a,hi);const l=Er(a.firestore,ri),f=Ac(l);let g;return g="string"==typeof(e=(0,He.m9)(e))||e instanceof Ra?Bh(f,"updateDoc",a._key,e,r,s):_p(f,"updateDoc",a._key,e),Cd(l,[g.toMutation(a._key,qn.exists(!0))])}function Iu(a,...e){var r,s,l;a=(0,He.m9)(a);let f={includeMetadataChanges:!1,source:"default"},g=0;"object"!=typeof e[g]||kh(e[g])||(f=e[g],g++);const D={includeMetadataChanges:f.includeMetadataChanges,source:f.source};if(kh(e[g])){const ce=e[g];e[g]=null===(r=ce.next)||void 0===r?void 0:r.bind(ce),e[g+1]=null===(s=ce.error)||void 0===s?void 0:s.bind(ce),e[g+2]=null===(l=ce.complete)||void 0===l?void 0:l.bind(ce)}let M,H,Q;if(a instanceof hi)H=Er(a.firestore,ri),Q=as(a._key.path),M={next:ce=>{e[g]&&e[g](Dp(H,a,ce))},error:e[g+1],complete:e[g+2]};else{const ce=Er(a,Gi);H=Er(ce.firestore,ri),Q=ce._query;const xe=new kl(H);M={next:at=>{e[g]&&e[g](new Sc(H,xe,ce,at))},error:e[g+1],complete:e[g+2]},V_(a._query)}return function(xe,at,Nt,qt){const Lt=new Rh(qt),Dn=new wl(at,Lt,Nt);return xe.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return q(yield _u(xe),Dn)})),()=>{Lt.$a(),xe.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return ze(yield _u(xe),Dn)}))}}(Ri(H),Q,D,M)}function Cd(a,e){return function(s,l){const f=new or;return s.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function dv(a,e,r){return Yf.apply(this,arguments)}(yield Lm(s),l,f)})),f.promise}(Ri(a),e)}function Dp(a,e,r){const s=r.docs.get(e._key),l=new kl(a);return new Nl(a,l,e._key,s,new Mi(r.hasPendingWrites,r.fromCache),e.converter)}const pI={maxAttempts:5};class ag{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=Ac(e)}set(e,r,s){this._verifyNotCommitted();const l=Ll(e,this._firestore),f=ig(l.converter,r,s),g=gp(this._dataReader,"WriteBatch.set",l._key,f,null!==l.converter,s);return this._mutations.push(g.toMutation(l._key,qn.none())),this}update(e,r,s,...l){this._verifyNotCommitted();const f=Ll(e,this._firestore);let g;return g="string"==typeof(r=(0,He.m9)(r))||r instanceof Ra?Bh(this._dataReader,"WriteBatch.update",f._key,r,s,l):_p(this._dataReader,"WriteBatch.update",f._key,r),this._mutations.push(g.toMutation(f._key,qn.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=Ll(e,this._firestore);return this._mutations=this._mutations.concat(new fa(r._key,qn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new It(tt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ll(a,e){if((a=(0,He.m9)(a)).firestore!==e)throw new It(tt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return a}class mI extends class{constructor(r,s){this._firestore=r,this._transaction=s,this._dataReader=Ac(r)}get(r){const s=Ll(r,this._firestore),l=new Bv(this._firestore);return this._transaction.lookup([s._key]).then(f=>{if(!f||1!==f.length)return St();const g=f[0];if(g.isFoundDocument())return new Rl(this._firestore,l,g.key,g,s.converter);if(g.isNoDocument())return new Rl(this._firestore,l,s._key,null,s.converter);throw St()})}set(r,s,l){const f=Ll(r,this._firestore),g=ig(f.converter,s,l),D=gp(this._dataReader,"Transaction.set",f._key,g,null!==f.converter,l);return this._transaction.set(f._key,D),this}update(r,s,l,...f){const g=Ll(r,this._firestore);let D;return D="string"==typeof(s=(0,He.m9)(s))||s instanceof Ra?Bh(this._dataReader,"Transaction.update",g._key,s,l,f):_p(this._dataReader,"Transaction.update",g._key,s),this._transaction.update(g._key,D),this}delete(r){const s=Ll(r,this._firestore);return this._transaction.delete(s._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=Ll(e,this._firestore),s=new kl(this._firestore);return super.get(e).then(l=>new Nl(this._firestore,s,r._key,l._document,new Mi(!1,!1),r.converter))}}function dg(a,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new It("invalid-argument",`Invalid options passed to function ${a}(): You cannot specify both "merge" and "mergeFields".`);return e}function ry(){if(typeof Uint8Array>"u")throw new It("unimplemented","Uint8Arrays are not available in this environment.")}function hg(){if(!function so(){return typeof atob<"u"}())throw new It("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,r=!0){jt=ue.SDK_VERSION,(0,ue._registerComponent)(new De.wA("firestore",(s,{instanceIdentifier:l,options:f})=>{const g=s.getProvider("app").getImmediate(),D=new ri(new wn(s.getProvider("auth-internal")),new gr(s.getProvider("app-check-internal")),function(H,Q){if(!Object.prototype.hasOwnProperty.apply(H.options,["projectId"]))throw new It(tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ei(H.options.projectId,Q)}(g,l),g);return f=Object.assign({useFetchStreams:r},f),D._setSettings(f),D},"PUBLIC").setMultipleInstances(!0)),(0,ue.registerVersion)(wt,"4.6.3",e),(0,ue.registerVersion)(wt,"4.6.3","esm2017")}();class Yh{constructor(e){this._delegate=e}static fromBase64String(e){return hg(),new Yh(ra.fromBase64String(e))}static fromUint8Array(e){return ry(),new Yh(ra.fromUint8Array(e))}toBase64(){return hg(),this._delegate.toBase64()}toUint8Array(){return ry(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function fg(a){return function Xv(a,e){if("object"!=typeof a||null===a)return!1;const r=a;for(const s of e)if(s in r&&"function"==typeof r[s])return!0;return!1}(a,["next","error","complete"])}class eE{enableIndexedDbPersistence(e,r){return function Sv(a,e){Ed(a=Er(a,ri));const r=Ri(a);if(r._uninitializedComponentsProvider)throw new It(tt.FAILED_PRECONDITION,"SDK cache is already specified.");Yn("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=a._freezeSettings(),l=new xh;return xv(r,l,new Sh(l,s.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:r})}enableMultiTabIndexedDbPersistence(e){return function oI(a){Ed(a=Er(a,ri));const e=Ri(a);if(e._uninitializedComponentsProvider)throw new It(tt.FAILED_PRECONDITION,"SDK cache is already specified.");Yn("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=a._freezeSettings(),s=new xh;return xv(e,s,new sp(s,r.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function pp(a){if(a._initialized&&!a._terminated)throw new It(tt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new or;return a._queue.enqueueAndForgetEvenWhileRestricted((0,Ie.Z)(function*(){try{yield(r=(0,Ie.Z)(function*(l){if(!Zn.D())return Promise.resolve();const f=l+"main";yield Zn.delete(f)}),function s(l){return r.apply(this,arguments)})(sh(a._databaseId,a._persistenceKey)),e.resolve()}catch(r){e.reject(r)}var r})),e.promise}(e._delegate)}}class pg{constructor(e,r,s){this._delegate=r,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ei||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const r=this._delegate._getSettings();!e.merge&&r.host!==e.host&&Yn("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},r),e)).merge,this._delegate._setSettings(e)}useEmulator(e,r,s={}){!function xa(a,e,r,s={}){var l;const f=(a=Er(a,wc))._getSettings(),g=`${e}:${r}`;if("firestore.googleapis.com"!==f.host&&f.host!==g&&Yn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),a._setSettings(Object.assign(Object.assign({},f),{host:g,ssl:!1})),s.mockUserToken){let D,M;if("string"==typeof s.mockUserToken)D=s.mockUserToken,M=ut.MOCK_USER;else{D=(0,He.Sg)(s.mockUserToken,null===(l=a._app)||void 0===l?void 0:l.options.projectId);const H=s.mockUserToken.sub||s.mockUserToken.user_id;if(!H)throw new It(tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");M=new ut(H)}a._authCredentials=new fn(new Nr(D,M))}}(this._delegate,e,r,s)}enableNetwork(){return function $m(a){return function iI(a){return a.asyncQueue.enqueue((0,Ie.Z)(function*(){const e=yield Fm(a),r=yield I_(a);return e.setNetworkEnabled(!0),function(l){const f=Pt(l);return f.M_.delete(0),Ka(f)}(r)}))}(Ri(a=Er(a,ri)))}(this._delegate)}disableNetwork(){return function zm(a){return function Oh(a){return a.asyncQueue.enqueue((0,Ie.Z)(function*(){const e=yield Fm(a),r=yield I_(a);return e.setNetworkEnabled(!1),(s=(0,Ie.Z)(function*(f){const g=Pt(f);g.M_.add(0),yield Xs(g),g.N_.set("Offline")}),function l(f){return s.apply(this,arguments)})(r);var s}))}(Ri(a=Er(a,ri)))}(this._delegate)}enablePersistence(e){let r=!1,s=!1;return e&&(r=!!e.synchronizeTabs,s=!!e.experimentalForceOwningTab,jm("synchronizeTabs",r,"experimentalForceOwningTab",s)),r?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Rv(a){return function(r){const s=new or;return r.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function pv(a,e){return bc.apply(this,arguments)}(yield Lm(r),s)})),s.promise}(Ri(a=Er(a,ri)))}(this._delegate)}onSnapshotsInSync(e){return function Gv(a,e){return function Dv(a,e){const r=new Rh(e);return a.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return l=yield _u(a),f=r,Pt(l).z_.add(f),void f.next();var l,f})),()=>{r.$a(),a.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return l=yield _u(a),f=r,void Pt(l).z_.delete(f);var l,f}))}}(Ri(a=Er(a,ri)),kh(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new It("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Rd(this,R_(this._delegate,e))}catch(r){throw Io(r,"collection()","Firestore.collection()")}}doc(e){try{return new ia(this,xl(this._delegate,e))}catch(r){throw Io(r,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new eo(this,function M_(a,e){if(a=Er(a,wc),hp("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new It(tt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Gi(a,null,(s=e,new ji(ln.emptyPath(),s)));var s}(this._delegate,e))}catch(r){throw Io(r,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Cp(a,e,r){a=Er(a,ri);const s=Object.assign(Object.assign({},pI),r);return function(f){if(f.maxAttempts<1)throw new It(tt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(f,g,D){const M=new or;return f.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){const H=yield function b_(a){return ap(a).then(e=>e.datastore)}(f);new Tv(f.asyncQueue,H,D,g,M).Xa()})),M.promise}(Ri(a),l=>e(new mI(a,l)),s)}(this._delegate,r=>e(new iy(this,r)))}batch(){return Ri(this._delegate),new Eo(new ag(this._delegate,e=>Cd(this._delegate,e)))}loadBundle(e){return function Gm(a,e){const r=Ri(a=Er(a,ri)),s=new O_;return function D_(a,e,r,s){const l=function(g,D){let M;return M="string"==typeof g?Kd().encode(g):g,Q=function(Q,ce){if(Q instanceof Uint8Array)return Ev(Q,void 0);if(Q instanceof ArrayBuffer)return Ev(new Uint8Array(Q),void 0);if(Q instanceof ReadableStream)return Q.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(M),new Iv(Q,D);var Q}(r,Wa(e));a.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){!function nI(a,e,r){const s=Pt(a);var l;(l=(0,Ie.Z)(function*(g,D,M){try{const H=yield D.getMetadata();if(yield function(Nt,qt){const Lt=Pt(Nt),Dn=Di(qt.createTime);return Lt.persistence.runTransaction("hasNewerBundle","readonly",Un=>Lt.$r.getBundleMetadata(Un,qt.id)).then(Un=>!!Un&&Un.createTime.compareTo(Dn)>=0)}(g.localStore,H))return yield D.close(),M._completeWith({taskState:"Success",documentsLoaded:(Nt=H).totalDocuments,bytesLoaded:Nt.totalBytes,totalDocuments:Nt.totalDocuments,totalBytes:Nt.totalBytes}),Promise.resolve(new Set);M._updateProgress(Ec(H));const Q=new Tm(H,g.localStore,D.serializer);let ce=yield D.qa();for(;ce;){const at=yield Q._a(ce);at&&M._updateProgress(at),ce=yield D.qa()}const xe=yield Q.complete();return yield Al(g,xe.ca,void 0),yield function(Nt,qt){const Lt=Pt(Nt);return Lt.persistence.runTransaction("Save bundle","readwrite",Dn=>Lt.$r.saveBundleMetadata(Dn,qt))}(g.localStore,H),M._completeWith(xe.progress),Promise.resolve(xe.ua)}catch(H){return Yn("SyncEngine",`Loading bundle failed with ${H}`),M._failWith(H),Promise.resolve(new Set)}var Nt}),function f(g,D,M){return l.apply(this,arguments)})(s,e,r).then(l=>{s.sharedClientState.notifyBundleLoaded(l)})}(yield Lm(a),l,s)}))}(r,a._databaseId,e,s),s}(this._delegate,e)}namedQuery(e){return function Wm(a,e){return function A_(a,e){return a.asyncQueue.enqueue((0,Ie.Z)(function*(){return function(s,l){const f=Pt(s);return f.persistence.runTransaction("Get named query","readonly",g=>f.$r.getNamedQuery(g,l))}(yield yd(a),e)}))}(Ri(a=Er(a,ri)),e).then(r=>r?new Gi(a,null,r.query):null)}(this._delegate,e).then(r=>r?new eo(this,r):null)}}class Jh extends rg{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yh(new ra(e))}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return ia.forKey(r,this.firestore,null)}}class iy{constructor(e,r){this._firestore=e,this._delegate=r,this._userDataWriter=new Jh(e)}get(e){const r=Vl(e);return this._delegate.get(r).then(s=>new Xh(this._firestore,new Nl(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,r.converter)))}set(e,r,s){const l=Vl(e);return s?(dg("Transaction.set",s),this._delegate.set(l,r,s)):this._delegate.set(l,r),this}update(e,r,s,...l){const f=Vl(e);return 2===arguments.length?this._delegate.update(f,r):this._delegate.update(f,r,s,...l),this}delete(e){const r=Vl(e);return this._delegate.delete(r),this}}class Eo{constructor(e){this._delegate=e}set(e,r,s){const l=Vl(e);return s?(dg("WriteBatch.set",s),this._delegate.set(l,r,s)):this._delegate.set(l,r),this}update(e,r,s,...l){const f=Vl(e);return 2===arguments.length?this._delegate.update(f,r):this._delegate.update(f,r,s,...l),this}delete(e){const r=Vl(e);return this._delegate.delete(r),this}commit(){return this._delegate.commit()}}class bu{constructor(e,r,s){this._firestore=e,this._userDataWriter=r,this._delegate=s}fromFirestore(e,r){const s=new Eu(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new ef(this._firestore,s),r??{})}toFirestore(e,r){return r?this._delegate.toFirestore(e,r):this._delegate.toFirestore(e)}static getInstance(e,r){const s=bu.INSTANCES;let l=s.get(e);l||(l=new WeakMap,s.set(e,l));let f=l.get(r);return f||(f=new bu(e,new Jh(e),r),l.set(r,f)),f}}bu.INSTANCES=new WeakMap;class ia{constructor(e,r){this.firestore=e,this._delegate=r,this._userDataWriter=new Jh(e)}static forPath(e,r,s){if(e.length%2!=0)throw new It("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ia(r,new hi(r._delegate,s,new he(e)))}static forKey(e,r,s){return new ia(r,new hi(r._delegate,s,e))}get id(){return this._delegate.id}get parent(){return new Rd(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Rd(this.firestore,R_(this._delegate,e))}catch(r){throw Io(r,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,He.m9)(e))instanceof hi&&P_(this._delegate,e)}set(e,r){r=dg("DocumentReference.set",r);try{return r?K_(this._delegate,e,r):K_(this._delegate,e)}catch(s){throw Io(s,"setDoc()","DocumentReference.set()")}}update(e,r,...s){try{return 1===arguments.length?sg(this._delegate,e):sg(this._delegate,e,r,...s)}catch(l){throw Io(l,"updateDoc()","DocumentReference.update()")}}delete(){return function Ad(a){return Cd(Er(a.firestore,ri),[new fa(a._key,qn.none())])}(this._delegate)}onSnapshot(...e){const r=xp(e),s=mg(e,l=>new Xh(this.firestore,new Nl(this.firestore._delegate,this._userDataWriter,l._key,l._document,l.metadata,this._delegate.converter)));return Iu(this._delegate,r,s)}get(e){let r;return r="cache"===e?.source?function Hv(a){a=Er(a,hi);const e=Er(a.firestore,ri),r=Ri(e),s=new kl(e);return function Nh(a,e){const r=new or;return a.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return(s=(0,Ie.Z)(function*(f,g,D){try{const M=yield function(Q,ce){const xe=Pt(Q);return xe.persistence.runTransaction("read document","readonly",at=>xe.localDocuments.getDocument(at,ce))}(f,g);M.isFoundDocument()?D.resolve(M):M.isNoDocument()?D.resolve(null):D.reject(new It(tt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(M){const H=vc(M,`Failed to get document '${g} from cache`);D.reject(H)}}),function l(f,g,D){return s.apply(this,arguments)})(yield yd(a),e,r);var s})),r.promise}(r,a._key).then(l=>new Nl(e,s,a._key,l,new Mi(null!==l&&l.hasLocalMutations,!0),a.converter))}(this._delegate):"server"===e?.source?function G_(a){a=Er(a,hi);const e=Er(a.firestore,ri);return Vm(Ri(e),a._key,{source:"server"}).then(r=>Dp(e,a,r))}(this._delegate):function z_(a){a=Er(a,hi);const e=Er(a.firestore,ri);return Vm(Ri(e),a._key).then(r=>Dp(e,a,r))}(this._delegate),r.then(s=>new Xh(this.firestore,new Nl(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(e){return new ia(this.firestore,this._delegate.withConverter(e?bu.getInstance(this.firestore,e):null))}}function Io(a,e,r){return a.message=a.message.replace(e,r),a}function xp(a){for(const e of a)if("object"==typeof e&&!fg(e))return e;return{}}function mg(a,e){var r,s;let l;return l=fg(a[0])?a[0]:fg(a[1])?a[1]:"function"==typeof a[0]?{next:a[0],error:a[1],complete:a[2]}:{next:a[1],error:a[2],complete:a[3]},{next:f=>{l.next&&l.next(e(f))},error:null===(r=l.error)||void 0===r?void 0:r.bind(l),complete:null===(s=l.complete)||void 0===s?void 0:s.bind(l)}}class Xh{constructor(e,r){this._firestore=e,this._delegate=r}get ref(){return new ia(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,r){return this._delegate.get(e,r)}isEqual(e){return wp(this._delegate,e._delegate)}}class ef extends Xh{data(e){const r=this._delegate.data(e);return this._delegate._converter||function Jn(a,e){a||St()}(void 0!==r),r}}class eo{constructor(e,r){this.firestore=e,this._delegate=r,this._userDataWriter=new Jh(e)}where(e,r,s){try{return new eo(this.firestore,Ml(this._delegate,function eg(a,e,r){const s=e,l=Hh("where",a);return Dd._create(l,s,r)}(e,r,s)))}catch(l){throw Io(l,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,r){try{return new eo(this.firestore,Ml(this._delegate,function Fv(a,e="asc"){const r=e,s=Hh("orderBy",a);return tg._create(s,r)}(e,r)))}catch(s){throw Io(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new eo(this.firestore,Ml(this._delegate,function Lv(a){return x_("limit",a),Gh._create("limit",a,"F")}(e)))}catch(r){throw Io(r,"limit()","Query.limit()")}}limitToLast(e){try{return new eo(this.firestore,Ml(this._delegate,function B_(a){return x_("limitToLast",a),Gh._create("limitToLast",a,"L")}(e)))}catch(r){throw Io(r,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new eo(this.firestore,Ml(this._delegate,function Vv(...a){return Ip._create("startAt",a,!0)}(...e)))}catch(r){throw Io(r,"startAt()","Query.startAt()")}}startAfter(...e){try{return new eo(this.firestore,Ml(this._delegate,function aI(...a){return Ip._create("startAfter",a,!1)}(...e)))}catch(r){throw Io(r,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new eo(this.firestore,Ml(this._delegate,function j_(...a){return Wh._create("endBefore",a,!1)}(...e)))}catch(r){throw Io(r,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new eo(this.firestore,Ml(this._delegate,function Ma(...a){return Wh._create("endAt",a,!0)}(...e)))}catch(r){throw Io(r,"endAt()","Query.endAt()")}}isEqual(e){return Hm(this._delegate,e._delegate)}get(e){let r;return r="cache"===e?.source?function $v(a){a=Er(a,Gi);const e=Er(a.firestore,ri),r=Ri(e),s=new kl(e);return function w_(a,e){const r=new or;return a.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return(s=(0,Ie.Z)(function*(f,g,D){try{const M=yield Ta(f,g,!0),H=new ud(g,M.hs),Q=H.da(M.documents),ce=H.applyChanges(Q,!1);D.resolve(ce.snapshot)}catch(M){const H=vc(M,`Failed to execute query '${g} against cache`);D.reject(H)}}),function l(f,g,D){return s.apply(this,arguments)})(yield yd(a),e,r);var s})),r.promise}(r,a._query).then(l=>new Sc(e,s,a,l))}(this._delegate):"server"===e?.source?function zv(a){a=Er(a,Gi);const e=Er(a.firestore,ri),r=Ri(e),s=new kl(e);return cp(r,a._query,{source:"server"}).then(l=>new Sc(e,s,a,l))}(this._delegate):function W_(a){a=Er(a,Gi);const e=Er(a.firestore,ri),r=Ri(e),s=new kl(e);return V_(a._query),cp(r,a._query).then(l=>new Sc(e,s,a,l))}(this._delegate),r.then(s=>new gg(this.firestore,new Sc(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...e){const r=xp(e),s=mg(e,l=>new gg(this.firestore,new Sc(this.firestore._delegate,this._userDataWriter,this._delegate,l._snapshot)));return Iu(this._delegate,r,s)}withConverter(e){return new eo(this.firestore,this._delegate.withConverter(e?bu.getInstance(this.firestore,e):null))}}class sy{constructor(e,r){this._firestore=e,this._delegate=r}get type(){return this._delegate.type}get doc(){return new ef(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class gg{constructor(e,r){this._firestore=e,this._delegate=r}get query(){return new eo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new ef(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(r=>new sy(this._firestore,r))}forEach(e,r){this._delegate.forEach(s=>{e.call(r,new ef(this._firestore,s))})}isEqual(e){return wp(this._delegate,e._delegate)}}class Rd extends eo{constructor(e,r){super(e,r),this.firestore=e,this._delegate=r}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ia(this.firestore,e):null}doc(e){try{return new ia(this.firestore,void 0===e?xl(this._delegate):xl(this._delegate,e))}catch(r){throw Io(r,"doc()","CollectionReference.doc()")}}add(e){return function Fl(a,e){const r=Er(a.firestore,ri),s=xl(a),l=ig(a.converter,e);return Cd(r,[gp(Ac(a.firestore),"addDoc",s._key,l,null!==a.converter,{}).toMutation(s._key,qn.exists(!1))]).then(()=>s)}(this._delegate,e).then(r=>new ia(this.firestore,r))}isEqual(e){return P_(this._delegate,e._delegate)}withConverter(e){return new Rd(this.firestore,this._delegate.withConverter(e?bu.getInstance(this.firestore,e):null))}}function Vl(a){return Er(a,hi)}class _g{constructor(...e){this._delegate=new Ra(...e)}static documentId(){return new _g(dt.keyField().canonicalString())}isEqual(e){return(e=(0,He.m9)(e))instanceof Ra&&this._delegate._internalPath.isEqual(e._internalPath)}}class Tu{constructor(e){this._delegate=e}static serverTimestamp(){const e=function J_(){return new Qm("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Tu(e)}static delete(){const e=function Y_(){return new Vh("deleteField")}();return e._methodName="FieldValue.delete",new Tu(e)}static arrayUnion(...e){const r=function qv(...a){return new wd("arrayUnion",a)}(...e);return r._methodName="FieldValue.arrayUnion",new Tu(r)}static arrayRemove(...e){const r=function X_(...a){return new Uh("arrayRemove",a)}(...e);return r._methodName="FieldValue.arrayRemove",new Tu(r)}static increment(e){const r=function ey(a){return new Ym("increment",a)}(e);return r._methodName="FieldValue.increment",new Tu(r)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const nE={Firestore:pg,GeoPoint:Td,Timestamp:Gn,Blob:Yh,Transaction:iy,WriteBatch:Eo,DocumentReference:ia,DocumentSnapshot:Xh,Query:eo,QueryDocumentSnapshot:ef,QuerySnapshot:gg,CollectionReference:Rd,FieldPath:_g,FieldValue:Tu,setLogLevel:function tE(a){!function bn(a){yt.setLogLevel(a)}(a)},CACHE_SIZE_UNLIMITED:-1};!function iE(a){(function rE(a,e){a.INTERNAL.registerComponent(new De.wA("firestore-compat",r=>{const s=r.getProvider("app-compat").getImmediate(),l=r.getProvider("firestore").getImmediate();return e(s,l)},"PUBLIC").setServiceProps(Object.assign({},nE)))})(a,(e,r)=>new pg(e,r,new eE)),a.registerVersion("@firebase/firestore-compat","0.3.32")}(Jt.Z);var Xa=k(7142);function oy(a,e){return function yg(a,e=_e.z){return new ve.y(r=>{let s;return null!=e?e.schedule(()=>{s=a.onSnapshot({includeMetadataChanges:!0},r)}):s=a.onSnapshot({includeMetadataChanges:!0},r),()=>{s?.()}})}(a,e)}function vg(a,e){return oy(a,e).pipe((0,We.U)(r=>({payload:r,type:"query"})))}class Eg{ref;afs;constructor(e,r){this.ref=e,this.afs=r}set(e,r){return this.ref.set(e,r)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,r){const s=this.ref.collection(e),{ref:l,query:f}=Mp(s,r);return new Tg(l,f,this.afs)}snapshotChanges(){return function ay(a,e){return oy(a,e).pipe((0,ee.O)(void 0),qe(),(0,We.U)(r=>{const[s,l]=r;return l.exists?s?.exists?{payload:l,type:"modified"}:{payload:l,type:"added"}:{payload:l,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Y.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,We.U)(({payload:r})=>e.idField?{...r.data(),[e.idField]:r.id}:r.data()))}get(e){return(0,Pe.D)(this.ref.get(e)).pipe(Y.iC)}}function tf(a,e){return vg(a,e).pipe((0,ee.O)(void 0),qe(),(0,We.U)(r=>{const[s,l]=r,f=l.payload.docChanges(),g=f.map(D=>({type:D.type,payload:D}));return s&&JSON.stringify(s.payload.metadata)!==JSON.stringify(l.payload.metadata)&&l.payload.docs.forEach((D,M)=>{const H=f.find(ce=>ce.doc.ref.isEqual(D.ref)),Q=s?.payload.docs.find(ce=>ce.ref.isEqual(D.ref));H&&JSON.stringify(H.doc.metadata)===JSON.stringify(D.metadata)||!H&&Q&&JSON.stringify(Q.metadata)===JSON.stringify(D.metadata)||g.push({type:"modified",payload:{oldIndex:M,newIndex:M,type:"modified",doc:D}})}),g}))}function nf(a,e,r){return tf(a,r).pipe((0,Ct.R)((s,l)=>function Ig(a,e,r){return e.forEach(s=>{r.indexOf(s.type)>-1&&(a=function cy(a,e){switch(e.type){case"added":if(!a[e.newIndex]||!a[e.newIndex].doc.ref.isEqual(e.doc.ref))return ly(a,e.newIndex,0,e);break;case"modified":if(null==a[e.oldIndex]||a[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const r=a.slice();return r.splice(e.oldIndex,1),r.splice(e.newIndex,0,e),r}return ly(a,e.newIndex,1,e)}break;case"removed":if(a[e.oldIndex]&&a[e.oldIndex].doc.ref.isEqual(e.doc.ref))return ly(a,e.oldIndex,1)}return a}(a,s))}),a}(s,l.map(f=>f.payload),e),[]),(0,ht.x)(),(0,We.U)(s=>s.map(l=>({type:l.type,payload:l}))))}function ly(a,e,r,...s){const l=a.slice();return l.splice(e,r,...s),l}function bg(a){return(!a||0===a.length)&&(a=["added","removed","modified"]),a}class Tg{ref;query;afs;constructor(e,r,s){this.ref=e,this.query=r,this.afs=s}stateChanges(e){let r=tf(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(r=r.pipe((0,We.U)(s=>s.filter(l=>e.indexOf(l.type)>-1)))),r.pipe((0,ee.O)(void 0),qe(),(0,Ot.h)(([s,l])=>l.length>0||!s),(0,We.U)(([,s])=>s),Y.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Ct.R)((r,s)=>[...r,...s],[]))}snapshotChanges(e){const r=bg(e);return nf(this.query,r,this.afs.schedulers.outsideAngular).pipe(Y.iC)}valueChanges(e={}){return vg(this.query,this.afs.schedulers.outsideAngular).pipe((0,We.U)(r=>r.payload.docs.map(s=>e.idField?{...s.data(),[e.idField]:s.id}:s.data())),Y.iC)}get(e){return(0,Pe.D)(this.query.get(e)).pipe(Y.iC)}add(e){return this.ref.add(e)}doc(e){return new Eg(this.ref.doc(e),this.afs)}}class uy{query;afs;constructor(e,r){this.query=e,this.afs=r}stateChanges(e){return e&&0!==e.length?tf(this.query,this.afs.schedulers.outsideAngular).pipe((0,We.U)(r=>r.filter(s=>e.indexOf(s.type)>-1)),(0,Ot.h)(r=>r.length>0),Y.iC):tf(this.query,this.afs.schedulers.outsideAngular).pipe(Y.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Ct.R)((r,s)=>[...r,...s],[]))}snapshotChanges(e){const r=bg(e);return nf(this.query,r,this.afs.schedulers.outsideAngular).pipe(Y.iC)}valueChanges(e={}){return vg(this.query,this.afs.schedulers.outsideAngular).pipe((0,We.U)(s=>s.payload.docs.map(l=>e.idField?{[e.idField]:l.id,...l.data()}:l.data())),Y.iC)}get(e){return(0,Pe.D)(this.query.get(e)).pipe(Y.iC)}}const Rp=new te.OlP("angularfire2.enableFirestorePersistence"),el=new te.OlP("angularfire2.firestore.persistenceSettings"),sE=new te.OlP("angularfire2.firestore.settings"),oE=new te.OlP("angularfire2.firestore.use-emulator");function Mp(a,e=(r=>r)){return{query:e(a),ref:a}}let dy=(()=>{class a{schedulers;firestore;persistenceEnabled$;constructor(r,s,l,f,g,D,M,H,Q,ce,xe,at,Nt,qt,Lt,Dn,Un){this.schedulers=M;const vn=(0,ne.on)(r,D,s),ar=Q;ce&&(0,ye.nw)(vn,D,xe,Nt,qt,Lt,at,Dn),[this.firestore,this.persistenceEnabled$]=(0,ne.cc)(`${vn.name}.firestore`,"AngularFirestore",vn.name,()=>{const Rr=D.runOutsideAngular(()=>vn.firestore());if(f&&Rr.settings(f),ar&&Rr.useEmulator(...ar),l&&!(0,p.PM)(g)){const Ir=()=>{try{return(0,Pe.D)(Rr.enablePersistence(H||void 0).then(()=>!0,()=>!1))}catch($e){return typeof console<"u"&&console.warn($e),(0,le.of)(!1)}};return[Rr,D.runOutsideAngular(Ir)]}return[Rr,(0,le.of)(!1)]},[f,ar,l])}collection(r,s){let l;l="string"==typeof r?this.firestore.collection(r):r;const{ref:f,query:g}=Mp(l,s),D=this.schedulers.ngZone.run(()=>f);return new Tg(D,g,this)}collectionGroup(r,s){const l=s||(g=>g),f=this.firestore.collectionGroup(r);return new uy(l(f),this)}doc(r){let s;s="string"==typeof r?this.firestore.doc(r):r;const l=this.schedulers.ngZone.run(()=>s);return new Eg(l,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(s){return new(s||a)(te.LFG(ne.Dh),te.LFG(ne.xv,8),te.LFG(Rp,8),te.LFG(sE,8),te.LFG(te.Lbi),te.LFG(te.R0b),te.LFG(Y.HU),te.LFG(el,8),te.LFG(oE,8),te.LFG(ye.zQ,8),te.LFG(ye.Qv,8),te.LFG(ye.L6,8),te.LFG(ye._Q,8),te.LFG(ye.rT,8),te.LFG(ye.lh,8),te.LFG(ye.f7,8),te.LFG(Y.Rf,8))};static \u0275prov=te.Yz7({token:a,factory:a.\u0275fac,providedIn:"any"})}return a})(),hy=(()=>{class a{constructor(){Xa.Z.registerVersion("angularfire",Y.q4.full,"fst-compat")}static enablePersistence(r){return{ngModule:a,providers:[{provide:Rp,useValue:!0},{provide:el,useValue:r}]}}static \u0275fac=function(s){return new(s||a)};static \u0275mod=te.oAB({type:a});static \u0275inj=te.cJS({providers:[dy]})}return a})()},7217:(Gt,Ue,k)=>{k.d(Ue,{Dh:()=>Pe,GT:()=>_e,cc:()=>We,hO:()=>qe,on:()=>ee,pX:()=>ye,xv:()=>le});var p=k(5879),te=k(8326),Y=k(7142);const ne=["ngOnDestroy"],ye=(Tt,Jt,Ie,ue={})=>new Proxy(Tt,{get:(De,me)=>Ie.runOutsideAngular(()=>{if(Tt[me])return ue?.spy?.get&&ue.spy.get(me,Tt[me]),Tt[me];if(ne.indexOf(me)>-1)return()=>{};const He=Jt.toPromise().then(Ye=>{const Et=Ye?.[me];return"function"==typeof Et?Et.bind(Ye):Et?.then?Et.then(Ut=>Ie.run(()=>Ut)):Ie.run(()=>Et)});return new Proxy(()=>{},{get:(Ye,Et)=>He[Et],apply:(Ye,Et,Ut)=>He.then(nt=>{const an=nt?.(...Ut);return ue?.spy?.apply&&ue.spy.apply(me,Ut,an),an})})})}),_e=(Tt,Jt)=>{Jt.forEach(Ie=>{Object.getOwnPropertyNames(Ie.prototype||Ie).forEach(ue=>{Object.defineProperty(Tt.prototype,ue,Object.getOwnPropertyDescriptor(Ie.prototype||Ie,ue))})})};class ve{constructor(Jt){return Jt}}const Pe=new p.OlP("angularfire2.app.options"),le=new p.OlP("angularfire2.app.name");function ee(Tt,Jt,Ie){const De="object"==typeof Ie&&Ie||{};De.name=De.name||"string"==typeof Ie&&Ie||"[DEFAULT]";const He=Y.Z.apps.filter(Ye=>Ye&&Ye.name===De.name)[0]||Jt.runOutsideAngular(()=>Y.Z.initializeApp(Tt,De));try{if(JSON.stringify(Tt)!==JSON.stringify(He.options)){const Ye=!!module.hot;ae("error",`${He.name} Firebase App already initialized with different options${Ye?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new ve(He)}const ae=(Tt,...Jt)=>{(0,p.X6Q)()&&typeof console<"u"&&console[Tt](...Jt)},Ee={provide:ve,useFactory:ee,deps:[Pe,p.R0b,[new p.FiY,le]]};let qe=(()=>{class Tt{static initializeApp(Ie,ue){return{ngModule:Tt,providers:[{provide:Pe,useValue:Ie},{provide:le,useValue:ue}]}}constructor(Ie){Y.Z.registerVersion("angularfire",te.q4.full,"core"),Y.Z.registerVersion("angularfire",te.q4.full,"app-compat"),Y.Z.registerVersion("angular",p.q4F.full,Ie.toString())}static \u0275fac=function(ue){return new(ue||Tt)(p.LFG(p.Lbi))};static \u0275mod=p.oAB({type:Tt});static \u0275inj=p.cJS({providers:[Ee]})}return Tt})();function We(Tt,Jt,Ie,ue,De){const[,me,He]=globalThis.\u0275AngularfireInstanceCache.find(Ye=>Ye[0]===Tt)||[];if(me)return function Ct(Tt,Jt){try{return Tt.toString()===Jt.toString()}catch{return Tt===Jt}}(De,He)||(Ot("error",`${Jt} was already initialized on the ${Ie} Firebase App with different settings.${ht?" You may need to reload as Firebase is not HMR aware.":""}`),Ot("warn",{is:De,was:He})),me;{const Ye=ue();return globalThis.\u0275AngularfireInstanceCache.push([Tt,Ye,De]),Ye}}const ht=typeof module<"u"&&!!module.hot,Ot=(Tt,...Jt)=>{(0,p.X6Q)()&&typeof console<"u"&&console[Tt](...Jt)};globalThis.\u0275AngularfireInstanceCache||=[]},8326:(Gt,Ue,k)=>{k.d(Ue,{q4:()=>Ct,iC:()=>dn,HU:()=>He,Rf:()=>Jt});var p=k(5879),te=k(534);(0,te.registerVersion)("firebase","10.12.2","app");var ye=k(1954),ve=k(2631);const le=new class Pe extends ve.v{}(class _e extends ye.o{constructor(En,Ne){super(En,Ne),this.scheduler=En,this.work=Ne}schedule(En,Ne=0){return Ne>0?super.schedule(En,Ne):(this.delay=Ne,this.state=En,this.scheduler.flush(this),this)}execute(En,Ne){return Ne>0||this.closed?super.execute(En,Ne):this._execute(En,Ne)}requestAsyncId(En,Ne,Be=0){return null!=Be&&Be>0||null==Be&&this.delay>0?super.requestAsyncId(En,Ne,Be):(En.flush(this),0)}});var ae=k(6321),Ee=k(9397),qe=k(5137),We=k(3093);const Ct=new p.GfV("ANGULARFIRE2_VERSION");class Jt{constructor(){return((hn,En)=>{const Ne=(0,te.getApps)(),Be=[];return Ne.forEach(ct=>{ct.container.getProvider(hn).instances.forEach(wt=>{Be.includes(wt)||Be.push(wt)})}),Be})(Ie)}}const Ie="app-check";function ue(){}class De{zone;delegate;constructor(En,Ne=le){this.zone=En,this.delegate=Ne}now(){return this.delegate.now()}schedule(En,Ne,Be){const ct=this.zone;return this.delegate.schedule(function(wt){ct.runGuarded(()=>{En.apply(this,[wt])})},Ne,Be)}}class me{zone;task=null;constructor(En){this.zone=En}call(En,Ne){const Be=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ue,{},ue,ue)),Ne.pipe((0,Ee.b)({next:Be,complete:Be,error:Be})).subscribe(En).add(Be)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let He=(()=>{class hn{ngZone;outsideAngular;insideAngular;constructor(Ne){this.ngZone=Ne,this.outsideAngular=Ne.runOutsideAngular(()=>new De(Zone.current)),this.insideAngular=Ne.run(()=>new De(Zone.current,ae.z)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(Be){return new(Be||hn)(p.LFG(p.R0b))};static \u0275prov=p.Yz7({token:hn,factory:hn.\u0275fac,providedIn:"root"})}return hn})();function dn(hn){return function An(hn){return function(Ne){return(Ne=Ne.lift(new me(hn.ngZone))).pipe((0,qe.R)(hn.outsideAngular),(0,We.Q)(hn.insideAngular))}}(function Ye(){const hn=globalThis.\u0275AngularFireScheduler;if(!hn)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return hn}())(hn)}},3680:(Gt,Ue,k)=>{k.d(Ue,{rD:()=>sr,K7:()=>At,HF:()=>gr,BQ:()=>me,ey:()=>Pr,Ng:()=>dt,Fq:()=>de,si:()=>xn,CB:()=>ln,jH:()=>$r,pj:()=>nt,Kr:()=>an,Id:()=>Ut,FD:()=>An,sb:()=>dn});var p=k(5879),te=k(4300),Y=k(9388),ye=k(6814),_e=k(2831),ve=k(2495),Pe=k(8645),le=k(6028);const Ee=["text"];function qe(U,V){if(1&U&&p._UZ(0,"mat-pseudo-checkbox",6),2&U){const R=p.oxw();p.Q6J("disabled",R.disabled)("state",R.selected?"checked":"unchecked")}}function We(U,V){if(1&U&&p._UZ(0,"mat-pseudo-checkbox",7),2&U){const R=p.oxw();p.Q6J("disabled",R.disabled)}}function Ct(U,V){if(1&U&&(p.TgZ(0,"span",8),p._uU(1),p.qZA()),2&U){const R=p.oxw();p.xp6(1),p.hij("(",R.group.label,")")}}const ht=[[["mat-icon"]],"*"],Ot=["mat-icon","*"],De=new p.OlP("mat-sanity-checks",{providedIn:"root",factory:function ue(){return!0}});let me=(()=>{class U{constructor(R,F,se){this._sanityChecks=F,this._document=se,this._hasDoneGlobalChecks=!1,R._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(R){return!(0,_e.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[R])}static#e=this.\u0275fac=function(F){return new(F||U)(p.LFG(te.qm),p.LFG(De,8),p.LFG(ye.K0))};static#t=this.\u0275mod=p.oAB({type:U});static#n=this.\u0275inj=p.cJS({imports:[Y.vT,Y.vT]})}return U})();function Ut(U){return class extends U{get disabled(){return this._disabled}set disabled(V){this._disabled=(0,ve.Ig)(V)}constructor(...V){super(...V),this._disabled=!1}}}function nt(U,V){return class extends U{get color(){return this._color}set color(R){const F=R||this.defaultColor;F!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),F&&this._elementRef.nativeElement.classList.add(`mat-${F}`),this._color=F)}constructor(...R){super(...R),this.defaultColor=V,this.color=V}}}function an(U){return class extends U{get disableRipple(){return this._disableRipple}set disableRipple(V){this._disableRipple=(0,ve.Ig)(V)}constructor(...V){super(...V),this._disableRipple=!1}}}function dn(U,V=0){return class extends U{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(R){this._tabIndex=null!=R?(0,ve.su)(R):this.defaultTabIndex}constructor(...R){super(...R),this._tabIndex=V,this.defaultTabIndex=V}}}function An(U){return class extends U{updateErrorState(){const V=this.errorState,Ze=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);Ze!==V&&(this.errorState=Ze,this.stateChanges.next())}constructor(...V){super(...V),this.errorState=!1}}}let sr=(()=>{class U{isErrorState(R,F){return!!(R&&R.invalid&&(R.touched||F&&F.submitted))}static#e=this.\u0275fac=function(F){return new(F||U)};static#t=this.\u0275prov=p.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"})}return U})();class In{constructor(V,R,F,se=!1){this._renderer=V,this.element=R,this.config=F,this._animationForciblyDisabledThroughCss=se,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const St=(0,_e.i$)({passive:!0,capture:!0});class Rt{constructor(){this._events=new Map,this._delegateEventHandler=V=>{const R=(0,_e.sA)(V);R&&this._events.get(V.type)?.forEach((F,se)=>{(se===R||se.contains(R))&&F.forEach(Ze=>Ze.handleEvent(V))})}}addHandler(V,R,F,se){const Ze=this._events.get(R);if(Ze){const Bt=Ze.get(F);Bt?Bt.add(se):Ze.set(F,new Set([se]))}else this._events.set(R,new Map([[F,new Set([se])]])),V.runOutsideAngular(()=>{document.addEventListener(R,this._delegateEventHandler,St)})}removeHandler(V,R,F){const se=this._events.get(V);if(!se)return;const Ze=se.get(R);Ze&&(Ze.delete(F),0===Ze.size&&se.delete(R),0===se.size&&(this._events.delete(V),document.removeEventListener(V,this._delegateEventHandler,St)))}}const Jn={enterDuration:225,exitDuration:150},tt=(0,_e.i$)({passive:!0,capture:!0}),It=["mousedown","touchstart"],or=["mouseup","mouseleave","touchend","touchcancel"];class Nr{static#e=this._eventManager=new Rt;constructor(V,R,F,se){this._target=V,this._ngZone=R,this._platform=se,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,se.isBrowser&&(this._containerElement=(0,ve.fI)(F))}fadeInRipple(V,R,F={}){const se=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),Ze={...Jn,...F.animation};F.centered&&(V=se.left+se.width/2,R=se.top+se.height/2);const Bt=F.radius||function Tr(U,V,R){const F=Math.max(Math.abs(U-R.left),Math.abs(U-R.right)),se=Math.max(Math.abs(V-R.top),Math.abs(V-R.bottom));return Math.sqrt(F*F+se*se)}(V,R,se),Yt=V-se.left,Sn=R-se.top,be=Ze.enterDuration,en=document.createElement("div");en.classList.add("mat-ripple-element"),en.style.left=Yt-Bt+"px",en.style.top=Sn-Bt+"px",en.style.height=2*Bt+"px",en.style.width=2*Bt+"px",null!=F.color&&(en.style.backgroundColor=F.color),en.style.transitionDuration=`${be}ms`,this._containerElement.appendChild(en);const Zn=window.getComputedStyle(en),Ae=Zn.transitionDuration,Re="none"===Zn.transitionProperty||"0s"===Ae||"0s, 0s"===Ae||0===se.width&&0===se.height,mt=new In(this,en,F,Re);en.style.transform="scale3d(1, 1, 1)",mt.state=0,F.persistent||(this._mostRecentTransientRipple=mt);let Ft=null;return!Re&&(be||Ze.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Kt=()=>this._finishRippleTransition(mt),zt=()=>this._destroyRipple(mt);en.addEventListener("transitionend",Kt),en.addEventListener("transitioncancel",zt),Ft={onTransitionEnd:Kt,onTransitionCancel:zt}}),this._activeRipples.set(mt,Ft),(Re||!be)&&this._finishRippleTransition(mt),mt}fadeOutRipple(V){if(2===V.state||3===V.state)return;const R=V.element,F={...Jn,...V.config.animation};R.style.transitionDuration=`${F.exitDuration}ms`,R.style.opacity="0",V.state=2,(V._animationForciblyDisabledThroughCss||!F.exitDuration)&&this._finishRippleTransition(V)}fadeOutAll(){this._getActiveRipples().forEach(V=>V.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(V=>{V.config.persistent||V.fadeOut()})}setupTriggerEvents(V){const R=(0,ve.fI)(V);!this._platform.isBrowser||!R||R===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=R,It.forEach(F=>{Nr._eventManager.addHandler(this._ngZone,F,R,this)}))}handleEvent(V){"mousedown"===V.type?this._onMousedown(V):"touchstart"===V.type?this._onTouchStart(V):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{or.forEach(R=>{this._triggerElement.addEventListener(R,this,tt)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(V){0===V.state?this._startFadeOutTransition(V):2===V.state&&this._destroyRipple(V)}_startFadeOutTransition(V){const R=V===this._mostRecentTransientRipple,{persistent:F}=V.config;V.state=1,!F&&(!R||!this._isPointerDown)&&V.fadeOut()}_destroyRipple(V){const R=this._activeRipples.get(V)??null;this._activeRipples.delete(V),this._activeRipples.size||(this._containerRect=null),V===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),V.state=3,null!==R&&(V.element.removeEventListener("transitionend",R.onTransitionEnd),V.element.removeEventListener("transitioncancel",R.onTransitionCancel)),V.element.remove()}_onMousedown(V){const R=(0,te.X6)(V),F=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!R&&!F&&(this._isPointerDown=!0,this.fadeInRipple(V.clientX,V.clientY,this._target.rippleConfig))}_onTouchStart(V){if(!this._target.rippleDisabled&&!(0,te.yG)(V)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const R=V.changedTouches;if(R)for(let F=0;F<R.length;F++)this.fadeInRipple(R[F].clientX,R[F].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(V=>{!V.config.persistent&&(1===V.state||V.config.terminateOnPointerUp&&0===V.state)&&V.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const V=this._triggerElement;V&&(It.forEach(R=>Nr._eventManager.removeHandler(R,V,this)),this._pointerUpEventsRegistered&&or.forEach(R=>V.removeEventListener(R,this,tt)))}}const fn=new p.OlP("mat-ripple-global-options");let wn=(()=>{class U{get disabled(){return this._disabled}set disabled(R){R&&this.fadeOutAllNonPersistent(),this._disabled=R,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(R){this._trigger=R,this._setupTriggerEventsIfEnabled()}constructor(R,F,se,Ze,Bt){this._elementRef=R,this._animationMode=Bt,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=Ze||{},this._rippleRenderer=new Nr(this,F,R,se)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(R,F=0,se){return"number"==typeof R?this._rippleRenderer.fadeInRipple(R,F,{...this.rippleConfig,...se}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...R})}static#e=this.\u0275fac=function(F){return new(F||U)(p.Y36(p.SBq),p.Y36(p.R0b),p.Y36(_e.t4),p.Y36(fn,8),p.Y36(p.QbO,8))};static#t=this.\u0275dir=p.lG2({type:U,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(F,se){2&F&&p.ekj("mat-ripple-unbounded",se.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return U})(),xn=(()=>{class U{static#e=this.\u0275fac=function(F){return new(F||U)};static#t=this.\u0275mod=p.oAB({type:U});static#n=this.\u0275inj=p.cJS({imports:[me,me]})}return U})(),tr=(()=>{class U{constructor(R){this._animationMode=R,this.state="unchecked",this.disabled=!1,this.appearance="full"}static#e=this.\u0275fac=function(F){return new(F||U)(p.Y36(p.QbO,8))};static#t=this.\u0275cmp=p.Xpm({type:U,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(F,se){2&F&&p.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===se.state)("mat-pseudo-checkbox-checked","checked"===se.state)("mat-pseudo-checkbox-disabled",se.disabled)("mat-pseudo-checkbox-minimal","minimal"===se.appearance)("mat-pseudo-checkbox-full","full"===se.appearance)("_mat-animation-noopable","NoopAnimations"===se._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(F,se){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-full{border:2px solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return U})(),Cn=(()=>{class U{static#e=this.\u0275fac=function(F){return new(F||U)};static#t=this.\u0275mod=p.oAB({type:U});static#n=this.\u0275inj=p.cJS({imports:[me]})}return U})();const gr=new p.OlP("MAT_OPTION_PARENT_COMPONENT"),At=new p.OlP("MatOptgroup");let zn=0;class Gn{constructor(V,R=!1){this.source=V,this.isUserInput=R}}let Ht=(()=>{class U{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(R){this._disabled=(0,ve.Ig)(R)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(R,F,se,Ze){this._element=R,this._changeDetectorRef=F,this._parent=se,this.group=Ze,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+zn++,this.onSelectionChange=new p.vpe,this._stateChanges=new Pe.x}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(R=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),R&&this._emitSelectionChangeEvent())}deselect(R=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),R&&this._emitSelectionChangeEvent())}focus(R,F){const se=this._getHostElement();"function"==typeof se.focus&&se.focus(F)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(R){(R.keyCode===le.K5||R.keyCode===le.L_)&&!(0,le.Vb)(R)&&(this._selectViaInteraction(),R.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const R=this.viewValue;R!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=R)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(R=!1){this.onSelectionChange.emit(new Gn(this,R))}static#e=this.\u0275fac=function(F){p.$Z()};static#t=this.\u0275dir=p.lG2({type:U,viewQuery:function(F,se){if(1&F&&p.Gf(Ee,7),2&F){let Ze;p.iGM(Ze=p.CRH())&&(se._text=Ze.first)}},inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}})}return U})(),Pr=(()=>{class U extends Ht{constructor(R,F,se,Ze){super(R,F,se,Ze)}static#e=this.\u0275fac=function(F){return new(F||U)(p.Y36(p.SBq),p.Y36(p.sBO),p.Y36(gr,8),p.Y36(At,8))};static#t=this.\u0275cmp=p.Xpm({type:U,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(F,se){1&F&&p.NdJ("click",function(){return se._selectViaInteraction()})("keydown",function(Bt){return se._handleKeydown(Bt)}),2&F&&(p.Ikx("id",se.id),p.uIk("aria-selected",se.selected)("aria-disabled",se.disabled.toString()),p.ekj("mdc-list-item--selected",se.selected)("mat-mdc-option-multiple",se.multiple)("mat-mdc-option-active",se.active)("mdc-list-item--disabled",se.disabled))},exportAs:["matOption"],features:[p.qOj],ngContentSelectors:Ot,decls:8,vars:5,consts:[["class","mat-mdc-option-pseudo-checkbox","aria-hidden","true",3,"disabled","state",4,"ngIf"],[1,"mdc-list-item__primary-text"],["text",""],["class","mat-mdc-option-pseudo-checkbox","state","checked","aria-hidden","true","appearance","minimal",3,"disabled",4,"ngIf"],["class","cdk-visually-hidden",4,"ngIf"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"]],template:function(F,se){1&F&&(p.F$t(ht),p.YNc(0,qe,1,2,"mat-pseudo-checkbox",0),p.Hsn(1),p.TgZ(2,"span",1,2),p.Hsn(4,1),p.qZA(),p.YNc(5,We,1,1,"mat-pseudo-checkbox",3),p.YNc(6,Ct,2,1,"span",4),p._UZ(7,"div",5)),2&F&&(p.Q6J("ngIf",se.multiple),p.xp6(5),p.Q6J("ngIf",!se.multiple&&se.selected&&!se.hideSingleSelectionIndicator),p.xp6(1),p.Q6J("ngIf",se.group&&se.group._inert),p.xp6(1),p.Q6J("matRippleTrigger",se._getHostElement())("matRippleDisabled",se.disabled||se.disableRipple))},dependencies:[wn,ye.O5,tr],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return U})();function ln(U,V,R){if(R.length){let F=V.toArray(),se=R.toArray(),Ze=0;for(let Bt=0;Bt<U+1;Bt++)F[Bt].group&&F[Bt].group===se[Ze]&&Ze++;return Ze}return 0}function $r(U,V,R,F){return U<R?U:U+V>R+F?Math.max(0,U-F+V):R}let dt=(()=>{class U{static#e=this.\u0275fac=function(F){return new(F||U)};static#t=this.\u0275mod=p.oAB({type:U});static#n=this.\u0275inj=p.cJS({imports:[xn,ye.ez,me,Cn]})}return U})();const he={capture:!0},X=["focus","click","mouseenter","touchstart"],Se="mat-ripple-loader-uninitialized",oe="mat-ripple-loader-class-name",Ge="mat-ripple-loader-centered",lt="mat-ripple-loader-disabled";let de=(()=>{class U{constructor(){this._document=(0,p.f3M)(ye.K0,{optional:!0}),this._animationMode=(0,p.f3M)(p.QbO,{optional:!0}),this._globalRippleOptions=(0,p.f3M)(fn,{optional:!0}),this._platform=(0,p.f3M)(_e.t4),this._ngZone=(0,p.f3M)(p.R0b),this._hosts=new Map,this._onInteraction=R=>{if(!(R.target instanceof HTMLElement))return;const se=R.target.closest(`[${Se}]`);se&&this._createRipple(se)},this._ngZone.runOutsideAngular(()=>{for(const R of X)this._document?.addEventListener(R,this._onInteraction,he)})}ngOnDestroy(){const R=this._hosts.keys();for(const F of R)this.destroyRipple(F);for(const F of X)this._document?.removeEventListener(F,this._onInteraction,he)}configureRipple(R,F){R.setAttribute(Se,""),(F.className||!R.hasAttribute(oe))&&R.setAttribute(oe,F.className||""),F.centered&&R.setAttribute(Ge,""),F.disabled&&R.setAttribute(lt,"")}getRipple(R){return this._hosts.get(R)||this._createRipple(R)}setDisabled(R,F){const se=this._hosts.get(R);se?se.disabled=F:F?R.setAttribute(lt,""):R.removeAttribute(lt)}_createRipple(R){if(!this._document)return;const F=this._hosts.get(R);if(F)return F;R.querySelector(".mat-ripple")?.remove();const se=this._document.createElement("span");se.classList.add("mat-ripple",R.getAttribute(oe)),R.append(se);const Ze=new wn(new p.SBq(se),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return Ze._isInitialized=!0,Ze.trigger=R,Ze.centered=R.hasAttribute(Ge),Ze.disabled=R.hasAttribute(lt),this.attachRipple(R,Ze),Ze}attachRipple(R,F){R.removeAttribute(Se),this._hosts.set(R,F)}destroyRipple(R){const F=this._hosts.get(R);F&&(F.ngOnDestroy(),this._hosts.delete(R))}static#e=this.\u0275fac=function(F){return new(F||U)};static#t=this.\u0275prov=p.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"})}return U})()},9116:(Gt,Ue,k)=>{k.d(Ue,{G_:()=>Fr,o2:()=>zn,KE:()=>dt,Eo:()=>ir,lN:()=>he,hX:()=>Zt});var p=k(5879),te=k(9388),Y=k(2831),ne=k(7394),ye=k(8645),_e=k(3019),ve=k(9773),Pe=k(5592),le=k(2181),ee=k(940);class Ee{constructor(Se){this._box=Se,this._destroyed=new ye.x,this._resizeSubject=new ye.x,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(oe=>this._resizeSubject.next(oe)))}observe(Se){return this._elementObservables.has(Se)||this._elementObservables.set(Se,new Pe.y(oe=>{const Ge=this._resizeSubject.subscribe(oe);return this._resizeObserver?.observe(Se,{box:this._box}),()=>{this._resizeObserver?.unobserve(Se),Ge.unsubscribe(),this._elementObservables.delete(Se)}}).pipe((0,le.h)(oe=>oe.some(Ge=>Ge.target===Se)),(0,ee.d)({bufferSize:1,refCount:!0}),(0,ve.R)(this._destroyed))),this._elementObservables.get(Se)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let qe=(()=>{class X{constructor(){this._observers=new Map,this._ngZone=(0,p.f3M)(p.R0b)}ngOnDestroy(){for(const[,oe]of this._observers)oe.destroy();this._observers.clear()}observe(oe,Ge){const lt=Ge?.box||"content-box";return this._observers.has(lt)||this._observers.set(lt,new Ee(lt)),this._observers.get(lt).observe(oe)}static#e=this.\u0275fac=function(Ge){return new(Ge||X)};static#t=this.\u0275prov=p.Yz7({token:X,factory:X.\u0275fac,providedIn:"root"})}return X})();var We=k(2495),Ct=k(6825),ht=k(6814);let Ot=(()=>{class X{create(oe){return typeof MutationObserver>"u"?null:new MutationObserver(oe)}static#e=this.\u0275fac=function(Ge){return new(Ge||X)};static#t=this.\u0275prov=p.Yz7({token:X,factory:X.\u0275fac,providedIn:"root"})}return X})(),Ie=(()=>{class X{static#e=this.\u0275fac=function(Ge){return new(Ge||X)};static#t=this.\u0275mod=p.oAB({type:X});static#n=this.\u0275inj=p.cJS({providers:[Ot]})}return X})();var ue=k(3680);const De=["notch"],me=["matFormFieldNotchedOutline",""],He=["*"],Ye=["textField"],Et=["iconPrefixContainer"],Ut=["textPrefixContainer"];function nt(X,Se){1&X&&p._UZ(0,"span",19)}function an(X,Se){if(1&X&&(p.TgZ(0,"label",17),p.Hsn(1,1),p.YNc(2,nt,1,0,"span",18),p.qZA()),2&X){const oe=p.oxw(2);p.Q6J("floating",oe._shouldLabelFloat())("monitorResize",oe._hasOutline())("id",oe._labelId),p.uIk("for",oe._control.id),p.xp6(2),p.Q6J("ngIf",!oe.hideRequiredMarker&&oe._control.required)}}function dn(X,Se){if(1&X&&p.YNc(0,an,3,5,"label",16),2&X){const oe=p.oxw();p.Q6J("ngIf",oe._hasFloatingLabel())}}function An(X,Se){1&X&&p._UZ(0,"div",20)}function br(X,Se){}function Vn(X,Se){if(1&X&&p.YNc(0,br,0,0,"ng-template",22),2&X){p.oxw(2);const oe=p.MAs(1);p.Q6J("ngTemplateOutlet",oe)}}function hn(X,Se){if(1&X&&(p.TgZ(0,"div",21),p.YNc(1,Vn,1,1,"ng-template",9),p.qZA()),2&X){const oe=p.oxw();p.Q6J("matFormFieldNotchedOutlineOpen",oe._shouldLabelFloat()),p.xp6(1),p.Q6J("ngIf",!oe._forceDisplayInfixLabel())}}function En(X,Se){1&X&&(p.TgZ(0,"div",23,24),p.Hsn(2,2),p.qZA())}function Ne(X,Se){1&X&&(p.TgZ(0,"div",25,26),p.Hsn(2,3),p.qZA())}function Be(X,Se){}function ct(X,Se){if(1&X&&p.YNc(0,Be,0,0,"ng-template",22),2&X){p.oxw();const oe=p.MAs(1);p.Q6J("ngTemplateOutlet",oe)}}function rt(X,Se){1&X&&(p.TgZ(0,"div",27),p.Hsn(1,4),p.qZA())}function wt(X,Se){1&X&&(p.TgZ(0,"div",28),p.Hsn(1,5),p.qZA())}function ut(X,Se){1&X&&p._UZ(0,"div",29)}function jt(X,Se){if(1&X&&(p.TgZ(0,"div",30),p.Hsn(1,6),p.qZA()),2&X){const oe=p.oxw();p.Q6J("@transitionMessages",oe._subscriptAnimationState)}}function yt(X,Se){if(1&X&&(p.TgZ(0,"mat-hint",34),p._uU(1),p.qZA()),2&X){const oe=p.oxw(2);p.Q6J("id",oe._hintLabelId),p.xp6(1),p.Oqu(oe.hintLabel)}}function sr(X,Se){if(1&X&&(p.TgZ(0,"div",31),p.YNc(1,yt,2,2,"mat-hint",32),p.Hsn(2,7),p._UZ(3,"div",33),p.Hsn(4,8),p.qZA()),2&X){const oe=p.oxw();p.Q6J("@transitionMessages",oe._subscriptAnimationState),p.xp6(1),p.Q6J("ngIf",oe.hintLabel)}}const bn=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],st=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let Zt=(()=>{class X{static#e=this.\u0275fac=function(Ge){return new(Ge||X)};static#t=this.\u0275dir=p.lG2({type:X,selectors:[["mat-label"]]})}return X})();const In=new p.OlP("MatError");let Rt=0,Jn=(()=>{class X{constructor(){this.align="start",this.id="mat-mdc-hint-"+Rt++}static#e=this.\u0275fac=function(Ge){return new(Ge||X)};static#t=this.\u0275dir=p.lG2({type:X,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(Ge,lt){2&Ge&&(p.Ikx("id",lt.id),p.uIk("align",null),p.ekj("mat-mdc-form-field-hint-end","end"===lt.align))},inputs:{align:"align",id:"id"}})}return X})();const Pt=new p.OlP("MatPrefix"),It=new p.OlP("MatSuffix"),Nr=new p.OlP("FloatingLabelParent");let Tr=(()=>{class X{get floating(){return this._floating}set floating(oe){this._floating=oe,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(oe){this._monitorResize=oe,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(oe){this._elementRef=oe,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,p.f3M)(qe),this._ngZone=(0,p.f3M)(p.R0b),this._parent=(0,p.f3M)(Nr),this._resizeSubscription=new ne.w0}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function fn(X){if(null!==X.offsetParent)return X.scrollWidth;const oe=X.cloneNode(!0);oe.style.setProperty("position","absolute"),oe.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(oe);const Ge=oe.scrollWidth;return oe.remove(),Ge}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(Ge){return new(Ge||X)(p.Y36(p.SBq))};static#t=this.\u0275dir=p.lG2({type:X,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(Ge,lt){2&Ge&&p.ekj("mdc-floating-label--float-above",lt.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return X})();const wn="mdc-line-ripple--active",xn="mdc-line-ripple--deactivating";let tr=(()=>{class X{constructor(oe,Ge){this._elementRef=oe,this._handleTransitionEnd=lt=>{const de=this._elementRef.nativeElement.classList,U=de.contains(xn);"opacity"===lt.propertyName&&U&&de.remove(wn,xn)},Ge.runOutsideAngular(()=>{oe.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const oe=this._elementRef.nativeElement.classList;oe.remove(xn),oe.add(wn)}deactivate(){this._elementRef.nativeElement.classList.add(xn)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(Ge){return new(Ge||X)(p.Y36(p.SBq),p.Y36(p.R0b))};static#t=this.\u0275dir=p.lG2({type:X,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return X})(),Cn=(()=>{class X{constructor(oe,Ge){this._elementRef=oe,this._ngZone=Ge,this.open=!1}ngAfterViewInit(){const oe=this._elementRef.nativeElement.querySelector(".mdc-floating-label");oe?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(oe.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>oe.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(oe){this._notch.nativeElement.style.width=this.open&&oe?`calc(${oe}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(Ge){return new(Ge||X)(p.Y36(p.SBq),p.Y36(p.R0b))};static#t=this.\u0275cmp=p.Xpm({type:X,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(Ge,lt){if(1&Ge&&p.Gf(De,5),2&Ge){let de;p.iGM(de=p.CRH())&&(lt._notch=de.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(Ge,lt){2&Ge&&p.ekj("mdc-notched-outline--notched",lt.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:me,ngContentSelectors:He,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(Ge,lt){1&Ge&&(p.F$t(),p._UZ(0,"div",0),p.TgZ(1,"div",1,2),p.Hsn(3),p.qZA(),p._UZ(4,"div",3))},encapsulation:2,changeDetection:0})}return X})();const gr={transitionMessages:(0,Ct.X$)("transitionMessages",[(0,Ct.SB)("enter",(0,Ct.oB)({opacity:1,transform:"translateY(0%)"})),(0,Ct.eR)("void => enter",[(0,Ct.oB)({opacity:0,transform:"translateY(-5px)"}),(0,Ct.jt)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let ir=(()=>{class X{static#e=this.\u0275fac=function(Ge){return new(Ge||X)};static#t=this.\u0275dir=p.lG2({type:X})}return X})();const Fr=new p.OlP("MatFormField"),zn=new p.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let Gn=0,dt=(()=>{class X{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(oe){this._hideRequiredMarker=(0,We.Ig)(oe)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(oe){oe!==this._floatLabel&&(this._floatLabel=oe,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(oe){const Ge=this._appearance;this._appearance=oe||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==Ge&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(oe){this._subscriptSizing=oe||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(oe){this._hintLabel=oe,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(oe){this._explicitFormFieldControl=oe}constructor(oe,Ge,lt,de,U,V,R,F){this._elementRef=oe,this._changeDetectorRef=Ge,this._ngZone=lt,this._dir=de,this._platform=U,this._defaults=V,this._animationMode=R,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+Gn++,this._hintLabelId="mat-mdc-hint-"+Gn++,this._subscriptAnimationState="",this._destroyed=new ye.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,V&&(V.appearance&&(this.appearance=V.appearance),this._hideRequiredMarker=!!V?.hideRequiredMarker,V.color&&(this.color=V.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const oe=this._control;oe.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${oe.controlType}`),oe.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),oe.ngControl&&oe.ngControl.valueChanges&&oe.ngControl.valueChanges.pipe((0,ve.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(oe=>!oe._isText),this._hasTextPrefix=!!this._prefixChildren.find(oe=>oe._isText),this._hasIconSuffix=!!this._suffixChildren.find(oe=>!oe._isText),this._hasTextSuffix=!!this._suffixChildren.find(oe=>oe._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,_e.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,ve.R)(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe((0,ve.R)(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(oe){const Ge=this._control?this._control.ngControl:null;return Ge&&Ge[oe]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let oe=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&oe.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const Ge=this._hintChildren?this._hintChildren.find(de=>"start"===de.align):null,lt=this._hintChildren?this._hintChildren.find(de=>"end"===de.align):null;Ge?oe.push(Ge.id):this._hintLabel&&oe.push(this._hintLabelId),lt&&oe.push(lt.id)}else this._errorChildren&&oe.push(...this._errorChildren.map(Ge=>Ge.id));this._control.setDescribedByIds(oe)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const oe=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(oe.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const Ge=this._iconPrefixContainer?.nativeElement,lt=this._textPrefixContainer?.nativeElement,de=Ge?.getBoundingClientRect().width??0,U=lt?.getBoundingClientRect().width??0;oe.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${de+U}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const oe=this._elementRef.nativeElement;if(oe.getRootNode){const Ge=oe.getRootNode();return Ge&&Ge!==oe}return document.documentElement.contains(oe)}static#e=this.\u0275fac=function(Ge){return new(Ge||X)(p.Y36(p.SBq),p.Y36(p.sBO),p.Y36(p.R0b),p.Y36(te.Is),p.Y36(Y.t4),p.Y36(zn,8),p.Y36(p.QbO,8),p.Y36(ht.K0))};static#t=this.\u0275cmp=p.Xpm({type:X,selectors:[["mat-form-field"]],contentQueries:function(Ge,lt,de){if(1&Ge&&(p.Suo(de,Zt,5),p.Suo(de,Zt,7),p.Suo(de,ir,5),p.Suo(de,Pt,5),p.Suo(de,It,5),p.Suo(de,In,5),p.Suo(de,Jn,5)),2&Ge){let U;p.iGM(U=p.CRH())&&(lt._labelChildNonStatic=U.first),p.iGM(U=p.CRH())&&(lt._labelChildStatic=U.first),p.iGM(U=p.CRH())&&(lt._formFieldControl=U.first),p.iGM(U=p.CRH())&&(lt._prefixChildren=U),p.iGM(U=p.CRH())&&(lt._suffixChildren=U),p.iGM(U=p.CRH())&&(lt._errorChildren=U),p.iGM(U=p.CRH())&&(lt._hintChildren=U)}},viewQuery:function(Ge,lt){if(1&Ge&&(p.Gf(Ye,5),p.Gf(Et,5),p.Gf(Ut,5),p.Gf(Tr,5),p.Gf(Cn,5),p.Gf(tr,5)),2&Ge){let de;p.iGM(de=p.CRH())&&(lt._textField=de.first),p.iGM(de=p.CRH())&&(lt._iconPrefixContainer=de.first),p.iGM(de=p.CRH())&&(lt._textPrefixContainer=de.first),p.iGM(de=p.CRH())&&(lt._floatingLabel=de.first),p.iGM(de=p.CRH())&&(lt._notchedOutline=de.first),p.iGM(de=p.CRH())&&(lt._lineRipple=de.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(Ge,lt){2&Ge&&p.ekj("mat-mdc-form-field-label-always-float",lt._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",lt._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",lt._hasIconSuffix)("mat-form-field-invalid",lt._control.errorState)("mat-form-field-disabled",lt._control.disabled)("mat-form-field-autofilled",lt._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===lt._animationMode)("mat-form-field-appearance-fill","fill"==lt.appearance)("mat-form-field-appearance-outline","outline"==lt.appearance)("mat-form-field-hide-placeholder",lt._hasFloatingLabel()&&!lt._shouldLabelFloat())("mat-focused",lt._control.focused)("mat-primary","accent"!==lt.color&&"warn"!==lt.color)("mat-accent","accent"===lt.color)("mat-warn","warn"===lt.color)("ng-untouched",lt._shouldForward("untouched"))("ng-touched",lt._shouldForward("touched"))("ng-pristine",lt._shouldForward("pristine"))("ng-dirty",lt._shouldForward("dirty"))("ng-valid",lt._shouldForward("valid"))("ng-invalid",lt._shouldForward("invalid"))("ng-pending",lt._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[p._Bn([{provide:Fr,useExisting:X},{provide:Nr,useExisting:X}])],ngContentSelectors:st,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(Ge,lt){1&Ge&&(p.F$t(bn),p.YNc(0,dn,1,1,"ng-template",null,0,p.W1O),p.TgZ(2,"div",1,2),p.NdJ("click",function(U){return lt._control.onContainerClick(U)}),p.YNc(4,An,1,0,"div",3),p.TgZ(5,"div",4),p.YNc(6,hn,2,2,"div",5),p.YNc(7,En,3,0,"div",6),p.YNc(8,Ne,3,0,"div",7),p.TgZ(9,"div",8),p.YNc(10,ct,1,1,"ng-template",9),p.Hsn(11),p.qZA(),p.YNc(12,rt,2,0,"div",10),p.YNc(13,wt,2,0,"div",11),p.qZA(),p.YNc(14,ut,1,0,"div",12),p.qZA(),p.TgZ(15,"div",13),p.YNc(16,jt,2,1,"div",14),p.YNc(17,sr,5,2,"div",15),p.qZA()),2&Ge&&(p.xp6(2),p.ekj("mdc-text-field--filled",!lt._hasOutline())("mdc-text-field--outlined",lt._hasOutline())("mdc-text-field--no-label",!lt._hasFloatingLabel())("mdc-text-field--disabled",lt._control.disabled)("mdc-text-field--invalid",lt._control.errorState),p.xp6(2),p.Q6J("ngIf",!lt._hasOutline()&&!lt._control.disabled),p.xp6(2),p.Q6J("ngIf",lt._hasOutline()),p.xp6(1),p.Q6J("ngIf",lt._hasIconPrefix),p.xp6(1),p.Q6J("ngIf",lt._hasTextPrefix),p.xp6(2),p.Q6J("ngIf",!lt._hasOutline()||lt._forceDisplayInfixLabel()),p.xp6(2),p.Q6J("ngIf",lt._hasTextSuffix),p.xp6(1),p.Q6J("ngIf",lt._hasIconSuffix),p.xp6(1),p.Q6J("ngIf",!lt._hasOutline()),p.xp6(1),p.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===lt.subscriptSizing),p.Q6J("ngSwitch",lt._getDisplayedMessages()),p.xp6(1),p.Q6J("ngSwitchCase","error"),p.xp6(1),p.Q6J("ngSwitchCase","hint"))},dependencies:[ht.O5,ht.tP,ht.RF,ht.n9,Jn,Tr,Cn,tr],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{--mdc-filled-text-field-active-indicator-height:1px;--mdc-filled-text-field-focus-active-indicator-height:2px;--mdc-filled-text-field-container-shape:4px;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined{--mdc-outlined-text-field-outline-width:1px;--mdc-outlined-text-field-focus-outline-width:2px;--mdc-outlined-text-field-container-shape:4px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size) * var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[gr.transitionMessages]},changeDetection:0})}return X})(),he=(()=>{class X{static#e=this.\u0275fac=function(Ge){return new(Ge||X)};static#t=this.\u0275mod=p.oAB({type:X});static#n=this.\u0275inj=p.cJS({imports:[ue.BQ,ht.ez,Ie,ue.BQ]})}return X})()},6593:(Gt,Ue,k)=>{k.d(Ue,{Dx:()=>or,H7:()=>Pr,b2:()=>Rt,q6:()=>Zt,se:()=>Et});var p=k(5879),te=k(6814);class Y extends te.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ne extends Y{static makeCurrent(){(0,te.HT)(new ne)}onAndCancel(V,R,F){return V.addEventListener(R,F),()=>{V.removeEventListener(R,F)}}dispatchEvent(V,R){V.dispatchEvent(R)}remove(V){V.parentNode&&V.parentNode.removeChild(V)}createElement(V,R){return(R=R||this.getDefaultDocument()).createElement(V)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(V){return V.nodeType===Node.ELEMENT_NODE}isShadowRoot(V){return V instanceof DocumentFragment}getGlobalEventTarget(V,R){return"window"===R?window:"document"===R?V:"body"===R?V.body:null}getBaseHref(V){const R=function _e(){return ye=ye||document.querySelector("base"),ye?ye.getAttribute("href"):null}();return null==R?null:function Pe(U){ve=ve||document.createElement("a"),ve.setAttribute("href",U);const V=ve.pathname;return"/"===V.charAt(0)?V:`/${V}`}(R)}resetBaseElement(){ye=null}getUserAgent(){return window.navigator.userAgent}getCookie(V){return(0,te.Mx)(document.cookie,V)}}let ve,ye=null,ee=(()=>{class U{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(F){return new(F||U)};static#t=this.\u0275prov=p.Yz7({token:U,factory:U.\u0275fac})}return U})();const ae=new p.OlP("EventManagerPlugins");let Ee=(()=>{class U{constructor(R,F){this._zone=F,this._eventNameToPlugin=new Map,R.forEach(se=>{se.manager=this}),this._plugins=R.slice().reverse()}addEventListener(R,F,se){return this._findPluginFor(F).addEventListener(R,F,se)}getZone(){return this._zone}_findPluginFor(R){let F=this._eventNameToPlugin.get(R);if(F)return F;if(F=this._plugins.find(Ze=>Ze.supports(R)),!F)throw new p.vHH(5101,!1);return this._eventNameToPlugin.set(R,F),F}static#e=this.\u0275fac=function(F){return new(F||U)(p.LFG(ae),p.LFG(p.R0b))};static#t=this.\u0275prov=p.Yz7({token:U,factory:U.\u0275fac})}return U})();class qe{constructor(V){this._doc=V}}const We="ng-app-id";let Ct=(()=>{class U{constructor(R,F,se,Ze={}){this.doc=R,this.appId=F,this.nonce=se,this.platformId=Ze,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,te.PM)(Ze),this.resetHostNodes()}addStyles(R){for(const F of R)1===this.changeUsageCount(F,1)&&this.onStyleAdded(F)}removeStyles(R){for(const F of R)this.changeUsageCount(F,-1)<=0&&this.onStyleRemoved(F)}ngOnDestroy(){const R=this.styleNodesInDOM;R&&(R.forEach(F=>F.remove()),R.clear());for(const F of this.getAllStyles())this.onStyleRemoved(F);this.resetHostNodes()}addHost(R){this.hostNodes.add(R);for(const F of this.getAllStyles())this.addStyleToHost(R,F)}removeHost(R){this.hostNodes.delete(R)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(R){for(const F of this.hostNodes)this.addStyleToHost(F,R)}onStyleRemoved(R){const F=this.styleRef;F.get(R)?.elements?.forEach(se=>se.remove()),F.delete(R)}collectServerRenderedStyles(){const R=this.doc.head?.querySelectorAll(`style[${We}="${this.appId}"]`);if(R?.length){const F=new Map;return R.forEach(se=>{null!=se.textContent&&F.set(se.textContent,se)}),F}return null}changeUsageCount(R,F){const se=this.styleRef;if(se.has(R)){const Ze=se.get(R);return Ze.usage+=F,Ze.usage}return se.set(R,{usage:F,elements:[]}),F}getStyleElement(R,F){const se=this.styleNodesInDOM,Ze=se?.get(F);if(Ze?.parentNode===R)return se.delete(F),Ze.removeAttribute(We),Ze;{const Bt=this.doc.createElement("style");return this.nonce&&Bt.setAttribute("nonce",this.nonce),Bt.textContent=F,this.platformIsServer&&Bt.setAttribute(We,this.appId),Bt}}addStyleToHost(R,F){const se=this.getStyleElement(R,F);R.appendChild(se);const Ze=this.styleRef,Bt=Ze.get(F)?.elements;Bt?Bt.push(se):Ze.set(F,{elements:[se],usage:1})}resetHostNodes(){const R=this.hostNodes;R.clear(),R.add(this.doc.head)}static#e=this.\u0275fac=function(F){return new(F||U)(p.LFG(te.K0),p.LFG(p.AFp),p.LFG(p.Ojb,8),p.LFG(p.Lbi))};static#t=this.\u0275prov=p.Yz7({token:U,factory:U.\u0275fac})}return U})();const ht={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ot=/%COMP%/g,De=new p.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Ye(U,V){return V.map(R=>R.replace(Ot,U))}let Et=(()=>{class U{constructor(R,F,se,Ze,Bt,Yt,Sn,be=null){this.eventManager=R,this.sharedStylesHost=F,this.appId=se,this.removeStylesOnCompDestroy=Ze,this.doc=Bt,this.platformId=Yt,this.ngZone=Sn,this.nonce=be,this.rendererByCompId=new Map,this.platformIsServer=(0,te.PM)(Yt),this.defaultRenderer=new Ut(R,Bt,Sn,this.platformIsServer)}createRenderer(R,F){if(!R||!F)return this.defaultRenderer;this.platformIsServer&&F.encapsulation===p.ifc.ShadowDom&&(F={...F,encapsulation:p.ifc.Emulated});const se=this.getOrCreateRenderer(R,F);return se instanceof Vn?se.applyToHost(R):se instanceof br&&se.applyStyles(),se}getOrCreateRenderer(R,F){const se=this.rendererByCompId;let Ze=se.get(F.id);if(!Ze){const Bt=this.doc,Yt=this.ngZone,Sn=this.eventManager,be=this.sharedStylesHost,en=this.removeStylesOnCompDestroy,Zn=this.platformIsServer;switch(F.encapsulation){case p.ifc.Emulated:Ze=new Vn(Sn,be,F,this.appId,en,Bt,Yt,Zn);break;case p.ifc.ShadowDom:return new An(Sn,be,R,F,Bt,Yt,this.nonce,Zn);default:Ze=new br(Sn,be,F,en,Bt,Yt,Zn)}se.set(F.id,Ze)}return Ze}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(F){return new(F||U)(p.LFG(Ee),p.LFG(Ct),p.LFG(p.AFp),p.LFG(De),p.LFG(te.K0),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(p.Ojb))};static#t=this.\u0275prov=p.Yz7({token:U,factory:U.\u0275fac})}return U})();class Ut{constructor(V,R,F,se){this.eventManager=V,this.doc=R,this.ngZone=F,this.platformIsServer=se,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(V,R){return R?this.doc.createElementNS(ht[R]||R,V):this.doc.createElement(V)}createComment(V){return this.doc.createComment(V)}createText(V){return this.doc.createTextNode(V)}appendChild(V,R){(dn(V)?V.content:V).appendChild(R)}insertBefore(V,R,F){V&&(dn(V)?V.content:V).insertBefore(R,F)}removeChild(V,R){V&&V.removeChild(R)}selectRootElement(V,R){let F="string"==typeof V?this.doc.querySelector(V):V;if(!F)throw new p.vHH(-5104,!1);return R||(F.textContent=""),F}parentNode(V){return V.parentNode}nextSibling(V){return V.nextSibling}setAttribute(V,R,F,se){if(se){R=se+":"+R;const Ze=ht[se];Ze?V.setAttributeNS(Ze,R,F):V.setAttribute(R,F)}else V.setAttribute(R,F)}removeAttribute(V,R,F){if(F){const se=ht[F];se?V.removeAttributeNS(se,R):V.removeAttribute(`${F}:${R}`)}else V.removeAttribute(R)}addClass(V,R){V.classList.add(R)}removeClass(V,R){V.classList.remove(R)}setStyle(V,R,F,se){se&(p.JOm.DashCase|p.JOm.Important)?V.style.setProperty(R,F,se&p.JOm.Important?"important":""):V.style[R]=F}removeStyle(V,R,F){F&p.JOm.DashCase?V.style.removeProperty(R):V.style[R]=""}setProperty(V,R,F){V[R]=F}setValue(V,R){V.nodeValue=R}listen(V,R,F){if("string"==typeof V&&!(V=(0,te.q)().getGlobalEventTarget(this.doc,V)))throw new Error(`Unsupported event target ${V} for event ${R}`);return this.eventManager.addEventListener(V,R,this.decoratePreventDefault(F))}decoratePreventDefault(V){return R=>{if("__ngUnwrap__"===R)return V;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>V(R)):V(R))&&R.preventDefault()}}}function dn(U){return"TEMPLATE"===U.tagName&&void 0!==U.content}class An extends Ut{constructor(V,R,F,se,Ze,Bt,Yt,Sn){super(V,Ze,Bt,Sn),this.sharedStylesHost=R,this.hostEl=F,this.shadowRoot=F.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const be=Ye(se.id,se.styles);for(const en of be){const Zn=document.createElement("style");Yt&&Zn.setAttribute("nonce",Yt),Zn.textContent=en,this.shadowRoot.appendChild(Zn)}}nodeOrShadowRoot(V){return V===this.hostEl?this.shadowRoot:V}appendChild(V,R){return super.appendChild(this.nodeOrShadowRoot(V),R)}insertBefore(V,R,F){return super.insertBefore(this.nodeOrShadowRoot(V),R,F)}removeChild(V,R){return super.removeChild(this.nodeOrShadowRoot(V),R)}parentNode(V){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(V)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class br extends Ut{constructor(V,R,F,se,Ze,Bt,Yt,Sn){super(V,Ze,Bt,Yt),this.sharedStylesHost=R,this.removeStylesOnCompDestroy=se,this.styles=Sn?Ye(Sn,F.styles):F.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Vn extends br{constructor(V,R,F,se,Ze,Bt,Yt,Sn){const be=se+"-"+F.id;super(V,R,F,Ze,Bt,Yt,Sn,be),this.contentAttr=function me(U){return"_ngcontent-%COMP%".replace(Ot,U)}(be),this.hostAttr=function He(U){return"_nghost-%COMP%".replace(Ot,U)}(be)}applyToHost(V){this.applyStyles(),this.setAttribute(V,this.hostAttr,"")}createElement(V,R){const F=super.createElement(V,R);return super.setAttribute(F,this.contentAttr,""),F}}let hn=(()=>{class U extends qe{constructor(R){super(R)}supports(R){return!0}addEventListener(R,F,se){return R.addEventListener(F,se,!1),()=>this.removeEventListener(R,F,se)}removeEventListener(R,F,se){return R.removeEventListener(F,se)}static#e=this.\u0275fac=function(F){return new(F||U)(p.LFG(te.K0))};static#t=this.\u0275prov=p.Yz7({token:U,factory:U.\u0275fac})}return U})();const En=["alt","control","meta","shift"],Ne={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Be={alt:U=>U.altKey,control:U=>U.ctrlKey,meta:U=>U.metaKey,shift:U=>U.shiftKey};let ct=(()=>{class U extends qe{constructor(R){super(R)}supports(R){return null!=U.parseEventName(R)}addEventListener(R,F,se){const Ze=U.parseEventName(F),Bt=U.eventCallback(Ze.fullKey,se,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,te.q)().onAndCancel(R,Ze.domEventName,Bt))}static parseEventName(R){const F=R.toLowerCase().split("."),se=F.shift();if(0===F.length||"keydown"!==se&&"keyup"!==se)return null;const Ze=U._normalizeKey(F.pop());let Bt="",Yt=F.indexOf("code");if(Yt>-1&&(F.splice(Yt,1),Bt="code."),En.forEach(be=>{const en=F.indexOf(be);en>-1&&(F.splice(en,1),Bt+=be+".")}),Bt+=Ze,0!=F.length||0===Ze.length)return null;const Sn={};return Sn.domEventName=se,Sn.fullKey=Bt,Sn}static matchEventFullKeyCode(R,F){let se=Ne[R.key]||R.key,Ze="";return F.indexOf("code.")>-1&&(se=R.code,Ze="code."),!(null==se||!se)&&(se=se.toLowerCase()," "===se?se="space":"."===se&&(se="dot"),En.forEach(Bt=>{Bt!==se&&(0,Be[Bt])(R)&&(Ze+=Bt+".")}),Ze+=se,Ze===F)}static eventCallback(R,F,se){return Ze=>{U.matchEventFullKeyCode(Ze,R)&&se.runGuarded(()=>F(Ze))}}static _normalizeKey(R){return"esc"===R?"escape":R}static#e=this.\u0275fac=function(F){return new(F||U)(p.LFG(te.K0))};static#t=this.\u0275prov=p.Yz7({token:U,factory:U.\u0275fac})}return U})();const Zt=(0,p.eFA)(p._c5,"browser",[{provide:p.Lbi,useValue:te.bD},{provide:p.g9A,useValue:function yt(){ne.makeCurrent()},multi:!0},{provide:te.K0,useFactory:function bn(){return(0,p.RDi)(document),document},deps:[]}]),Yn=new p.OlP(""),In=[{provide:p.rWj,useClass:class le{addToWindow(V){p.dqk.getAngularTestability=(F,se=!0)=>{const Ze=V.findTestabilityInTree(F,se);if(null==Ze)throw new p.vHH(5103,!1);return Ze},p.dqk.getAllAngularTestabilities=()=>V.getAllTestabilities(),p.dqk.getAllAngularRootElements=()=>V.getAllRootElements(),p.dqk.frameworkStabilizers||(p.dqk.frameworkStabilizers=[]),p.dqk.frameworkStabilizers.push(F=>{const se=p.dqk.getAllAngularTestabilities();let Ze=se.length,Bt=!1;const Yt=function(Sn){Bt=Bt||Sn,Ze--,0==Ze&&F(Bt)};se.forEach(Sn=>{Sn.whenStable(Yt)})})}findTestabilityInTree(V,R,F){return null==R?null:V.getTestability(R)??(F?(0,te.q)().isShadowRoot(R)?this.findTestabilityInTree(V,R.host,!0):this.findTestabilityInTree(V,R.parentElement,!0):null)}},deps:[]},{provide:p.lri,useClass:p.dDg,deps:[p.R0b,p.eoX,p.rWj]},{provide:p.dDg,useClass:p.dDg,deps:[p.R0b,p.eoX,p.rWj]}],St=[{provide:p.zSh,useValue:"root"},{provide:p.qLn,useFactory:function sr(){return new p.qLn},deps:[]},{provide:ae,useClass:hn,multi:!0,deps:[te.K0,p.R0b,p.Lbi]},{provide:ae,useClass:ct,multi:!0,deps:[te.K0]},Et,Ct,Ee,{provide:p.FYo,useExisting:Et},{provide:te.JF,useClass:ee,deps:[]},[]];let Rt=(()=>{class U{constructor(R){}static withServerTransition(R){return{ngModule:U,providers:[{provide:p.AFp,useValue:R.appId}]}}static#e=this.\u0275fac=function(F){return new(F||U)(p.LFG(Yn,12))};static#t=this.\u0275mod=p.oAB({type:U});static#n=this.\u0275inj=p.cJS({providers:[...St,...In],imports:[te.ez,p.hGG]})}return U})(),or=(()=>{class U{constructor(R){this._doc=R}getTitle(){return this._doc.title}setTitle(R){this._doc.title=R||""}static#e=this.\u0275fac=function(F){return new(F||U)(p.LFG(te.K0))};static#t=this.\u0275prov=p.Yz7({token:U,factory:function(F){let se=null;return se=F?new F:function It(){return new or((0,p.LFG)(te.K0))}(),se},providedIn:"root"})}return U})();typeof window<"u"&&window;let Pr=(()=>{class U{static#e=this.\u0275fac=function(F){return new(F||U)};static#t=this.\u0275prov=p.Yz7({token:U,factory:function(F){let se=null;return se=F?new(F||U):p.LFG($r),se},providedIn:"root"})}return U})(),$r=(()=>{class U extends Pr{constructor(R){super(),this._doc=R}sanitize(R,F){if(null==F)return null;switch(R){case p.q3G.NONE:return F;case p.q3G.HTML:return(0,p.qzn)(F,"HTML")?(0,p.z3N)(F):(0,p.EiD)(this._doc,String(F)).toString();case p.q3G.STYLE:return(0,p.qzn)(F,"Style")?(0,p.z3N)(F):F;case p.q3G.SCRIPT:if((0,p.qzn)(F,"Script"))return(0,p.z3N)(F);throw new p.vHH(5200,!1);case p.q3G.URL:return(0,p.qzn)(F,"URL")?(0,p.z3N)(F):(0,p.mCW)(String(F));case p.q3G.RESOURCE_URL:if((0,p.qzn)(F,"ResourceURL"))return(0,p.z3N)(F);throw new p.vHH(5201,!1);default:throw new p.vHH(5202,!1)}}bypassSecurityTrustHtml(R){return(0,p.JVY)(R)}bypassSecurityTrustStyle(R){return(0,p.L6k)(R)}bypassSecurityTrustScript(R){return(0,p.eBb)(R)}bypassSecurityTrustUrl(R){return(0,p.LAX)(R)}bypassSecurityTrustResourceUrl(R){return(0,p.pB0)(R)}static#e=this.\u0275fac=function(F){return new(F||U)(p.LFG(te.K0))};static#t=this.\u0275prov=p.Yz7({token:U,factory:function(F){let se=null;return se=F?new F:function ln(U){return new $r(U.get(te.K0))}(p.LFG(p.zs3)),se},providedIn:"root"})}return U})()},9790:(Gt,Ue,k)=>{k.d(Ue,{F0:()=>_i,rH:()=>il,Bz:()=>zc,lC:()=>kn});var p=k(5879),te=k(5592),Y=k(4674),ye=k(2459),_e=k(2096),ve=k(5619),Pe=k(2572),le=k(6973),ee=k(1878),ae=k(4911),Ee=k(8407),qe=k(8504),We=k(6232),Ct=k(7394),ht=k(9360),Ot=k(8251);function Tt(){return(0,ht.e)((T,C)=>{let I=null;T._refCount++;const x=(0,Ot.x)(C,void 0,void 0,void 0,()=>{if(!T||T._refCount<=0||0<--T._refCount)return void(I=null);const j=T._connection,J=I;I=null,j&&(!J||j===J)&&j.unsubscribe(),C.unsubscribe()});T.subscribe(x),x.closed||(I=T.connect())})}class Jt extends te.y{constructor(C,I){super(),this.source=C,this.subjectFactory=I,this._subject=null,this._refCount=0,this._connection=null,(0,ht.A)(C)&&(this.lift=C.lift)}_subscribe(C){return this.getSubject().subscribe(C)}getSubject(){const C=this._subject;return(!C||C.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:C}=this;this._subject=this._connection=null,C?.unsubscribe()}connect(){let C=this._connection;if(!C){C=this._connection=new Ct.w0;const I=this.getSubject();C.add(this.source.subscribe((0,Ot.x)(I,void 0,()=>{this._teardown(),I.complete()},x=>{this._teardown(),I.error(x)},()=>this._teardown()))),C.closed&&(this._connection=null,C=Ct.w0.EMPTY)}return C}refCount(){return Tt()(this)}}var Ie=k(8645),ue=k(6814),De=k(7398),me=k(4664),He=k(8180),Ye=k(7921),Et=k(2181),Ut=k(1631),nt=k(1374),an=k(6328),dn=k(9397),An=k(6306),br=k(6699),Vn=k(3572);function hn(T){return T<=0?()=>We.E:(0,ht.e)((C,I)=>{let x=[];C.subscribe((0,Ot.x)(I,j=>{x.push(j),T<x.length&&x.shift()},()=>{for(const j of x)I.next(j);I.complete()},void 0,()=>{x=null}))})}var En=k(3026),Ne=k(2737),rt=k(4716),wt=k(9773),ut=k(7537),jt=k(6593);const yt="primary",sr=Symbol("RouteTitle");class bn{constructor(C){this.params=C||{}}has(C){return Object.prototype.hasOwnProperty.call(this.params,C)}get(C){if(this.has(C)){const I=this.params[C];return Array.isArray(I)?I[0]:I}return null}getAll(C){if(this.has(C)){const I=this.params[C];return Array.isArray(I)?I:[I]}return[]}get keys(){return Object.keys(this.params)}}function st(T){return new bn(T)}function Zt(T,C,I){const x=I.path.split("/");if(x.length>T.length||"full"===I.pathMatch&&(C.hasChildren()||x.length<T.length))return null;const j={};for(let J=0;J<x.length;J++){const ge=x[J],gt=T[J];if(ge.startsWith(":"))j[ge.substring(1)]=gt;else if(ge!==gt.path)return null}return{consumed:T.slice(0,x.length),posParams:j}}function In(T,C){const I=T?Object.keys(T):void 0,x=C?Object.keys(C):void 0;if(!I||!x||I.length!=x.length)return!1;let j;for(let J=0;J<I.length;J++)if(j=I[J],!St(T[j],C[j]))return!1;return!0}function St(T,C){if(Array.isArray(T)&&Array.isArray(C)){if(T.length!==C.length)return!1;const I=[...T].sort(),x=[...C].sort();return I.every((j,J)=>x[J]===j)}return T===C}function Rt(T){return T.length>0?T[T.length-1]:null}function Jn(T){return function ne(T){return!!T&&(T instanceof te.y||(0,Y.m)(T.lift)&&(0,Y.m)(T.subscribe))}(T)?T:(0,p.QGY)(T)?(0,ye.D)(Promise.resolve(T)):(0,_e.of)(T)}const Pt={exact:function Nr(T,C,I){if(!Dr(T.segments,C.segments)||!xn(T.segments,C.segments,I)||T.numberOfChildren!==C.numberOfChildren)return!1;for(const x in C.children)if(!T.children[x]||!Nr(T.children[x],C.children[x],I))return!1;return!0},subset:fn},tt={exact:function or(T,C){return In(T,C)},subset:function Tr(T,C){return Object.keys(C).length<=Object.keys(T).length&&Object.keys(C).every(I=>St(T[I],C[I]))},ignored:()=>!0};function It(T,C,I){return Pt[I.paths](T.root,C.root,I.matrixParams)&&tt[I.queryParams](T.queryParams,C.queryParams)&&!("exact"===I.fragment&&T.fragment!==C.fragment)}function fn(T,C,I){return wn(T,C,C.segments,I)}function wn(T,C,I,x){if(T.segments.length>I.length){const j=T.segments.slice(0,I.length);return!(!Dr(j,I)||C.hasChildren()||!xn(j,I,x))}if(T.segments.length===I.length){if(!Dr(T.segments,I)||!xn(T.segments,I,x))return!1;for(const j in C.children)if(!T.children[j]||!fn(T.children[j],C.children[j],x))return!1;return!0}{const j=I.slice(0,T.segments.length),J=I.slice(T.segments.length);return!!(Dr(T.segments,j)&&xn(T.segments,j,x)&&T.children[yt])&&wn(T.children[yt],C,J,x)}}function xn(T,C,I){return C.every((x,j)=>tt[I](T[j].parameters,x.parameters))}class tr{constructor(C=new Cn([],{}),I={},x=null){this.root=C,this.queryParams=I,this.fragment=x}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=st(this.queryParams)),this._queryParamMap}toString(){return zn.serialize(this)}}class Cn{constructor(C,I){this.segments=C,this.children=I,this.parent=null,Object.values(I).forEach(x=>x.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Gn(this)}}class gr{constructor(C,I){this.path=C,this.parameters=I}get parameterMap(){return this._parameterMap||(this._parameterMap=st(this.parameters)),this._parameterMap}toString(){return Se(this)}}function Dr(T,C){return T.length===C.length&&T.every((I,x)=>I.path===C[x].path)}let At=(()=>{class T{static#e=this.\u0275fac=function(x){return new(x||T)};static#t=this.\u0275prov=p.Yz7({token:T,factory:function(){return new Fr},providedIn:"root"})}return T})();class Fr{parse(C){const I=new Bt(C);return new tr(I.parseRootSegment(),I.parseQueryParams(),I.parseFragment())}serialize(C){const I=`/${Ht(C.root,!0)}`,x=function Ge(T){const C=Object.keys(T).map(I=>{const x=T[I];return Array.isArray(x)?x.map(j=>`${ln(I)}=${ln(j)}`).join("&"):`${ln(I)}=${ln(x)}`}).filter(I=>!!I);return C.length?`?${C.join("&")}`:""}(C.queryParams);return`${I}${x}${"string"==typeof C.fragment?`#${function $r(T){return encodeURI(T)}(C.fragment)}`:""}`}}const zn=new Fr;function Gn(T){return T.segments.map(C=>Se(C)).join("/")}function Ht(T,C){if(!T.hasChildren())return Gn(T);if(C){const I=T.children[yt]?Ht(T.children[yt],!1):"",x=[];return Object.entries(T.children).forEach(([j,J])=>{j!==yt&&x.push(`${j}:${Ht(J,!1)}`)}),x.length>0?`${I}(${x.join("//")})`:I}{const I=function vi(T,C){let I=[];return Object.entries(T.children).forEach(([x,j])=>{x===yt&&(I=I.concat(C(j,x)))}),Object.entries(T.children).forEach(([x,j])=>{x!==yt&&(I=I.concat(C(j,x)))}),I}(T,(x,j)=>j===yt?[Ht(T.children[yt],!1)]:[`${j}:${Ht(x,!1)}`]);return 1===Object.keys(T.children).length&&null!=T.children[yt]?`${Gn(T)}/${I[0]}`:`${Gn(T)}/(${I.join("//")})`}}function Pr(T){return encodeURIComponent(T).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ln(T){return Pr(T).replace(/%3B/gi,";")}function dt(T){return Pr(T).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function he(T){return decodeURIComponent(T)}function X(T){return he(T.replace(/\+/g,"%20"))}function Se(T){return`${dt(T.path)}${function oe(T){return Object.keys(T).map(C=>`;${dt(C)}=${dt(T[C])}`).join("")}(T.parameters)}`}const lt=/^[^\/()?;#]+/;function de(T){const C=T.match(lt);return C?C[0]:""}const U=/^[^\/()?;=#]+/,R=/^[^=?&#]+/,se=/^[^&#]+/;class Bt{constructor(C){this.url=C,this.remaining=C}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Cn([],{}):new Cn([],this.parseChildren())}parseQueryParams(){const C={};if(this.consumeOptional("?"))do{this.parseQueryParam(C)}while(this.consumeOptional("&"));return C}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const C=[];for(this.peekStartsWith("(")||C.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),C.push(this.parseSegment());let I={};this.peekStartsWith("/(")&&(this.capture("/"),I=this.parseParens(!0));let x={};return this.peekStartsWith("(")&&(x=this.parseParens(!1)),(C.length>0||Object.keys(I).length>0)&&(x[yt]=new Cn(C,I)),x}parseSegment(){const C=de(this.remaining);if(""===C&&this.peekStartsWith(";"))throw new p.vHH(4009,!1);return this.capture(C),new gr(he(C),this.parseMatrixParams())}parseMatrixParams(){const C={};for(;this.consumeOptional(";");)this.parseParam(C);return C}parseParam(C){const I=function V(T){const C=T.match(U);return C?C[0]:""}(this.remaining);if(!I)return;this.capture(I);let x="";if(this.consumeOptional("=")){const j=de(this.remaining);j&&(x=j,this.capture(x))}C[he(I)]=he(x)}parseQueryParam(C){const I=function F(T){const C=T.match(R);return C?C[0]:""}(this.remaining);if(!I)return;this.capture(I);let x="";if(this.consumeOptional("=")){const ge=function Ze(T){const C=T.match(se);return C?C[0]:""}(this.remaining);ge&&(x=ge,this.capture(x))}const j=X(I),J=X(x);if(C.hasOwnProperty(j)){let ge=C[j];Array.isArray(ge)||(ge=[ge],C[j]=ge),ge.push(J)}else C[j]=J}parseParens(C){const I={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const x=de(this.remaining),j=this.remaining[x.length];if("/"!==j&&")"!==j&&";"!==j)throw new p.vHH(4010,!1);let J;x.indexOf(":")>-1?(J=x.slice(0,x.indexOf(":")),this.capture(J),this.capture(":")):C&&(J=yt);const ge=this.parseChildren();I[J]=1===Object.keys(ge).length?ge[yt]:new Cn([],ge),this.consumeOptional("//")}return I}peekStartsWith(C){return this.remaining.startsWith(C)}consumeOptional(C){return!!this.peekStartsWith(C)&&(this.remaining=this.remaining.substring(C.length),!0)}capture(C){if(!this.consumeOptional(C))throw new p.vHH(4011,!1)}}function Yt(T){return T.segments.length>0?new Cn([],{[yt]:T}):T}function Sn(T){const C={};for(const x of Object.keys(T.children)){const J=Sn(T.children[x]);if(x===yt&&0===J.segments.length&&J.hasChildren())for(const[ge,gt]of Object.entries(J.children))C[ge]=gt;else(J.segments.length>0||J.hasChildren())&&(C[x]=J)}return function be(T){if(1===T.numberOfChildren&&T.children[yt]){const C=T.children[yt];return new Cn(T.segments.concat(C.segments),C.children)}return T}(new Cn(T.segments,C))}function en(T){return T instanceof tr}function je(T){let C;const j=Yt(function I(J){const ge={};for(const ft of J.children){const cn=I(ft);ge[ft.outlet]=cn}const gt=new Cn(J.url,ge);return J===T&&(C=gt),gt}(T.root));return C??j}function Ae(T,C,I,x){let j=T;for(;j.parent;)j=j.parent;if(0===C.length)return Ft(j,j,j,I,x);const J=function hr(T){if("string"==typeof T[0]&&1===T.length&&"/"===T[0])return new zt(!0,0,T);let C=0,I=!1;const x=T.reduce((j,J,ge)=>{if("object"==typeof J&&null!=J){if(J.outlets){const gt={};return Object.entries(J.outlets).forEach(([ft,cn])=>{gt[ft]="string"==typeof cn?cn.split("/"):cn}),[...j,{outlets:gt}]}if(J.segmentPath)return[...j,J.segmentPath]}return"string"!=typeof J?[...j,J]:0===ge?(J.split("/").forEach((gt,ft)=>{0==ft&&"."===gt||(0==ft&&""===gt?I=!0:".."===gt?C++:""!=gt&&j.push(gt))}),j):[...j,J]},[]);return new zt(I,C,x)}(C);if(J.toRoot())return Ft(j,j,new Cn([],{}),I,x);const ge=function ot(T,C,I){if(T.isAbsolute)return new Qt(C,!0,0);if(!I)return new Qt(C,!1,NaN);if(null===I.parent)return new Qt(I,!0,0);const x=Re(T.commands[0])?0:1;return function Ve(T,C,I){let x=T,j=C,J=I;for(;J>j;){if(J-=j,x=x.parent,!x)throw new p.vHH(4005,!1);j=x.segments.length}return new Qt(x,!1,j-J)}(I,I.segments.length-1+x,T.numberOfDoubleDots)}(J,j,T),gt=ge.processChildren?_n(ge.segmentGroup,ge.index,J.commands):$t(ge.segmentGroup,ge.index,J.commands);return Ft(j,ge.segmentGroup,gt,I,x)}function Re(T){return"object"==typeof T&&null!=T&&!T.outlets&&!T.segmentPath}function mt(T){return"object"==typeof T&&null!=T&&T.outlets}function Ft(T,C,I,x,j){let ge,J={};x&&Object.entries(x).forEach(([ft,cn])=>{J[ft]=Array.isArray(cn)?cn.map(dr=>`${dr}`):`${cn}`}),ge=T===C?I:Kt(T,C,I);const gt=Yt(Sn(ge));return new tr(gt,J,j)}function Kt(T,C,I){const x={};return Object.entries(T.children).forEach(([j,J])=>{x[j]=J===C?I:Kt(J,C,I)}),new Cn(T.segments,x)}class zt{constructor(C,I,x){if(this.isAbsolute=C,this.numberOfDoubleDots=I,this.commands=x,C&&x.length>0&&Re(x[0]))throw new p.vHH(4003,!1);const j=x.find(mt);if(j&&j!==Rt(x))throw new p.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Qt{constructor(C,I,x){this.segmentGroup=C,this.processChildren=I,this.index=x}}function $t(T,C,I){if(T||(T=new Cn([],{})),0===T.segments.length&&T.hasChildren())return _n(T,C,I);const x=function on(T,C,I){let x=0,j=C;const J={match:!1,pathIndex:0,commandIndex:0};for(;j<T.segments.length;){if(x>=I.length)return J;const ge=T.segments[j],gt=I[x];if(mt(gt))break;const ft=`${gt}`,cn=x<I.length-1?I[x+1]:null;if(j>0&&void 0===ft)break;if(ft&&cn&&"object"==typeof cn&&void 0===cn.outlets){if(!qr(ft,cn,ge))return J;x+=2}else{if(!qr(ft,{},ge))return J;x++}j++}return{match:!0,pathIndex:j,commandIndex:x}}(T,C,I),j=I.slice(x.commandIndex);if(x.match&&x.pathIndex<T.segments.length){const J=new Cn(T.segments.slice(0,x.pathIndex),{});return J.children[yt]=new Cn(T.segments.slice(x.pathIndex),T.children),_n(J,0,j)}return x.match&&0===j.length?new Cn(T.segments,{}):x.match&&!T.hasChildren()?un(T,C,I):x.match?_n(T,0,j):un(T,C,I)}function _n(T,C,I){if(0===I.length)return new Cn(T.segments,{});{const x=function _t(T){return mt(T[0])?T[0].outlets:{[yt]:T}}(I),j={};if(Object.keys(x).some(J=>J!==yt)&&T.children[yt]&&1===T.numberOfChildren&&0===T.children[yt].segments.length){const J=_n(T.children[yt],C,I);return new Cn(T.segments,J.children)}return Object.entries(x).forEach(([J,ge])=>{"string"==typeof ge&&(ge=[ge]),null!==ge&&(j[J]=$t(T.children[J],C,ge))}),Object.entries(T.children).forEach(([J,ge])=>{void 0===x[J]&&(j[J]=ge)}),new Cn(T.segments,j)}}function un(T,C,I){const x=T.segments.slice(0,C);let j=0;for(;j<I.length;){const J=I[j];if(mt(J)){const ft=Rn(J.outlets);return new Cn(x,ft)}if(0===j&&Re(I[0])){x.push(new gr(T.segments[C].path,jn(I[0]))),j++;continue}const ge=mt(J)?J.outlets[yt]:`${J}`,gt=j<I.length-1?I[j+1]:null;ge&&gt&&Re(gt)?(x.push(new gr(ge,jn(gt))),j+=2):(x.push(new gr(ge,{})),j++)}return new Cn(x,{})}function Rn(T){const C={};return Object.entries(T).forEach(([I,x])=>{"string"==typeof x&&(x=[x]),null!==x&&(C[I]=un(new Cn([],{}),0,x))}),C}function jn(T){const C={};return Object.entries(T).forEach(([I,x])=>C[I]=`${x}`),C}function qr(T,C,I){return T==I.path&&In(C,I.parameters)}const Ar="imperative";class Lr{constructor(C,I){this.id=C,this.url=I}}class _r extends Lr{constructor(C,I,x="imperative",j=null){super(C,I),this.type=0,this.navigationTrigger=x,this.restoredState=j}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Li extends Lr{constructor(C,I,x){super(C,I),this.urlAfterRedirects=x,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ki extends Lr{constructor(C,I,x,j){super(C,I),this.reason=x,this.code=j,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Is extends Lr{constructor(C,I,x,j){super(C,I),this.reason=x,this.code=j,this.type=16}}class qi extends Lr{constructor(C,I,x,j){super(C,I),this.error=x,this.target=j,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class $s extends Lr{constructor(C,I,x,j){super(C,I),this.urlAfterRedirects=x,this.state=j,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ai extends Lr{constructor(C,I,x,j){super(C,I),this.urlAfterRedirects=x,this.state=j,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vs extends Lr{constructor(C,I,x,j,J){super(C,I),this.urlAfterRedirects=x,this.state=j,this.shouldActivate=J,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class no extends Lr{constructor(C,I,x,j){super(C,I),this.urlAfterRedirects=x,this.state=j,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Na extends Lr{constructor(C,I,x,j){super(C,I),this.urlAfterRedirects=x,this.state=j,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class To{constructor(C){this.route=C,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ka{constructor(C){this.route=C,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Fa{constructor(C){this.snapshot=C,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wo{constructor(C){this.snapshot=C,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Lo{constructor(C){this.snapshot=C,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vi{constructor(C){this.snapshot=C,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vo{constructor(C,I,x){this.routerEvent=C,this.position=I,this.anchor=x,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class zs{}class Gs{constructor(C){this.url=C}}class Do{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new bs,this.attachRef=null}}let bs=(()=>{class T{constructor(){this.contexts=new Map}onChildOutletCreated(I,x){const j=this.getOrCreateContext(I);j.outlet=x,this.contexts.set(I,j)}onChildOutletDestroyed(I){const x=this.getContext(I);x&&(x.outlet=null,x.attachRef=null)}onOutletDeactivated(){const I=this.contexts;return this.contexts=new Map,I}onOutletReAttached(I){this.contexts=I}getOrCreateContext(I){let x=this.getContext(I);return x||(x=new Do,this.contexts.set(I,x)),x}getContext(I){return this.contexts.get(I)||null}static#e=this.\u0275fac=function(x){return new(x||T)};static#t=this.\u0275prov=p.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();class ii{constructor(C){this._root=C}get root(){return this._root.value}parent(C){const I=this.pathFromRoot(C);return I.length>1?I[I.length-2]:null}children(C){const I=ro(C,this._root);return I?I.children.map(x=>x.value):[]}firstChild(C){const I=ro(C,this._root);return I&&I.children.length>0?I.children[0].value:null}siblings(C){const I=Ts(C,this._root);return I.length<2?[]:I[I.length-2].children.map(j=>j.value).filter(j=>j!==C)}pathFromRoot(C){return Ts(C,this._root).map(I=>I.value)}}function ro(T,C){if(T===C.value)return C;for(const I of C.children){const x=ro(T,I);if(x)return x}return null}function Ts(T,C){if(T===C.value)return[C];for(const I of C.children){const x=Ts(T,I);if(x.length)return x.unshift(C),x}return[]}class mi{constructor(C,I){this.value=C,this.children=I}toString(){return`TreeNode(${this.value})`}}function lr(T){const C={};return T&&T.children.forEach(I=>C[I.value.outlet]=I),C}class Xn extends ii{constructor(C,I){super(C),this.snapshot=I,so(this,C)}toString(){return this.snapshot.toString()}}function ci(T,C){const I=function Ur(T,C){const ge=new Qr([],{},{},"",{},yt,C,null,{});return new da("",new mi(ge,[]))}(0,C),x=new ve.X([new gr("",{})]),j=new ve.X({}),J=new ve.X({}),ge=new ve.X({}),gt=new ve.X(""),ft=new Wn(x,j,ge,gt,J,yt,C,I.root);return ft.snapshot=I.root,new Xn(new mi(ft,[]),I)}class Wn{constructor(C,I,x,j,J,ge,gt,ft){this.urlSubject=C,this.paramsSubject=I,this.queryParamsSubject=x,this.fragmentSubject=j,this.dataSubject=J,this.outlet=ge,this.component=gt,this._futureSnapshot=ft,this.title=this.dataSubject?.pipe((0,De.U)(cn=>cn[sr]))??(0,_e.of)(void 0),this.url=C,this.params=I,this.queryParams=x,this.fragment=j,this.data=J}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,De.U)(C=>st(C)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,De.U)(C=>st(C)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ws(T,C="emptyOnly"){const I=T.pathFromRoot;let x=0;if("always"!==C)for(x=I.length-1;x>=1;){const j=I[x],J=I[x-1];if(j.routeConfig&&""===j.routeConfig.path)x--;else{if(J.component)break;x--}}return function io(T){return T.reduce((C,I)=>({params:{...C.params,...I.params},data:{...C.data,...I.data},resolve:{...I.data,...C.resolve,...I.routeConfig?.data,...I._resolvedData}}),{params:{},data:{},resolve:{}})}(I.slice(x))}class Qr{get title(){return this.data?.[sr]}constructor(C,I,x,j,J,ge,gt,ft,cn){this.url=C,this.params=I,this.queryParams=x,this.fragment=j,this.data=J,this.outlet=ge,this.component=gt,this.routeConfig=ft,this._resolve=cn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=st(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=st(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(x=>x.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class da extends ii{constructor(C,I){super(I),this.url=C,so(this,I)}toString(){return nr(this._root)}}function so(T,C){C.value._routerState=T,C.children.forEach(I=>so(T,I))}function nr(T){const C=T.children.length>0?` { ${T.children.map(nr).join(", ")} } `:"";return`${T.value}${C}`}function tn(T){if(T.snapshot){const C=T.snapshot,I=T._futureSnapshot;T.snapshot=I,In(C.queryParams,I.queryParams)||T.queryParamsSubject.next(I.queryParams),C.fragment!==I.fragment&&T.fragmentSubject.next(I.fragment),In(C.params,I.params)||T.paramsSubject.next(I.params),function Yn(T,C){if(T.length!==C.length)return!1;for(let I=0;I<T.length;++I)if(!In(T[I],C[I]))return!1;return!0}(C.url,I.url)||T.urlSubject.next(I.url),In(C.data,I.data)||T.dataSubject.next(I.data)}else T.snapshot=T._futureSnapshot,T.dataSubject.next(T._futureSnapshot.data)}function Mn(T,C){const I=In(T.params,C.params)&&function ir(T,C){return Dr(T,C)&&T.every((I,x)=>In(I.parameters,C[x].parameters))}(T.url,C.url);return I&&!(!T.parent!=!C.parent)&&(!T.parent||Mn(T.parent,C.parent))}let kn=(()=>{class T{constructor(){this.activated=null,this._activatedRoute=null,this.name=yt,this.activateEvents=new p.vpe,this.deactivateEvents=new p.vpe,this.attachEvents=new p.vpe,this.detachEvents=new p.vpe,this.parentContexts=(0,p.f3M)(bs),this.location=(0,p.f3M)(p.s_b),this.changeDetector=(0,p.f3M)(p.sBO),this.environmentInjector=(0,p.f3M)(p.lqb),this.inputBinder=(0,p.f3M)(ns,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(I){if(I.name){const{firstChange:x,previousValue:j}=I.name;if(x)return;this.isTrackedInParentContexts(j)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(j)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(I){return this.parentContexts.getContext(I)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const I=this.parentContexts.getContext(this.name);I?.route&&(I.attachRef?this.attach(I.attachRef,I.route):this.activateWith(I.route,I.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new p.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new p.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new p.vHH(4012,!1);this.location.detach();const I=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(I.instance),I}attach(I,x){this.activated=I,this._activatedRoute=x,this.location.insert(I.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(I.instance)}deactivate(){if(this.activated){const I=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(I)}}activateWith(I,x){if(this.isActivated)throw new p.vHH(4013,!1);this._activatedRoute=I;const j=this.location,ge=I.snapshot.component,gt=this.parentContexts.getOrCreateContext(this.name).children,ft=new ei(I,gt,j.injector);this.activated=j.createComponent(ge,{index:j.length,injector:ft,environmentInjector:x??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(x){return new(x||T)};static#t=this.\u0275dir=p.lG2({type:T,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[p.TTD]})}return T})();class ei{constructor(C,I,x){this.route=C,this.childContexts=I,this.parent=x}get(C,I){return C===Wn?this.route:C===bs?this.childContexts:this.parent.get(C,I)}}const ns=new p.OlP("");let si=(()=>{class T{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(I){this.unsubscribeFromRouteData(I),this.subscribeToRouteData(I)}unsubscribeFromRouteData(I){this.outletDataSubscriptions.get(I)?.unsubscribe(),this.outletDataSubscriptions.delete(I)}subscribeToRouteData(I){const{activatedRoute:x}=I,j=(0,Pe.a)([x.queryParams,x.params,x.data]).pipe((0,me.w)(([J,ge,gt],ft)=>(gt={...J,...ge,...gt},0===ft?(0,_e.of)(gt):Promise.resolve(gt)))).subscribe(J=>{if(!I.isActivated||!I.activatedComponentRef||I.activatedRoute!==x||null===x.component)return void this.unsubscribeFromRouteData(I);const ge=(0,p.qFp)(x.component);if(ge)for(const{templateName:gt}of ge.inputs)I.activatedComponentRef.setInput(gt,J[gt]);else this.unsubscribeFromRouteData(I)});this.outletDataSubscriptions.set(I,j)}static#e=this.\u0275fac=function(x){return new(x||T)};static#t=this.\u0275prov=p.Yz7({token:T,factory:T.\u0275fac})}return T})();function Or(T,C,I){if(I&&T.shouldReuseRoute(C.value,I.value.snapshot)){const x=I.value;x._futureSnapshot=C.value;const j=function Ei(T,C,I){return C.children.map(x=>{for(const j of I.children)if(T.shouldReuseRoute(x.value,j.value.snapshot))return Or(T,x,j);return Or(T,x)})}(T,C,I);return new mi(x,j)}{if(T.shouldAttach(C.value)){const J=T.retrieve(C.value);if(null!==J){const ge=J.route;return ge.value._futureSnapshot=C.value,ge.children=C.children.map(gt=>Or(T,gt)),ge}}const x=function Zi(T){return new Wn(new ve.X(T.url),new ve.X(T.params),new ve.X(T.queryParams),new ve.X(T.fragment),new ve.X(T.data),T.outlet,T.component,T)}(C.value),j=C.children.map(J=>Or(T,J));return new mi(x,j)}}const Fn="ngNavigationCancelingError";function Qi(T,C){const{redirectTo:I,navigationBehaviorOptions:x}=en(C)?{redirectTo:C,navigationBehaviorOptions:void 0}:C,j=Pi(!1,0,C);return j.url=I,j.navigationBehaviorOptions=x,j}function Pi(T,C,I){const x=new Error("NavigationCancelingError: "+(T||""));return x[Fn]=!0,x.cancellationCode=C,I&&(x.url=I),x}function Qn(T){return T&&T[Fn]}let ws=(()=>{class T{static#e=this.\u0275fac=function(x){return new(x||T)};static#t=this.\u0275cmp=p.Xpm({type:T,selectors:[["ng-component"]],standalone:!0,features:[p.jDz],decls:1,vars:0,template:function(x,j){1&x&&p._UZ(0,"router-outlet")},dependencies:[kn],encapsulation:2})}return T})();function Zs(T){const C=T.children&&T.children.map(Zs),I=C?{...T,children:C}:{...T};return!I.component&&!I.loadComponent&&(C||I.loadChildren)&&I.outlet&&I.outlet!==yt&&(I.component=ws),I}function Ii(T){return T.outlet||yt}function Br(T){if(!T)return null;if(T.routeConfig?._injector)return T.routeConfig._injector;for(let C=T.parent;C;C=C.parent){const I=C.routeConfig;if(I?._loadedInjector)return I._loadedInjector;if(I?._injector)return I._injector}return null}class oi{constructor(C,I,x,j,J){this.routeReuseStrategy=C,this.futureState=I,this.currState=x,this.forwardEvent=j,this.inputBindingEnabled=J}activate(C){const I=this.futureState._root,x=this.currState?this.currState._root:null;this.deactivateChildRoutes(I,x,C),tn(this.futureState.root),this.activateChildRoutes(I,x,C)}deactivateChildRoutes(C,I,x){const j=lr(I);C.children.forEach(J=>{const ge=J.value.outlet;this.deactivateRoutes(J,j[ge],x),delete j[ge]}),Object.values(j).forEach(J=>{this.deactivateRouteAndItsChildren(J,x)})}deactivateRoutes(C,I,x){const j=C.value,J=I?I.value:null;if(j===J)if(j.component){const ge=x.getContext(j.outlet);ge&&this.deactivateChildRoutes(C,I,ge.children)}else this.deactivateChildRoutes(C,I,x);else J&&this.deactivateRouteAndItsChildren(I,x)}deactivateRouteAndItsChildren(C,I){C.value.component&&this.routeReuseStrategy.shouldDetach(C.value.snapshot)?this.detachAndStoreRouteSubtree(C,I):this.deactivateRouteAndOutlet(C,I)}detachAndStoreRouteSubtree(C,I){const x=I.getContext(C.value.outlet),j=x&&C.value.component?x.children:I,J=lr(C);for(const ge of Object.keys(J))this.deactivateRouteAndItsChildren(J[ge],j);if(x&&x.outlet){const ge=x.outlet.detach(),gt=x.children.onOutletDeactivated();this.routeReuseStrategy.store(C.value.snapshot,{componentRef:ge,route:C,contexts:gt})}}deactivateRouteAndOutlet(C,I){const x=I.getContext(C.value.outlet),j=x&&C.value.component?x.children:I,J=lr(C);for(const ge of Object.keys(J))this.deactivateRouteAndItsChildren(J[ge],j);x&&(x.outlet&&(x.outlet.deactivate(),x.children.onOutletDeactivated()),x.attachRef=null,x.route=null)}activateChildRoutes(C,I,x){const j=lr(I);C.children.forEach(J=>{this.activateRoutes(J,j[J.value.outlet],x),this.forwardEvent(new Vi(J.value.snapshot))}),C.children.length&&this.forwardEvent(new wo(C.value.snapshot))}activateRoutes(C,I,x){const j=C.value,J=I?I.value:null;if(tn(j),j===J)if(j.component){const ge=x.getOrCreateContext(j.outlet);this.activateChildRoutes(C,I,ge.children)}else this.activateChildRoutes(C,I,x);else if(j.component){const ge=x.getOrCreateContext(j.outlet);if(this.routeReuseStrategy.shouldAttach(j.snapshot)){const gt=this.routeReuseStrategy.retrieve(j.snapshot);this.routeReuseStrategy.store(j.snapshot,null),ge.children.onOutletReAttached(gt.contexts),ge.attachRef=gt.componentRef,ge.route=gt.route.value,ge.outlet&&ge.outlet.attach(gt.componentRef,gt.route.value),tn(gt.route.value),this.activateChildRoutes(C,null,ge.children)}else{const gt=Br(j.snapshot);ge.attachRef=null,ge.route=j,ge.injector=gt,ge.outlet&&ge.outlet.activateWith(j,ge.injector),this.activateChildRoutes(C,null,ge.children)}}else this.activateChildRoutes(C,null,x)}}class ti{constructor(C){this.path=C,this.route=this.path[this.path.length-1]}}class vr{constructor(C,I){this.component=C,this.route=I}}function kr(T,C,I){const x=T._root;return Ni(x,C?C._root:null,I,[x.value])}function As(T,C){const I=Symbol(),x=C.get(T,I);return x===I?"function"!=typeof T||(0,p.Z0I)(T)?C.get(T):T:x}function Ni(T,C,I,x,j={canDeactivateChecks:[],canActivateChecks:[]}){const J=lr(C);return T.children.forEach(ge=>{(function oo(T,C,I,x,j={canDeactivateChecks:[],canActivateChecks:[]}){const J=T.value,ge=C?C.value:null,gt=I?I.getContext(T.value.outlet):null;if(ge&&J.routeConfig===ge.routeConfig){const ft=function ss(T,C,I){if("function"==typeof I)return I(T,C);switch(I){case"pathParamsChange":return!Dr(T.url,C.url);case"pathParamsOrQueryParamsChange":return!Dr(T.url,C.url)||!In(T.queryParams,C.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Mn(T,C)||!In(T.queryParams,C.queryParams);default:return!Mn(T,C)}}(ge,J,J.routeConfig.runGuardsAndResolvers);ft?j.canActivateChecks.push(new ti(x)):(J.data=ge.data,J._resolvedData=ge._resolvedData),Ni(T,C,J.component?gt?gt.children:null:I,x,j),ft&&gt&&gt.outlet&&gt.outlet.isActivated&&j.canDeactivateChecks.push(new vr(gt.outlet.component,ge))}else ge&&Hn(C,gt,j),j.canActivateChecks.push(new ti(x)),Ni(T,null,J.component?gt?gt.children:null:I,x,j)})(ge,J[ge.value.outlet],I,x.concat([ge.value]),j),delete J[ge.value.outlet]}),Object.entries(J).forEach(([ge,gt])=>Hn(gt,I.getContext(ge),j)),j}function Hn(T,C,I){const x=lr(T),j=T.value;Object.entries(x).forEach(([J,ge])=>{Hn(ge,j.component?C?C.children.getContext(J):null:C,I)}),I.canDeactivateChecks.push(new vr(j.component&&C&&C.outlet&&C.outlet.isActivated?C.outlet.component:null,j))}function wr(T){return"function"==typeof T}function Ho(T){return T instanceof le.K||"EmptyError"===T?.name}const ha=Symbol("INITIAL_VALUE");function Ao(){return(0,me.w)(T=>(0,Pe.a)(T.map(C=>C.pipe((0,He.q)(1),(0,Ye.O)(ha)))).pipe((0,De.U)(C=>{for(const I of C)if(!0!==I){if(I===ha)return ha;if(!1===I||I instanceof tr)return I}return!0}),(0,Et.h)(C=>C!==ha),(0,He.q)(1)))}function Ro(T){return(0,Ee.z)((0,dn.b)(C=>{if(en(C))throw Qi(0,C)}),(0,De.U)(C=>!0===C))}class Ci{constructor(C){this.segmentGroup=C||null}}class Ys{constructor(C){this.urlTree=C}}function ji(T){return(0,qe._)(new Ci(T))}function ui(T){return(0,qe._)(new Ys(T))}class Mo{constructor(C,I){this.urlSerializer=C,this.urlTree=I}noMatchError(C){return new p.vHH(4002,!1)}lineralizeSegments(C,I){let x=[],j=I.root;for(;;){if(x=x.concat(j.segments),0===j.numberOfChildren)return(0,_e.of)(x);if(j.numberOfChildren>1||!j.children[yt])return(0,qe._)(new p.vHH(4e3,!1));j=j.children[yt]}}applyRedirectCommands(C,I,x){return this.applyRedirectCreateUrlTree(I,this.urlSerializer.parse(I),C,x)}applyRedirectCreateUrlTree(C,I,x,j){const J=this.createSegmentGroup(C,I.root,x,j);return new tr(J,this.createQueryParams(I.queryParams,this.urlTree.queryParams),I.fragment)}createQueryParams(C,I){const x={};return Object.entries(C).forEach(([j,J])=>{if("string"==typeof J&&J.startsWith(":")){const gt=J.substring(1);x[j]=I[gt]}else x[j]=J}),x}createSegmentGroup(C,I,x,j){const J=this.createSegments(C,I.segments,x,j);let ge={};return Object.entries(I.children).forEach(([gt,ft])=>{ge[gt]=this.createSegmentGroup(C,ft,x,j)}),new Cn(J,ge)}createSegments(C,I,x,j){return I.map(J=>J.path.startsWith(":")?this.findPosParam(C,J,j):this.findOrReturn(J,x))}findPosParam(C,I,x){const j=x[I.path.substring(1)];if(!j)throw new p.vHH(4001,!1);return j}findOrReturn(C,I){let x=0;for(const j of I){if(j.path===C.path)return I.splice(x),j;x++}return C}}const K={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function E(T,C,I,x,j){const J=w(T,C,I);return J.matched?(x=function Oi(T,C){return T.providers&&!T._injector&&(T._injector=(0,p.MMx)(T.providers,C,`Route: ${T.path}`)),T._injector??C}(C,x),function os(T,C,I,x){const j=C.canMatch;if(!j||0===j.length)return(0,_e.of)(!0);const J=j.map(ge=>{const gt=As(ge,T);return Jn(function jo(T){return T&&wr(T.canMatch)}(gt)?gt.canMatch(C,I):T.runInContext(()=>gt(C,I)))});return(0,_e.of)(J).pipe(Ao(),Ro())}(x,C,I).pipe((0,De.U)(ge=>!0===ge?J:{...K}))):(0,_e.of)(J)}function w(T,C,I){if(""===C.path)return"full"===C.pathMatch&&(T.hasChildren()||I.length>0)?{...K}:{matched:!0,consumedSegments:[],remainingSegments:I,parameters:{},positionalParamSegments:{}};const j=(C.matcher||Zt)(I,T,C);if(!j)return{...K};const J={};Object.entries(j.posParams??{}).forEach(([gt,ft])=>{J[gt]=ft.path});const ge=j.consumed.length>0?{...J,...j.consumed[j.consumed.length-1].parameters}:J;return{matched:!0,consumedSegments:j.consumed,remainingSegments:I.slice(j.consumed.length),parameters:ge,positionalParamSegments:j.posParams??{}}}function N(T,C,I,x){return I.length>0&&function Ce(T,C,I){return I.some(x=>it(T,C,x)&&Ii(x)!==yt)}(T,I,x)?{segmentGroup:new Cn(C,re(x,new Cn(I,T.children))),slicedSegments:[]}:0===I.length&&function Me(T,C,I){return I.some(x=>it(T,C,x))}(T,I,x)?{segmentGroup:new Cn(T.segments,W(T,0,I,x,T.children)),slicedSegments:I}:{segmentGroup:new Cn(T.segments,T.children),slicedSegments:I}}function W(T,C,I,x,j){const J={};for(const ge of x)if(it(T,I,ge)&&!j[Ii(ge)]){const gt=new Cn([],{});J[Ii(ge)]=gt}return{...j,...J}}function re(T,C){const I={};I[yt]=C;for(const x of T)if(""===x.path&&Ii(x)!==yt){const j=new Cn([],{});I[Ii(x)]=j}return I}function it(T,C,I){return(!(T.hasChildren()||C.length>0)||"full"!==I.pathMatch)&&""===I.path}class ur{constructor(C,I,x,j,J,ge,gt){this.injector=C,this.configLoader=I,this.rootComponentType=x,this.config=j,this.urlTree=J,this.paramsInheritanceStrategy=ge,this.urlSerializer=gt,this.allowRedirects=!0,this.applyRedirects=new Mo(this.urlSerializer,this.urlTree)}noMatchError(C){return new p.vHH(4002,!1)}recognize(){const C=N(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,C,yt).pipe((0,An.K)(I=>{if(I instanceof Ys)return this.allowRedirects=!1,this.urlTree=I.urlTree,this.match(I.urlTree);throw I instanceof Ci?this.noMatchError(I):I}),(0,De.U)(I=>{const x=new Qr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},yt,this.rootComponentType,null,{}),j=new mi(x,I),J=new da("",j),ge=function Zn(T,C,I=null,x=null){return Ae(je(T),C,I,x)}(x,[],this.urlTree.queryParams,this.urlTree.fragment);return ge.queryParams=this.urlTree.queryParams,J.url=this.urlSerializer.serialize(ge),this.inheritParamsAndData(J._root),{state:J,tree:ge}}))}match(C){return this.processSegmentGroup(this.injector,this.config,C.root,yt).pipe((0,An.K)(x=>{throw x instanceof Ci?this.noMatchError(x):x}))}inheritParamsAndData(C){const I=C.value,x=Ws(I,this.paramsInheritanceStrategy);I.params=Object.freeze(x.params),I.data=Object.freeze(x.data),C.children.forEach(j=>this.inheritParamsAndData(j))}processSegmentGroup(C,I,x,j){return 0===x.segments.length&&x.hasChildren()?this.processChildren(C,I,x):this.processSegment(C,I,x,x.segments,j,!0)}processChildren(C,I,x){const j=[];for(const J of Object.keys(x.children))"primary"===J?j.unshift(J):j.push(J);return(0,ye.D)(j).pipe((0,an.b)(J=>{const ge=x.children[J],gt=function is(T,C){const I=T.filter(x=>Ii(x)===C);return I.push(...T.filter(x=>Ii(x)!==C)),I}(I,J);return this.processSegmentGroup(C,gt,ge,J)}),(0,br.R)((J,ge)=>(J.push(...ge),J)),(0,Vn.d)(null),function Be(T,C){const I=arguments.length>=2;return x=>x.pipe(T?(0,Et.h)((j,J)=>T(j,J,x)):Ne.y,hn(1),I?(0,Vn.d)(C):(0,En.T)(()=>new le.K))}(),(0,Ut.z)(J=>{if(null===J)return ji(x);const ge=Tn(J);return function Pn(T){T.sort((C,I)=>C.value.outlet===yt?-1:I.value.outlet===yt?1:C.value.outlet.localeCompare(I.value.outlet))}(ge),(0,_e.of)(ge)}))}processSegment(C,I,x,j,J,ge){return(0,ye.D)(I).pipe((0,an.b)(gt=>this.processSegmentAgainstRoute(gt._injector??C,I,gt,x,j,J,ge).pipe((0,An.K)(ft=>{if(ft instanceof Ci)return(0,_e.of)(null);throw ft}))),(0,nt.P)(gt=>!!gt),(0,An.K)(gt=>{if(Ho(gt))return function Xt(T,C,I){return 0===C.length&&!T.children[I]}(x,j,J)?(0,_e.of)([]):ji(x);throw gt}))}processSegmentAgainstRoute(C,I,x,j,J,ge,gt){return function vt(T,C,I,x){return!!(Ii(T)===x||x!==yt&&it(C,I,T))&&("**"===T.path||w(C,T,I).matched)}(x,j,J,ge)?void 0===x.redirectTo?this.matchSegmentAgainstRoute(C,j,x,J,ge,gt):gt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(C,j,I,x,J,ge):ji(j):ji(j)}expandSegmentAgainstRouteUsingRedirect(C,I,x,j,J,ge){return"**"===j.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(C,x,j,ge):this.expandRegularSegmentAgainstRouteUsingRedirect(C,I,x,j,J,ge)}expandWildCardWithParamsAgainstRouteUsingRedirect(C,I,x,j){const J=this.applyRedirects.applyRedirectCommands([],x.redirectTo,{});return x.redirectTo.startsWith("/")?ui(J):this.applyRedirects.lineralizeSegments(x,J).pipe((0,Ut.z)(ge=>{const gt=new Cn(ge,{});return this.processSegment(C,I,gt,ge,j,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(C,I,x,j,J,ge){const{matched:gt,consumedSegments:ft,remainingSegments:cn,positionalParamSegments:dr}=w(I,j,J);if(!gt)return ji(I);const Zr=this.applyRedirects.applyRedirectCommands(ft,j.redirectTo,dr);return j.redirectTo.startsWith("/")?ui(Zr):this.applyRedirects.lineralizeSegments(j,Zr).pipe((0,Ut.z)(xr=>this.processSegment(C,x,I,xr.concat(cn),ge,!1)))}matchSegmentAgainstRoute(C,I,x,j,J,ge){let gt;if("**"===x.path){const ft=j.length>0?Rt(j).parameters:{},cn=new Qr(j,ft,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,jr(x),Ii(x),x.component??x._loadedComponent??null,x,di(x));gt=(0,_e.of)({snapshot:cn,consumedSegments:[],remainingSegments:[]}),I.children={}}else gt=E(I,x,j,C).pipe((0,De.U)(({matched:ft,consumedSegments:cn,remainingSegments:dr,parameters:Zr})=>ft?{snapshot:new Qr(cn,Zr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,jr(x),Ii(x),x.component??x._loadedComponent??null,x,di(x)),consumedSegments:cn,remainingSegments:dr}:null));return gt.pipe((0,me.w)(ft=>null===ft?ji(I):this.getChildConfig(C=x._injector??C,x,j).pipe((0,me.w)(({routes:cn})=>{const dr=x._loadedInjector??C,{snapshot:Zr,consumedSegments:xr,remainingSegments:cs}=ft,{segmentGroup:Po,slicedSegments:ga}=N(I,xr,cs,cn);if(0===ga.length&&Po.hasChildren())return this.processChildren(dr,cn,Po).pipe((0,De.U)(Ko=>null===Ko?null:[new mi(Zr,Ko)]));if(0===cn.length&&0===ga.length)return(0,_e.of)([new mi(Zr,[])]);const al=Ii(x)===J;return this.processSegment(dr,cn,Po,ga,al?yt:J,!0).pipe((0,De.U)(Ko=>[new mi(Zr,Ko)]))}))))}getChildConfig(C,I,x){return I.children?(0,_e.of)({routes:I.children,injector:C}):I.loadChildren?void 0!==I._loadedRoutes?(0,_e.of)({routes:I._loadedRoutes,injector:I._loadedInjector}):function xo(T,C,I,x){const j=C.canLoad;if(void 0===j||0===j.length)return(0,_e.of)(!0);const J=j.map(ge=>{const gt=As(ge,T);return Jn(function La(T){return T&&wr(T.canLoad)}(gt)?gt.canLoad(C,I):T.runInContext(()=>gt(C,I)))});return(0,_e.of)(J).pipe(Ao(),Ro())}(C,I,x).pipe((0,Ut.z)(j=>j?this.configLoader.loadChildren(C,I).pipe((0,dn.b)(J=>{I._loadedRoutes=J.routes,I._loadedInjector=J.injector})):function Hi(T){return(0,qe._)(Pi(!1,3))}())):(0,_e.of)({routes:[],injector:C})}}function On(T){const C=T.value.routeConfig;return C&&""===C.path}function Tn(T){const C=[],I=new Set;for(const x of T){if(!On(x)){C.push(x);continue}const j=C.find(J=>x.value.routeConfig===J.value.routeConfig);void 0!==j?(j.children.push(...x.children),I.add(j)):C.push(x)}for(const x of I){const j=Tn(x.children);C.push(new mi(x.value,j))}return C.filter(x=>!I.has(x))}function jr(T){return T.data||{}}function di(T){return T.resolve||{}}function $i(T){return"string"==typeof T.title||null===T.title}function ls(T){return(0,me.w)(C=>{const I=T(C);return I?(0,ye.D)(I).pipe((0,De.U)(()=>C)):(0,_e.of)(C)})}const A=new p.OlP("ROUTES");let G=(()=>{class T{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,p.f3M)(p.Sil)}loadComponent(I){if(this.componentLoaders.get(I))return this.componentLoaders.get(I);if(I._loadedComponent)return(0,_e.of)(I._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(I);const x=Jn(I.loadComponent()).pipe((0,De.U)(pe),(0,dn.b)(J=>{this.onLoadEndListener&&this.onLoadEndListener(I),I._loadedComponent=J}),(0,rt.x)(()=>{this.componentLoaders.delete(I)})),j=new Jt(x,()=>new Ie.x).pipe(Tt());return this.componentLoaders.set(I,j),j}loadChildren(I,x){if(this.childrenLoaders.get(x))return this.childrenLoaders.get(x);if(x._loadedRoutes)return(0,_e.of)({routes:x._loadedRoutes,injector:x._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(x);const J=function O(T,C,I,x){return Jn(T.loadChildren()).pipe((0,De.U)(pe),(0,Ut.z)(j=>j instanceof p.YKP||Array.isArray(j)?(0,_e.of)(j):(0,ye.D)(C.compileModuleAsync(j))),(0,De.U)(j=>{x&&x(T);let J,ge,gt=!1;return Array.isArray(j)?(ge=j,!0):(J=j.create(I).injector,ge=J.get(A,[],{optional:!0,self:!0}).flat()),{routes:ge.map(Zs),injector:J}}))}(x,this.compiler,I,this.onLoadEndListener).pipe((0,rt.x)(()=>{this.childrenLoaders.delete(x)})),ge=new Jt(J,()=>new Ie.x).pipe(Tt());return this.childrenLoaders.set(x,ge),ge}static#e=this.\u0275fac=function(x){return new(x||T)};static#t=this.\u0275prov=p.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();function pe(T){return function z(T){return T&&"object"==typeof T&&"default"in T}(T)?T.default:T}let Oe=(()=>{class T{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ie.x,this.transitionAbortSubject=new Ie.x,this.configLoader=(0,p.f3M)(G),this.environmentInjector=(0,p.f3M)(p.lqb),this.urlSerializer=(0,p.f3M)(At),this.rootContexts=(0,p.f3M)(bs),this.inputBindingEnabled=null!==(0,p.f3M)(ns,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,_e.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=j=>this.events.next(new ka(j)),this.configLoader.onLoadStartListener=j=>this.events.next(new To(j))}complete(){this.transitions?.complete()}handleNavigationRequest(I){const x=++this.navigationId;this.transitions?.next({...this.transitions.value,...I,id:x})}setupNavigations(I,x,j){return this.transitions=new ve.X({id:0,currentUrlTree:x,currentRawUrl:x,currentBrowserUrl:x,extractedUrl:I.urlHandlingStrategy.extract(x),urlAfterRedirects:I.urlHandlingStrategy.extract(x),rawUrl:x,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ar,restoredState:null,currentSnapshot:j.snapshot,targetSnapshot:null,currentRouterState:j,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Et.h)(J=>0!==J.id),(0,De.U)(J=>({...J,extractedUrl:I.urlHandlingStrategy.extract(J.rawUrl)})),(0,me.w)(J=>{this.currentTransition=J;let ge=!1,gt=!1;return(0,_e.of)(J).pipe((0,dn.b)(ft=>{this.currentNavigation={id:ft.id,initialUrl:ft.rawUrl,extractedUrl:ft.extractedUrl,trigger:ft.source,extras:ft.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,me.w)(ft=>{const cn=ft.currentBrowserUrl.toString(),dr=!I.navigated||ft.extractedUrl.toString()!==cn||cn!==ft.currentUrlTree.toString();if(!dr&&"reload"!==(ft.extras.onSameUrlNavigation??I.onSameUrlNavigation)){const xr="";return this.events.next(new Is(ft.id,this.urlSerializer.serialize(ft.rawUrl),xr,0)),ft.resolve(null),We.E}if(I.urlHandlingStrategy.shouldProcessUrl(ft.rawUrl))return(0,_e.of)(ft).pipe((0,me.w)(xr=>{const cs=this.transitions?.getValue();return this.events.next(new _r(xr.id,this.urlSerializer.serialize(xr.extractedUrl),xr.source,xr.restoredState)),cs!==this.transitions?.getValue()?We.E:Promise.resolve(xr)}),function Wr(T,C,I,x,j,J){return(0,Ut.z)(ge=>function nn(T,C,I,x,j,J,ge="emptyOnly"){return new ur(T,C,I,x,j,ge,J).recognize()}(T,C,I,x,ge.extractedUrl,j,J).pipe((0,De.U)(({state:gt,tree:ft})=>({...ge,targetSnapshot:gt,urlAfterRedirects:ft}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,I.config,this.urlSerializer,I.paramsInheritanceStrategy),(0,dn.b)(xr=>{J.targetSnapshot=xr.targetSnapshot,J.urlAfterRedirects=xr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:xr.urlAfterRedirects};const cs=new $s(xr.id,this.urlSerializer.serialize(xr.extractedUrl),this.urlSerializer.serialize(xr.urlAfterRedirects),xr.targetSnapshot);this.events.next(cs)}));if(dr&&I.urlHandlingStrategy.shouldProcessUrl(ft.currentRawUrl)){const{id:xr,extractedUrl:cs,source:Po,restoredState:ga,extras:al}=ft,Ko=new _r(xr,this.urlSerializer.serialize(cs),Po,ga);this.events.next(Ko);const Vu=ci(0,this.rootComponentType).snapshot;return this.currentTransition=J={...ft,targetSnapshot:Vu,urlAfterRedirects:cs,extras:{...al,skipLocationChange:!1,replaceUrl:!1}},(0,_e.of)(J)}{const xr="";return this.events.next(new Is(ft.id,this.urlSerializer.serialize(ft.extractedUrl),xr,1)),ft.resolve(null),We.E}}),(0,dn.b)(ft=>{const cn=new Ai(ft.id,this.urlSerializer.serialize(ft.extractedUrl),this.urlSerializer.serialize(ft.urlAfterRedirects),ft.targetSnapshot);this.events.next(cn)}),(0,De.U)(ft=>(this.currentTransition=J={...ft,guards:kr(ft.targetSnapshot,ft.currentSnapshot,this.rootContexts)},J)),function Zl(T,C){return(0,Ut.z)(I=>{const{targetSnapshot:x,currentSnapshot:j,guards:{canActivateChecks:J,canDeactivateChecks:ge}}=I;return 0===ge.length&&0===J.length?(0,_e.of)({...I,guardsResult:!0}):function nl(T,C,I,x){return(0,ye.D)(T).pipe((0,Ut.z)(j=>function Qs(T,C,I,x,j){const J=C&&C.routeConfig?C.routeConfig.canDeactivate:null;if(!J||0===J.length)return(0,_e.of)(!0);const ge=J.map(gt=>{const ft=Br(C)??j,cn=As(gt,ft);return Jn(function Bi(T){return T&&wr(T.canDeactivate)}(cn)?cn.canDeactivate(T,C,I,x):ft.runInContext(()=>cn(T,C,I,x))).pipe((0,nt.P)())});return(0,_e.of)(ge).pipe(Ao())}(j.component,j.route,I,C,x)),(0,nt.P)(j=>!0!==j,!0))}(ge,x,j,T).pipe((0,Ut.z)(gt=>gt&&function Rs(T){return"boolean"==typeof T}(gt)?function Va(T,C,I,x){return(0,ye.D)(C).pipe((0,an.b)(j=>(0,ee.z)(function $o(T,C){return null!==T&&C&&C(new Fa(T)),(0,_e.of)(!0)}(j.route.parent,x),function rl(T,C){return null!==T&&C&&C(new Lo(T)),(0,_e.of)(!0)}(j.route,x),function So(T,C,I){const x=C[C.length-1],J=C.slice(0,C.length-1).reverse().map(ge=>function zr(T){const C=T.routeConfig?T.routeConfig.canActivateChild:null;return C&&0!==C.length?{node:T,guards:C}:null}(ge)).filter(ge=>null!==ge).map(ge=>(0,ae.P)(()=>{const gt=ge.guards.map(ft=>{const cn=Br(ge.node)??I,dr=As(ft,cn);return Jn(function Bo(T){return T&&wr(T.canActivateChild)}(dr)?dr.canActivateChild(x,T):cn.runInContext(()=>dr(x,T))).pipe((0,nt.P)())});return(0,_e.of)(gt).pipe(Ao())}));return(0,_e.of)(J).pipe(Ao())}(T,j.path,I),function Co(T,C,I){const x=C.routeConfig?C.routeConfig.canActivate:null;if(!x||0===x.length)return(0,_e.of)(!0);const j=x.map(J=>(0,ae.P)(()=>{const ge=Br(C)??I,gt=As(J,ge);return Jn(function Uo(T){return T&&wr(T.canActivate)}(gt)?gt.canActivate(C,T):ge.runInContext(()=>gt(C,T))).pipe((0,nt.P)())}));return(0,_e.of)(j).pipe(Ao())}(T,j.route,I))),(0,nt.P)(j=>!0!==j,!0))}(x,J,T,C):(0,_e.of)(gt)),(0,De.U)(gt=>({...I,guardsResult:gt})))})}(this.environmentInjector,ft=>this.events.next(ft)),(0,dn.b)(ft=>{if(J.guardsResult=ft.guardsResult,en(ft.guardsResult))throw Qi(0,ft.guardsResult);const cn=new Vs(ft.id,this.urlSerializer.serialize(ft.extractedUrl),this.urlSerializer.serialize(ft.urlAfterRedirects),ft.targetSnapshot,!!ft.guardsResult);this.events.next(cn)}),(0,Et.h)(ft=>!!ft.guardsResult||(this.cancelNavigationTransition(ft,"",3),!1)),ls(ft=>{if(ft.guards.canActivateChecks.length)return(0,_e.of)(ft).pipe((0,dn.b)(cn=>{const dr=new no(cn.id,this.urlSerializer.serialize(cn.extractedUrl),this.urlSerializer.serialize(cn.urlAfterRedirects),cn.targetSnapshot);this.events.next(dr)}),(0,me.w)(cn=>{let dr=!1;return(0,_e.of)(cn).pipe(function gi(T,C){return(0,Ut.z)(I=>{const{targetSnapshot:x,guards:{canActivateChecks:j}}=I;if(!j.length)return(0,_e.of)(I);let J=0;return(0,ye.D)(j).pipe((0,an.b)(ge=>function gs(T,C,I,x){const j=T.routeConfig,J=T._resolve;return void 0!==j?.title&&!$i(j)&&(J[sr]=j.title),function _s(T,C,I,x){const j=function Si(T){return[...Object.keys(T),...Object.getOwnPropertySymbols(T)]}(T);if(0===j.length)return(0,_e.of)({});const J={};return(0,ye.D)(j).pipe((0,Ut.z)(ge=>function $n(T,C,I,x){const j=Br(C)??x,J=As(T,j);return Jn(J.resolve?J.resolve(C,I):j.runInContext(()=>J(C,I)))}(T[ge],C,I,x).pipe((0,nt.P)(),(0,dn.b)(gt=>{J[ge]=gt}))),hn(1),function ct(T){return(0,De.U)(()=>T)}(J),(0,An.K)(ge=>Ho(ge)?We.E:(0,qe._)(ge)))}(J,T,C,x).pipe((0,De.U)(ge=>(T._resolvedData=ge,T.data=Ws(T,I).resolve,j&&$i(j)&&(T.data[sr]=j.title),null)))}(ge.route,x,T,C)),(0,dn.b)(()=>J++),hn(1),(0,Ut.z)(ge=>J===j.length?(0,_e.of)(I):We.E))})}(I.paramsInheritanceStrategy,this.environmentInjector),(0,dn.b)({next:()=>dr=!0,complete:()=>{dr||this.cancelNavigationTransition(cn,"",2)}}))}),(0,dn.b)(cn=>{const dr=new Na(cn.id,this.urlSerializer.serialize(cn.extractedUrl),this.urlSerializer.serialize(cn.urlAfterRedirects),cn.targetSnapshot);this.events.next(dr)}))}),ls(ft=>{const cn=dr=>{const Zr=[];dr.routeConfig?.loadComponent&&!dr.routeConfig._loadedComponent&&Zr.push(this.configLoader.loadComponent(dr.routeConfig).pipe((0,dn.b)(xr=>{dr.component=xr}),(0,De.U)(()=>{})));for(const xr of dr.children)Zr.push(...cn(xr));return Zr};return(0,Pe.a)(cn(ft.targetSnapshot.root)).pipe((0,Vn.d)(),(0,He.q)(1))}),ls(()=>this.afterPreactivation()),(0,De.U)(ft=>{const cn=function rs(T,C,I){const x=Or(T,C._root,I?I._root:void 0);return new Xn(x,C)}(I.routeReuseStrategy,ft.targetSnapshot,ft.currentRouterState);return this.currentTransition=J={...ft,targetRouterState:cn},J}),(0,dn.b)(()=>{this.events.next(new zs)}),((T,C,I,x)=>(0,De.U)(j=>(new oi(C,j.targetRouterState,j.currentRouterState,I,x).activate(T),j)))(this.rootContexts,I.routeReuseStrategy,ft=>this.events.next(ft),this.inputBindingEnabled),(0,He.q)(1),(0,dn.b)({next:ft=>{ge=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Li(ft.id,this.urlSerializer.serialize(ft.extractedUrl),this.urlSerializer.serialize(ft.urlAfterRedirects))),I.titleStrategy?.updateTitle(ft.targetRouterState.snapshot),ft.resolve(!0)},complete:()=>{ge=!0}}),(0,wt.R)(this.transitionAbortSubject.pipe((0,dn.b)(ft=>{throw ft}))),(0,rt.x)(()=>{ge||gt||this.cancelNavigationTransition(J,"",1),this.currentNavigation?.id===J.id&&(this.currentNavigation=null)}),(0,An.K)(ft=>{if(gt=!0,Qn(ft))this.events.next(new Ki(J.id,this.urlSerializer.serialize(J.extractedUrl),ft.message,ft.cancellationCode)),function Yi(T){return Qn(T)&&en(T.url)}(ft)?this.events.next(new Gs(ft.url)):J.resolve(!1);else{this.events.next(new qi(J.id,this.urlSerializer.serialize(J.extractedUrl),ft,J.targetSnapshot??void 0));try{J.resolve(I.errorHandler(ft))}catch(cn){J.reject(cn)}}return We.E}))}))}cancelNavigationTransition(I,x,j){const J=new Ki(I.id,this.urlSerializer.serialize(I.extractedUrl),x,j);this.events.next(J),I.resolve(!1)}static#e=this.\u0275fac=function(x){return new(x||T)};static#t=this.\u0275prov=p.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();function Qe(T){return T!==Ar}let Mt=(()=>{class T{buildTitle(I){let x,j=I.root;for(;void 0!==j;)x=this.getResolvedTitleForRoute(j)??x,j=j.children.find(J=>J.outlet===yt);return x}getResolvedTitleForRoute(I){return I.data[sr]}static#e=this.\u0275fac=function(x){return new(x||T)};static#t=this.\u0275prov=p.Yz7({token:T,factory:function(){return(0,p.f3M)(pn)},providedIn:"root"})}return T})(),pn=(()=>{class T extends Mt{constructor(I){super(),this.title=I}updateTitle(I){const x=this.buildTitle(I);void 0!==x&&this.title.setTitle(x)}static#e=this.\u0275fac=function(x){return new(x||T)(p.LFG(jt.Dx))};static#t=this.\u0275prov=p.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})(),rr=(()=>{class T{static#e=this.\u0275fac=function(x){return new(x||T)};static#t=this.\u0275prov=p.Yz7({token:T,factory:function(){return(0,p.f3M)(Nn)},providedIn:"root"})}return T})();class Kn{shouldDetach(C){return!1}store(C,I){}shouldAttach(C){return!1}retrieve(C){return null}shouldReuseRoute(C,I){return C.routeConfig===I.routeConfig}}let Nn=(()=>{class T extends Kn{static#e=this.\u0275fac=function(){let I;return function(j){return(I||(I=p.n5z(T)))(j||T)}}();static#t=this.\u0275prov=p.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();const fr=new p.OlP("",{providedIn:"root",factory:()=>({})});let Ln=(()=>{class T{static#e=this.\u0275fac=function(x){return new(x||T)};static#t=this.\u0275prov=p.Yz7({token:T,factory:function(){return(0,p.f3M)(Xr)},providedIn:"root"})}return T})(),Xr=(()=>{class T{shouldProcessUrl(I){return!0}extract(I){return I}merge(I,x){return I}static#e=this.\u0275fac=function(x){return new(x||T)};static#t=this.\u0275prov=p.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();var bi=function(T){return T[T.COMPLETE=0]="COMPLETE",T[T.FAILED=1]="FAILED",T[T.REDIRECTING=2]="REDIRECTING",T}(bi||{});function Cr(T,C){T.events.pipe((0,Et.h)(I=>I instanceof Li||I instanceof Ki||I instanceof qi||I instanceof Is),(0,De.U)(I=>I instanceof Li||I instanceof Is?bi.COMPLETE:I instanceof Ki&&(0===I.code||1===I.code)?bi.REDIRECTING:bi.FAILED),(0,Et.h)(I=>I!==bi.REDIRECTING),(0,He.q)(1)).subscribe(()=>{C()})}function Ji(T){throw T}function qn(T,C,I){return C.parse("/")}const Xi={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ni={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let _i=(()=>{class T{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,p.f3M)(p.c2e),this.isNgZoneEnabled=!1,this._events=new Ie.x,this.options=(0,p.f3M)(fr,{optional:!0})||{},this.pendingTasks=(0,p.f3M)(p.HDt),this.errorHandler=this.options.errorHandler||Ji,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||qn,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,p.f3M)(Ln),this.routeReuseStrategy=(0,p.f3M)(rr),this.titleStrategy=(0,p.f3M)(Mt),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,p.f3M)(A,{optional:!0})?.flat()??[],this.navigationTransitions=(0,p.f3M)(Oe),this.urlSerializer=(0,p.f3M)(At),this.location=(0,p.f3M)(ue.Ye),this.componentInputBindingEnabled=!!(0,p.f3M)(ns,{optional:!0}),this.eventsSubscription=new Ct.w0,this.isNgZoneEnabled=(0,p.f3M)(p.R0b)instanceof p.R0b&&p.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new tr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=ci(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(I=>{this.lastSuccessfulId=I.id,this.currentPageId=this.browserPageId},I=>{this.console.warn(`Unhandled Navigation Error: ${I}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const I=this.navigationTransitions.events.subscribe(x=>{try{const{currentTransition:j}=this.navigationTransitions;if(null===j)return void(Vr(x)&&this._events.next(x));if(x instanceof _r)Qe(j.source)&&(this.browserUrlTree=j.extractedUrl);else if(x instanceof Is)this.rawUrlTree=j.rawUrl;else if(x instanceof $s){if("eager"===this.urlUpdateStrategy){if(!j.extras.skipLocationChange){const J=this.urlHandlingStrategy.merge(j.urlAfterRedirects,j.rawUrl);this.setBrowserUrl(J,j)}this.browserUrlTree=j.urlAfterRedirects}}else if(x instanceof zs)this.currentUrlTree=j.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(j.urlAfterRedirects,j.rawUrl),this.routerState=j.targetRouterState,"deferred"===this.urlUpdateStrategy&&(j.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,j),this.browserUrlTree=j.urlAfterRedirects);else if(x instanceof Ki)0!==x.code&&1!==x.code&&(this.navigated=!0),(3===x.code||2===x.code)&&this.restoreHistory(j);else if(x instanceof Gs){const J=this.urlHandlingStrategy.merge(x.url,j.currentRawUrl),ge={skipLocationChange:j.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Qe(j.source)};this.scheduleNavigation(J,Ar,null,ge,{resolve:j.resolve,reject:j.reject,promise:j.promise})}x instanceof qi&&this.restoreHistory(j,!0),x instanceof Li&&(this.navigated=!0),Vr(x)&&this._events.next(x)}catch(j){this.navigationTransitions.transitionAbortSubject.next(j)}});this.eventsSubscription.add(I)}resetRootComponentType(I){this.routerState.root.component=I,this.navigationTransitions.rootComponentType=I}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const I=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Ar,I)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(I=>{const x="popstate"===I.type?"popstate":"hashchange";"popstate"===x&&setTimeout(()=>{this.navigateToSyncWithBrowser(I.url,x,I.state)},0)}))}navigateToSyncWithBrowser(I,x,j){const J={replaceUrl:!0},ge=j?.navigationId?j:null;if(j){const ft={...j};delete ft.navigationId,delete ft.\u0275routerPageId,0!==Object.keys(ft).length&&(J.state=ft)}const gt=this.parseUrl(I);this.scheduleNavigation(gt,x,ge,J)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(I){this.config=I.map(Zs),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(I,x={}){const{relativeTo:j,queryParams:J,fragment:ge,queryParamsHandling:gt,preserveFragment:ft}=x,cn=ft?this.currentUrlTree.fragment:ge;let Zr,dr=null;switch(gt){case"merge":dr={...this.currentUrlTree.queryParams,...J};break;case"preserve":dr=this.currentUrlTree.queryParams;break;default:dr=J||null}null!==dr&&(dr=this.removeEmptyProps(dr));try{Zr=je(j?j.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof I[0]||!I[0].startsWith("/"))&&(I=[]),Zr=this.currentUrlTree.root}return Ae(Zr,I,dr,cn??null)}navigateByUrl(I,x={skipLocationChange:!1}){const j=en(I)?I:this.parseUrl(I),J=this.urlHandlingStrategy.merge(j,this.rawUrlTree);return this.scheduleNavigation(J,Ar,null,x)}navigate(I,x={skipLocationChange:!1}){return function ku(T){for(let C=0;C<T.length;C++)if(null==T[C])throw new p.vHH(4008,!1)}(I),this.navigateByUrl(this.createUrlTree(I,x),x)}serializeUrl(I){return this.urlSerializer.serialize(I)}parseUrl(I){let x;try{x=this.urlSerializer.parse(I)}catch(j){x=this.malformedUriErrorHandler(j,this.urlSerializer,I)}return x}isActive(I,x){let j;if(j=!0===x?{...Xi}:!1===x?{...ni}:x,en(I))return It(this.currentUrlTree,I,j);const J=this.parseUrl(I);return It(this.currentUrlTree,J,j)}removeEmptyProps(I){return Object.keys(I).reduce((x,j)=>{const J=I[j];return null!=J&&(x[j]=J),x},{})}scheduleNavigation(I,x,j,J,ge){if(this.disposed)return Promise.resolve(!1);let gt,ft,cn;ge?(gt=ge.resolve,ft=ge.reject,cn=ge.promise):cn=new Promise((Zr,xr)=>{gt=Zr,ft=xr});const dr=this.pendingTasks.add();return Cr(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(dr))}),this.navigationTransitions.handleNavigationRequest({source:x,restoredState:j,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:I,extras:J,resolve:gt,reject:ft,promise:cn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),cn.catch(Zr=>Promise.reject(Zr))}setBrowserUrl(I,x){const j=this.urlSerializer.serialize(I);if(this.location.isCurrentPathEqualTo(j)||x.extras.replaceUrl){const ge={...x.extras.state,...this.generateNgRouterState(x.id,this.browserPageId)};this.location.replaceState(j,"",ge)}else{const J={...x.extras.state,...this.generateNgRouterState(x.id,this.browserPageId+1)};this.location.go(j,"",J)}}restoreHistory(I,x=!1){if("computed"===this.canceledNavigationResolution){const J=this.currentPageId-this.browserPageId;0!==J?this.location.historyGo(J):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===J&&(this.resetState(I),this.browserUrlTree=I.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(x&&this.resetState(I),this.resetUrlToCurrentUrlTree())}resetState(I){this.routerState=I.currentRouterState,this.currentUrlTree=I.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,I.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(I,x){return"computed"===this.canceledNavigationResolution?{navigationId:I,\u0275routerPageId:x}:{navigationId:I}}static#e=this.\u0275fac=function(x){return new(x||T)};static#t=this.\u0275prov=p.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();function Vr(T){return!(T instanceof zs||T instanceof Gs)}let il=(()=>{class T{constructor(I,x,j,J,ge,gt){this.router=I,this.route=x,this.tabIndexAttribute=j,this.renderer=J,this.el=ge,this.locationStrategy=gt,this.href=null,this.commands=null,this.onChanges=new Ie.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const ft=ge.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===ft||"area"===ft,this.isAnchorElement?this.subscription=I.events.subscribe(cn=>{cn instanceof Li&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(I){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",I)}ngOnChanges(I){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(I){null!=I?(this.commands=Array.isArray(I)?I:[I],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(I,x,j,J,ge){return!!(null===this.urlTree||this.isAnchorElement&&(0!==I||x||j||J||ge||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const I=null===this.href?null:(0,p.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",I)}applyAttributeValue(I,x){const j=this.renderer,J=this.el.nativeElement;null!==x?j.setAttribute(J,I,x):j.removeAttribute(J,I)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(x){return new(x||T)(p.Y36(_i),p.Y36(Wn),p.$8M("tabindex"),p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(ue.S$))};static#t=this.\u0275dir=p.lG2({type:T,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(x,j){1&x&&p.NdJ("click",function(ge){return j.onClick(ge.button,ge.ctrlKey,ge.shiftKey,ge.altKey,ge.metaKey)}),2&x&&p.uIk("target",j.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",p.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",p.VuI],replaceUrl:["replaceUrl","replaceUrl",p.VuI],routerLink:"routerLink"},standalone:!0,features:[p.Xq5,p.TTD]})}return T})();class ao{}let Ms=(()=>{class T{constructor(I,x,j,J,ge){this.router=I,this.injector=j,this.preloadingStrategy=J,this.loader=ge}setUpPreloading(){this.subscription=this.router.events.pipe((0,Et.h)(I=>I instanceof Li),(0,an.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(I,x){const j=[];for(const J of x){J.providers&&!J._injector&&(J._injector=(0,p.MMx)(J.providers,I,`Route: ${J.path}`));const ge=J._injector??I,gt=J._loadedInjector??ge;(J.loadChildren&&!J._loadedRoutes&&void 0===J.canLoad||J.loadComponent&&!J._loadedComponent)&&j.push(this.preloadConfig(ge,J)),(J.children||J._loadedRoutes)&&j.push(this.processRoutes(gt,J.children??J._loadedRoutes))}return(0,ye.D)(j).pipe((0,ut.J)())}preloadConfig(I,x){return this.preloadingStrategy.preload(x,()=>{let j;j=x.loadChildren&&void 0===x.canLoad?this.loader.loadChildren(I,x):(0,_e.of)(null);const J=j.pipe((0,Ut.z)(ge=>null===ge?(0,_e.of)(void 0):(x._loadedRoutes=ge.routes,x._loadedInjector=ge.injector,this.processRoutes(ge.injector??I,ge.routes))));if(x.loadComponent&&!x._loadedComponent){const ge=this.loader.loadComponent(x);return(0,ye.D)([J,ge]).pipe((0,ut.J)())}return J})}static#e=this.\u0275fac=function(x){return new(x||T)(p.LFG(_i),p.LFG(p.Sil),p.LFG(p.lqb),p.LFG(ao),p.LFG(G))};static#t=this.\u0275prov=p.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();const fa=new p.OlP("");let Vc=(()=>{class T{constructor(I,x,j,J,ge={}){this.urlSerializer=I,this.transitions=x,this.viewportScroller=j,this.zone=J,this.options=ge,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},ge.scrollPositionRestoration=ge.scrollPositionRestoration||"disabled",ge.anchorScrolling=ge.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(I=>{I instanceof _r?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=I.navigationTrigger,this.restoredId=I.restoredState?I.restoredState.navigationId:0):I instanceof Li?(this.lastId=I.id,this.scheduleScrollEvent(I,this.urlSerializer.parse(I.urlAfterRedirects).fragment)):I instanceof Is&&0===I.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(I,this.urlSerializer.parse(I.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(I=>{I instanceof Vo&&(I.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(I.position):I.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(I.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(I,x){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Vo(I,"popstate"===this.lastSource?this.store[this.restoredId]:null,x))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(x){p.$Z()};static#t=this.\u0275prov=p.Yz7({token:T,factory:T.\u0275fac})}return T})();function Cs(T,C){return{\u0275kind:T,\u0275providers:C}}function Bc(){const T=(0,p.f3M)(p.zs3);return C=>{const I=T.get(p.z2F);if(C!==I.components[0])return;const x=T.get(_i),j=T.get(er);1===T.get(pa)&&x.initialNavigation(),T.get($c,null,p.XFs.Optional)?.setUpPreloading(),T.get(fa,null,p.XFs.Optional)?.init(),x.resetRootComponentType(I.componentTypes[0]),j.closed||(j.next(),j.complete(),j.unsubscribe())}}const er=new p.OlP("",{factory:()=>new Ie.x}),pa=new p.OlP("",{providedIn:"root",factory:()=>1}),$c=new p.OlP("");function ma(T){return Cs(0,[{provide:$c,useExisting:Ms},{provide:ao,useExisting:T}])}const Ua=new p.OlP("ROUTER_FORROOT_GUARD"),kt=[ue.Ye,{provide:At,useClass:Fr},_i,bs,{provide:Wn,useFactory:function lo(T){return T.routerState.root},deps:[_i]},G,[]];function pr(){return new p.PXZ("Router",_i)}let zc=(()=>{class T{constructor(I){}static forRoot(I,x){return{ngModule:T,providers:[kt,[],{provide:A,multi:!0,useValue:I},{provide:Ua,useFactory:ai,deps:[[_i,new p.FiY,new p.tp0]]},{provide:fr,useValue:x||{}},x?.useHash?{provide:ue.S$,useClass:ue.Do}:{provide:ue.S$,useClass:ue.b0},{provide:fa,useFactory:()=>{const T=(0,p.f3M)(ue.EM),C=(0,p.f3M)(p.R0b),I=(0,p.f3M)(fr),x=(0,p.f3M)(Oe),j=(0,p.f3M)(At);return I.scrollOffset&&T.setOffset(I.scrollOffset),new Vc(j,x,T,C,I)}},x?.preloadingStrategy?ma(x.preloadingStrategy).\u0275providers:[],{provide:p.PXZ,multi:!0,useFactory:pr},x?.initialNavigation?uo(x):[],x?.bindToComponentInputs?Cs(8,[si,{provide:ns,useExisting:si}]).\u0275providers:[],[{provide:Go,useFactory:Bc},{provide:p.tb,multi:!0,useExisting:Go}]]}}static forChild(I){return{ngModule:T,providers:[{provide:A,multi:!0,useValue:I}]}}static#e=this.\u0275fac=function(x){return new(x||T)(p.LFG(Ua,8))};static#t=this.\u0275mod=p.oAB({type:T});static#n=this.\u0275inj=p.cJS({})}return T})();function ai(T){return"guarded"}function uo(T){return["disabled"===T.initialNavigation?Cs(3,[{provide:p.ip1,multi:!0,useFactory:()=>{const C=(0,p.f3M)(_i);return()=>{C.setUpLocationChangeListener()}}},{provide:pa,useValue:2}]).\u0275providers:[],"enabledBlocking"===T.initialNavigation?Cs(2,[{provide:pa,useValue:0},{provide:p.ip1,multi:!0,deps:[p.zs3],useFactory:C=>{const I=C.get(ue.V_,Promise.resolve());return()=>I.then(()=>new Promise(x=>{const j=C.get(_i),J=C.get(er);Cr(j,()=>{x(!0)}),C.get(Oe).afterPreactivation=()=>(x(!0),J.closed?(0,_e.of)(void 0):J),j.initialNavigation()}))}}]).\u0275providers:[]]}const Go=new p.OlP("")},3106:(Gt,Ue,k)=>{k.d(Ue,{Z:()=>Ct});var p=k(9058),te=k(4537),Y=k(534),ne=k(7879);class ye{constructor(Ot,Tt){this._delegate=Ot,this.firebase=Tt,(0,Y._addComponent)(Ot,new te.wA("app-compat",()=>this,"PUBLIC")),this.container=Ot.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ot){this._delegate.automaticDataCollectionEnabled=Ot}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ot=>{this._delegate.checkDestroyed(),Ot()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,Y.deleteApp)(this._delegate)))}_getService(Ot,Tt=Y._DEFAULT_ENTRY_NAME){var Jt;this._delegate.checkDestroyed();const Ie=this._delegate.container.getProvider(Ot);return!Ie.isInitialized()&&"EXPLICIT"===(null===(Jt=Ie.getComponent())||void 0===Jt?void 0:Jt.instantiationMode)&&Ie.initialize(),Ie.getImmediate({identifier:Tt})}_removeServiceInstance(Ot,Tt=Y._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ot).clearInstance(Tt)}_addComponent(Ot){(0,Y._addComponent)(this._delegate,Ot)}_addOrOverwriteComponent(Ot){(0,Y._addOrOverwriteComponent)(this._delegate,Ot)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ve=new p.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ee=function le(){const ht=function Pe(ht){const Ot={},Tt={__esModule:!0,initializeApp:function ue(Ye,Et={}){const Ut=Y.initializeApp(Ye,Et);if((0,p.r3)(Ot,Ut.name))return Ot[Ut.name];const nt=new ht(Ut,Tt);return Ot[Ut.name]=nt,nt},app:Ie,registerVersion:Y.registerVersion,setLogLevel:Y.setLogLevel,onLog:Y.onLog,apps:null,SDK_VERSION:Y.SDK_VERSION,INTERNAL:{registerComponent:function me(Ye){const Et=Ye.name,Ut=Et.replace("-compat","");if(Y._registerComponent(Ye)&&"PUBLIC"===Ye.type){const nt=(an=Ie())=>{if("function"!=typeof an[Ut])throw ve.create("invalid-app-argument",{appName:Et});return an[Ut]()};void 0!==Ye.serviceProps&&(0,p.ZB)(nt,Ye.serviceProps),Tt[Ut]=nt,ht.prototype[Ut]=function(...an){return this._getService.bind(this,Et).apply(this,Ye.multipleInstances?an:[])}}return"PUBLIC"===Ye.type?Tt[Ut]:null},removeApp:function Jt(Ye){delete Ot[Ye]},useAsService:function He(Ye,Et){return"serverAuth"===Et?null:Et},modularAPIs:Y}};function Ie(Ye){if(!(0,p.r3)(Ot,Ye=Ye||Y._DEFAULT_ENTRY_NAME))throw ve.create("no-app",{appName:Ye});return Ot[Ye]}return Tt.default=Tt,Object.defineProperty(Tt,"apps",{get:function De(){return Object.keys(Ot).map(Ye=>Ot[Ye])}}),Ie.App=ht,Tt}(ye);return ht.INTERNAL=Object.assign(Object.assign({},ht.INTERNAL),{createFirebaseNamespace:le,extendNamespace:function Ot(Tt){(0,p.ZB)(ht,Tt)},createSubscribe:p.ne,ErrorFactory:p.LL,deepExtend:p.ZB}),ht}(),ae=new ne.Yd("@firebase/app-compat");if((0,p.jU)()&&void 0!==self.firebase){ae.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ht=self.firebase.SDK_VERSION;ht&&ht.indexOf("LITE")>=0&&ae.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ct=ee;!function We(ht){(0,Y.registerVersion)("@firebase/app-compat","0.2.35",ht)}()},534:(Gt,Ue,k)=>{k.r(Ue),k.d(Ue,{FirebaseError:()=>ne.ZR,SDK_VERSION:()=>he,_DEFAULT_ENTRY_NAME:()=>wn,_addComponent:()=>ir,_addOrOverwriteComponent:()=>Dr,_apps:()=>tr,_clearComponents:()=>Ht,_components:()=>gr,_getProvider:()=>At,_isFirebaseApp:()=>zn,_isFirebaseServerApp:()=>Gn,_registerComponent:()=>vi,_removeServiceInstance:()=>Fr,_serverApps:()=>Cn,deleteApp:()=>lt,getApp:()=>oe,getApps:()=>Ge,initializeApp:()=>X,initializeServerApp:()=>Se,onLog:()=>V,registerVersion:()=>U,setLogLevel:()=>R});var p=k(5861),te=k(4537),Y=k(7879),ne=k(9058);const ye=(ot,Ve)=>Ve.some(_t=>ot instanceof _t);let _e,ve;const ee=new WeakMap,ae=new WeakMap,Ee=new WeakMap,qe=new WeakMap,We=new WeakMap;let Ot={get(ot,Ve,_t){if(ot instanceof IDBTransaction){if("done"===Ve)return ae.get(ot);if("objectStoreNames"===Ve)return ot.objectStoreNames||Ee.get(ot);if("store"===Ve)return _t.objectStoreNames[1]?void 0:_t.objectStore(_t.objectStoreNames[0])}return ue(ot[Ve])},set:(ot,Ve,_t)=>(ot[Ve]=_t,!0),has:(ot,Ve)=>ot instanceof IDBTransaction&&("done"===Ve||"store"===Ve)||Ve in ot};function Ie(ot){return"function"==typeof ot?function Jt(ot){return ot!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function le(){return ve||(ve=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ot)?function(...Ve){return ot.apply(De(this),Ve),ue(ee.get(this))}:function(...Ve){return ue(ot.apply(De(this),Ve))}:function(Ve,..._t){const $t=ot.call(De(this),Ve,..._t);return Ee.set($t,Ve.sort?Ve.sort():[Ve]),ue($t)}}(ot):(ot instanceof IDBTransaction&&function ht(ot){if(ae.has(ot))return;const Ve=new Promise((_t,$t)=>{const _n=()=>{ot.removeEventListener("complete",on),ot.removeEventListener("error",un),ot.removeEventListener("abort",un)},on=()=>{_t(),_n()},un=()=>{$t(ot.error||new DOMException("AbortError","AbortError")),_n()};ot.addEventListener("complete",on),ot.addEventListener("error",un),ot.addEventListener("abort",un)});ae.set(ot,Ve)}(ot),ye(ot,function Pe(){return _e||(_e=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ot,Ot):ot)}function ue(ot){if(ot instanceof IDBRequest)return function Ct(ot){const Ve=new Promise((_t,$t)=>{const _n=()=>{ot.removeEventListener("success",on),ot.removeEventListener("error",un)},on=()=>{_t(ue(ot.result)),_n()},un=()=>{$t(ot.error),_n()};ot.addEventListener("success",on),ot.addEventListener("error",un)});return Ve.then(_t=>{_t instanceof IDBCursor&&ee.set(_t,ot)}).catch(()=>{}),We.set(Ve,ot),Ve}(ot);if(qe.has(ot))return qe.get(ot);const Ve=Ie(ot);return Ve!==ot&&(qe.set(ot,Ve),We.set(Ve,ot)),Ve}const De=ot=>We.get(ot),Ye=["get","getKey","getAll","getAllKeys","count"],Et=["put","add","delete","clear"],Ut=new Map;function nt(ot,Ve){if(!(ot instanceof IDBDatabase)||Ve in ot||"string"!=typeof Ve)return;if(Ut.get(Ve))return Ut.get(Ve);const _t=Ve.replace(/FromIndex$/,""),$t=Ve!==_t,_n=Et.includes(_t);if(!(_t in($t?IDBIndex:IDBObjectStore).prototype)||!_n&&!Ye.includes(_t))return;const on=function(){var un=(0,p.Z)(function*(Rn,...jn){const qr=this.transaction(Rn,_n?"readwrite":"readonly");let Ar=qr.store;return $t&&(Ar=Ar.index(jn.shift())),(yield Promise.all([Ar[_t](...jn),_n&&qr.done]))[0]});return function(jn){return un.apply(this,arguments)}}();return Ut.set(Ve,on),on}!function Tt(ot){Ot=ot(Ot)}(ot=>({...ot,get:(Ve,_t,$t)=>nt(Ve,_t)||ot.get(Ve,_t,$t),has:(Ve,_t)=>!!nt(Ve,_t)||ot.has(Ve,_t)}));class an{constructor(Ve){this.container=Ve}getPlatformInfoString(){return this.container.getProviders().map(_t=>{if(function dn(ot){const Ve=ot.getComponent();return"VERSION"===Ve?.type}(_t)){const $t=_t.getImmediate();return`${$t.library}/${$t.version}`}return null}).filter(_t=>_t).join(" ")}}const An="@firebase/app",br="0.10.5",Vn=new Y.Yd("@firebase/app"),wn="[DEFAULT]",xn={[An]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},tr=new Map,Cn=new Map,gr=new Map;function ir(ot,Ve){try{ot.container.addComponent(Ve)}catch(_t){Vn.debug(`Component ${Ve.name} failed to register with FirebaseApp ${ot.name}`,_t)}}function Dr(ot,Ve){ot.container.addOrOverwriteComponent(Ve)}function vi(ot){const Ve=ot.name;if(gr.has(Ve))return Vn.debug(`There were multiple attempts to register component ${Ve}.`),!1;gr.set(Ve,ot);for(const _t of tr.values())ir(_t,ot);for(const _t of Cn.values())ir(_t,ot);return!0}function At(ot,Ve){const _t=ot.container.getProvider("heartbeat").getImmediate({optional:!0});return _t&&_t.triggerHeartbeat(),ot.container.getProvider(Ve)}function Fr(ot,Ve,_t=wn){At(ot,Ve).clearInstance(_t)}function zn(ot){return void 0!==ot.options}function Gn(ot){return void 0!==ot.settings}function Ht(){gr.clear()}const ln=new ne.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class $r{constructor(Ve,_t,$t){this._isDeleted=!1,this._options=Object.assign({},Ve),this._config=Object.assign({},_t),this._name=_t.name,this._automaticDataCollectionEnabled=_t.automaticDataCollectionEnabled,this._container=$t,this.container.addComponent(new te.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ve){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ve}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ve){this._isDeleted=Ve}checkDestroyed(){if(this.isDeleted)throw ln.create("app-deleted",{appName:this._name})}}class dt extends $r{constructor(Ve,_t,$t,_n){const on=void 0!==_t.automaticDataCollectionEnabled&&_t.automaticDataCollectionEnabled,un={name:$t,automaticDataCollectionEnabled:on};super(void 0!==Ve.apiKey?Ve:Ve.options,un,_n),this._serverConfig=Object.assign({automaticDataCollectionEnabled:on},_t),this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()}),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,_t.releaseOnDeref=void 0,U(An,br,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(Ve){this.isDeleted||(this._refCount++,void 0!==Ve&&this._finalizationRegistry.register(Ve,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){lt(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw ln.create("server-app-deleted")}}const he="10.12.2";function X(ot,Ve={}){let _t=ot;"object"!=typeof Ve&&(Ve={name:Ve});const $t=Object.assign({name:wn,automaticDataCollectionEnabled:!1},Ve),_n=$t.name;if("string"!=typeof _n||!_n)throw ln.create("bad-app-name",{appName:String(_n)});if(_t||(_t=(0,ne.aH)()),!_t)throw ln.create("no-options");const on=tr.get(_n);if(on){if((0,ne.vZ)(_t,on.options)&&(0,ne.vZ)($t,on.config))return on;throw ln.create("duplicate-app",{appName:_n})}const un=new te.H0(_n);for(const jn of gr.values())un.addComponent(jn);const Rn=new $r(_t,$t,un);return tr.set(_n,Rn),Rn}function Se(ot,Ve){if((0,ne.jU)())throw ln.create("invalid-server-app-environment");let _t;void 0===Ve.automaticDataCollectionEnabled&&(Ve.automaticDataCollectionEnabled=!1),_t=zn(ot)?ot.options:ot;const $t=Object.assign(Object.assign({},Ve),_t);if(void 0!==$t.releaseOnDeref&&delete $t.releaseOnDeref,void 0!==Ve.releaseOnDeref&&typeof FinalizationRegistry>"u")throw ln.create("finalization-registry-not-supported",{});const on=""+(qr=JSON.stringify($t),[...qr].reduce((Ar,Lr)=>Math.imul(31,Ar)+Lr.charCodeAt(0)|0,0)),un=Cn.get(on);var qr;if(un)return un.incRefCount(Ve.releaseOnDeref),un;const Rn=new te.H0(on);for(const qr of gr.values())Rn.addComponent(qr);const jn=new dt(_t,Ve,on,Rn);return Cn.set(on,jn),jn}function oe(ot=wn){const Ve=tr.get(ot);if(!Ve&&ot===wn&&(0,ne.aH)())return X();if(!Ve)throw ln.create("no-app",{appName:ot});return Ve}function Ge(){return Array.from(tr.values())}function lt(ot){return de.apply(this,arguments)}function de(){return(de=(0,p.Z)(function*(ot){let Ve=!1;const _t=ot.name;tr.has(_t)?(Ve=!0,tr.delete(_t)):Cn.has(_t)&&ot.decRefCount()<=0&&(Cn.delete(_t),Ve=!0),Ve&&(yield Promise.all(ot.container.getProviders().map($t=>$t.delete())),ot.isDeleted=!0)})).apply(this,arguments)}function U(ot,Ve,_t){var $t;let _n=null!==($t=xn[ot])&&void 0!==$t?$t:ot;_t&&(_n+=`-${_t}`);const on=_n.match(/\s|\//),un=Ve.match(/\s|\//);if(on||un){const Rn=[`Unable to register library "${_n}" with version "${Ve}":`];return on&&Rn.push(`library name "${_n}" contains illegal characters (whitespace or "/")`),on&&un&&Rn.push("and"),un&&Rn.push(`version name "${Ve}" contains illegal characters (whitespace or "/")`),void Vn.warn(Rn.join(" "))}vi(new te.wA(`${_n}-version`,()=>({library:_n,version:Ve}),"VERSION"))}function V(ot,Ve){if(null!==ot&&"function"!=typeof ot)throw ln.create("invalid-log-argument");(0,Y.Am)(ot,Ve)}function R(ot){(0,Y.Ub)(ot)}const F="firebase-heartbeat-database",se=1,Ze="firebase-heartbeat-store";let Bt=null;function Yt(){return Bt||(Bt=function me(ot,Ve,{blocked:_t,upgrade:$t,blocking:_n,terminated:on}={}){const un=indexedDB.open(ot,Ve),Rn=ue(un);return $t&&un.addEventListener("upgradeneeded",jn=>{$t(ue(un.result),jn.oldVersion,jn.newVersion,ue(un.transaction),jn)}),_t&&un.addEventListener("blocked",jn=>_t(jn.oldVersion,jn.newVersion,jn)),Rn.then(jn=>{on&&jn.addEventListener("close",()=>on()),_n&&jn.addEventListener("versionchange",qr=>_n(qr.oldVersion,qr.newVersion,qr))}).catch(()=>{}),Rn}(F,se,{upgrade:(ot,Ve)=>{if(0===Ve)try{ot.createObjectStore(Ze)}catch(_t){console.warn(_t)}}}).catch(ot=>{throw ln.create("idb-open",{originalErrorMessage:ot.message})})),Bt}function be(){return(be=(0,p.Z)(function*(ot){try{const _t=(yield Yt()).transaction(Ze),$t=yield _t.objectStore(Ze).get(je(ot));return yield _t.done,$t}catch(Ve){if(Ve instanceof ne.ZR)Vn.warn(Ve.message);else{const _t=ln.create("idb-get",{originalErrorMessage:Ve?.message});Vn.warn(_t.message)}}})).apply(this,arguments)}function en(ot,Ve){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,p.Z)(function*(ot,Ve){try{const $t=(yield Yt()).transaction(Ze,"readwrite");yield $t.objectStore(Ze).put(Ve,je(ot)),yield $t.done}catch(_t){if(_t instanceof ne.ZR)Vn.warn(_t.message);else{const $t=ln.create("idb-set",{originalErrorMessage:_t?.message});Vn.warn($t.message)}}})).apply(this,arguments)}function je(ot){return`${ot.name}!${ot.options.appId}`}class mt{constructor(Ve){this.container=Ve,this._heartbeatsCache=null;const _t=this.container.getProvider("app").getImmediate();this._storage=new zt(_t),this._heartbeatsCachePromise=this._storage.read().then($t=>(this._heartbeatsCache=$t,$t))}triggerHeartbeat(){var Ve=this;return(0,p.Z)(function*(){var _t,$t;const on=Ve.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),un=Ft();if((null!=(null===(_t=Ve._heartbeatsCache)||void 0===_t?void 0:_t.heartbeats)||(Ve._heartbeatsCache=yield Ve._heartbeatsCachePromise,null!=(null===($t=Ve._heartbeatsCache)||void 0===$t?void 0:$t.heartbeats)))&&Ve._heartbeatsCache.lastSentHeartbeatDate!==un&&!Ve._heartbeatsCache.heartbeats.some(Rn=>Rn.date===un))return Ve._heartbeatsCache.heartbeats.push({date:un,agent:on}),Ve._heartbeatsCache.heartbeats=Ve._heartbeatsCache.heartbeats.filter(Rn=>{const jn=new Date(Rn.date).valueOf();return Date.now()-jn<=2592e6}),Ve._storage.overwrite(Ve._heartbeatsCache)})()}getHeartbeatsHeader(){var Ve=this;return(0,p.Z)(function*(){var _t;if(null===Ve._heartbeatsCache&&(yield Ve._heartbeatsCachePromise),null==(null===(_t=Ve._heartbeatsCache)||void 0===_t?void 0:_t.heartbeats)||0===Ve._heartbeatsCache.heartbeats.length)return"";const $t=Ft(),{heartbeatsToSend:_n,unsentEntries:on}=function Kt(ot,Ve=1024){const _t=[];let $t=ot.slice();for(const _n of ot){const on=_t.find(un=>un.agent===_n.agent);if(on){if(on.dates.push(_n.date),hr(_t)>Ve){on.dates.pop();break}}else if(_t.push({agent:_n.agent,dates:[_n.date]}),hr(_t)>Ve){_t.pop();break}$t=$t.slice(1)}return{heartbeatsToSend:_t,unsentEntries:$t}}(Ve._heartbeatsCache.heartbeats),un=(0,ne.L)(JSON.stringify({version:2,heartbeats:_n}));return Ve._heartbeatsCache.lastSentHeartbeatDate=$t,on.length>0?(Ve._heartbeatsCache.heartbeats=on,yield Ve._storage.overwrite(Ve._heartbeatsCache)):(Ve._heartbeatsCache.heartbeats=[],Ve._storage.overwrite(Ve._heartbeatsCache)),un})()}}function Ft(){return(new Date).toISOString().substring(0,10)}class zt{constructor(Ve){this.app=Ve,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,p.Z)(function*(){return!!(0,ne.hl)()&&(0,ne.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ve=this;return(0,p.Z)(function*(){if(yield Ve._canUseIndexedDBPromise){const $t=yield function Sn(ot){return be.apply(this,arguments)}(Ve.app);return $t?.heartbeats?$t:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(Ve){var _t=this;return(0,p.Z)(function*(){var $t;if(yield _t._canUseIndexedDBPromise){const on=yield _t.read();return en(_t.app,{lastSentHeartbeatDate:null!==($t=Ve.lastSentHeartbeatDate)&&void 0!==$t?$t:on.lastSentHeartbeatDate,heartbeats:Ve.heartbeats})}})()}add(Ve){var _t=this;return(0,p.Z)(function*(){var $t;if(yield _t._canUseIndexedDBPromise){const on=yield _t.read();return en(_t.app,{lastSentHeartbeatDate:null!==($t=Ve.lastSentHeartbeatDate)&&void 0!==$t?$t:on.lastSentHeartbeatDate,heartbeats:[...on.heartbeats,...Ve.heartbeats]})}})()}}function hr(ot){return(0,ne.L)(JSON.stringify({version:2,heartbeats:ot})).length}!function Qt(ot){vi(new te.wA("platform-logger",Ve=>new an(Ve),"PRIVATE")),vi(new te.wA("heartbeat",Ve=>new mt(Ve),"PRIVATE")),U(An,br,ot),U(An,br,"esm2017"),U("fire-js","")}("")},4537:(Gt,Ue,k)=>{k.d(Ue,{H0:()=>Pe,wA:()=>Y});var p=k(5861),te=k(9058);class Y{constructor(ee,ae,Ee){this.name=ee,this.instanceFactory=ae,this.type=Ee,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ee){return this.instantiationMode=ee,this}setMultipleInstances(ee){return this.multipleInstances=ee,this}setServiceProps(ee){return this.serviceProps=ee,this}setInstanceCreatedCallback(ee){return this.onInstanceCreated=ee,this}}const ne="[DEFAULT]";class ye{constructor(ee,ae){this.name=ee,this.container=ae,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ee){const ae=this.normalizeInstanceIdentifier(ee);if(!this.instancesDeferred.has(ae)){const Ee=new te.BH;if(this.instancesDeferred.set(ae,Ee),this.isInitialized(ae)||this.shouldAutoInitialize())try{const qe=this.getOrInitializeService({instanceIdentifier:ae});qe&&Ee.resolve(qe)}catch{}}return this.instancesDeferred.get(ae).promise}getImmediate(ee){var ae;const Ee=this.normalizeInstanceIdentifier(ee?.identifier),qe=null!==(ae=ee?.optional)&&void 0!==ae&&ae;if(!this.isInitialized(Ee)&&!this.shouldAutoInitialize()){if(qe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ee})}catch(We){if(qe)return null;throw We}}getComponent(){return this.component}setComponent(ee){if(ee.name!==this.name)throw Error(`Mismatching Component ${ee.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ee,this.shouldAutoInitialize()){if(function ve(le){return"EAGER"===le.instantiationMode}(ee))try{this.getOrInitializeService({instanceIdentifier:ne})}catch{}for(const[ae,Ee]of this.instancesDeferred.entries()){const qe=this.normalizeInstanceIdentifier(ae);try{const We=this.getOrInitializeService({instanceIdentifier:qe});Ee.resolve(We)}catch{}}}}clearInstance(ee=ne){this.instancesDeferred.delete(ee),this.instancesOptions.delete(ee),this.instances.delete(ee)}delete(){var ee=this;return(0,p.Z)(function*(){const ae=Array.from(ee.instances.values());yield Promise.all([...ae.filter(Ee=>"INTERNAL"in Ee).map(Ee=>Ee.INTERNAL.delete()),...ae.filter(Ee=>"_delete"in Ee).map(Ee=>Ee._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ee=ne){return this.instances.has(ee)}getOptions(ee=ne){return this.instancesOptions.get(ee)||{}}initialize(ee={}){const{options:ae={}}=ee,Ee=this.normalizeInstanceIdentifier(ee.instanceIdentifier);if(this.isInitialized(Ee))throw Error(`${this.name}(${Ee}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const qe=this.getOrInitializeService({instanceIdentifier:Ee,options:ae});for(const[We,Ct]of this.instancesDeferred.entries())Ee===this.normalizeInstanceIdentifier(We)&&Ct.resolve(qe);return qe}onInit(ee,ae){var Ee;const qe=this.normalizeInstanceIdentifier(ae),We=null!==(Ee=this.onInitCallbacks.get(qe))&&void 0!==Ee?Ee:new Set;We.add(ee),this.onInitCallbacks.set(qe,We);const Ct=this.instances.get(qe);return Ct&&ee(Ct,qe),()=>{We.delete(ee)}}invokeOnInitCallbacks(ee,ae){const Ee=this.onInitCallbacks.get(ae);if(Ee)for(const qe of Ee)try{qe(ee,ae)}catch{}}getOrInitializeService({instanceIdentifier:ee,options:ae={}}){let Ee=this.instances.get(ee);if(!Ee&&this.component&&(Ee=this.component.instanceFactory(this.container,{instanceIdentifier:(le=ee,le===ne?void 0:le),options:ae}),this.instances.set(ee,Ee),this.instancesOptions.set(ee,ae),this.invokeOnInitCallbacks(Ee,ee),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ee,Ee)}catch{}var le;return Ee||null}normalizeInstanceIdentifier(ee=ne){return this.component?this.component.multipleInstances?ee:ne:ee}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Pe{constructor(ee){this.name=ee,this.providers=new Map}addComponent(ee){const ae=this.getProvider(ee.name);if(ae.isComponentSet())throw new Error(`Component ${ee.name} has already been registered with ${this.name}`);ae.setComponent(ee)}addOrOverwriteComponent(ee){this.getProvider(ee.name).isComponentSet()&&this.providers.delete(ee.name),this.addComponent(ee)}getProvider(ee){if(this.providers.has(ee))return this.providers.get(ee);const ae=new ye(ee,this);return this.providers.set(ee,ae),ae}getProviders(){return Array.from(this.providers.values())}}},7879:(Gt,Ue,k)=>{k.d(Ue,{Am:()=>le,Ub:()=>Pe,Yd:()=>ve,in:()=>te});const p=[];var te=function(ee){return ee[ee.DEBUG=0]="DEBUG",ee[ee.VERBOSE=1]="VERBOSE",ee[ee.INFO=2]="INFO",ee[ee.WARN=3]="WARN",ee[ee.ERROR=4]="ERROR",ee[ee.SILENT=5]="SILENT",ee}(te||{});const Y={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},ne=te.INFO,ye={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},_e=(ee,ae,...Ee)=>{if(ae<ee.logLevel)return;const qe=(new Date).toISOString(),We=ye[ae];if(!We)throw new Error(`Attempted to log a message with an invalid logType (value: ${ae})`);console[We](`[${qe}]  ${ee.name}:`,...Ee)};class ve{constructor(ae){this.name=ae,this._logLevel=ne,this._logHandler=_e,this._userLogHandler=null,p.push(this)}get logLevel(){return this._logLevel}set logLevel(ae){if(!(ae in te))throw new TypeError(`Invalid value "${ae}" assigned to \`logLevel\``);this._logLevel=ae}setLogLevel(ae){this._logLevel="string"==typeof ae?Y[ae]:ae}get logHandler(){return this._logHandler}set logHandler(ae){if("function"!=typeof ae)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ae}get userLogHandler(){return this._userLogHandler}set userLogHandler(ae){this._userLogHandler=ae}debug(...ae){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...ae),this._logHandler(this,te.DEBUG,...ae)}log(...ae){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...ae),this._logHandler(this,te.VERBOSE,...ae)}info(...ae){this._userLogHandler&&this._userLogHandler(this,te.INFO,...ae),this._logHandler(this,te.INFO,...ae)}warn(...ae){this._userLogHandler&&this._userLogHandler(this,te.WARN,...ae),this._logHandler(this,te.WARN,...ae)}error(...ae){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...ae),this._logHandler(this,te.ERROR,...ae)}}function Pe(ee){p.forEach(ae=>{ae.setLogLevel(ee)})}function le(ee,ae){for(const Ee of p){let qe=null;ae&&ae.level&&(qe=Y[ae.level]),Ee.userLogHandler=null===ee?null:(We,Ct,...ht)=>{const Ot=ht.map(Tt=>{if(null==Tt)return null;if("string"==typeof Tt)return Tt;if("number"==typeof Tt||"boolean"==typeof Tt)return Tt.toString();if(Tt instanceof Error)return Tt.message;try{return JSON.stringify(Tt)}catch{return null}}).filter(Tt=>Tt).join(" ");Ct>=(qe??We.logLevel)&&ee({level:te[Ct].toLowerCase(),message:Ot,args:ht,type:We.name})}}}},7142:(Gt,Ue,k)=>{k.d(Ue,{Z:()=>p.Z});var p=k(3106);p.Z.registerVersion("firebase","10.12.2","app-compat")},3985:(Gt,Ue,k)=>{k.r(Ue);var p=k(5861),te=k(3106),Y=k(534),ne=k(9058),ye=k(7879),_e=k(7582),ve=k(4537);const le={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const Ct=function qe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},ht=function We(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ot=new ne.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Jt=new ye.Yd("@firebase/auth");function ue(_,...u){Jt.logLevel<=ye.in.ERROR&&Jt.error(`Auth (${Y.SDK_VERSION}): ${_}`,...u)}function De(_,...u){throw Ut(_,...u)}function me(_,...u){return Ut(_,...u)}function He(_,u,d){const v=Object.assign(Object.assign({},ht()),{[u]:d});return new ne.LL("auth","Firebase",v).create(u,{appName:_.name})}function Ye(_){return He(_,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Et(_,u,d){if(!(u instanceof d))throw d.name!==u.constructor.name&&De(_,"argument-error"),He(_,"argument-error",`Type of ${u.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ut(_,...u){if("string"!=typeof _){const d=u[0],v=[...u.slice(1)];return v[0]&&(v[0].appName=_.name),_._errorFactory.create(d,...v)}return Ot.create(_,...u)}function nt(_,u,...d){if(!_)throw Ut(u,...d)}function an(_){const u="INTERNAL ASSERTION FAILED: "+_;throw ue(u),new Error(u)}function dn(_,u){_||an(u)}function An(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function br(){return"http:"===Vn()||"https:"===Vn()}function Vn(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class Ne{constructor(u,d){this.shortDelay=u,this.longDelay=d,dn(d>u,"Short delay should be less than long delay!"),this.isMobile=(0,ne.uI)()||(0,ne.b$)()}get(){return function hn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(br()||(0,ne.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Be(_,u){dn(_.emulator,"Emulator should always be set here");const{url:d}=_.emulator;return u?`${d}${u.startsWith("/")?u.slice(1):u}`:d}class ct{static initialize(u,d,v){this.fetchImpl=u,d&&(this.headersImpl=d),v&&(this.responseImpl=v)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void an("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void an("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void an("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const rt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},wt=new Ne(3e4,6e4);function ut(_,u){return _.tenantId&&!u.tenantId?Object.assign(Object.assign({},u),{tenantId:_.tenantId}):u}function jt(_,u,d,v){return yt.apply(this,arguments)}function yt(){return(yt=(0,p.Z)(function*(_,u,d,v,L={}){return sr(_,L,(0,p.Z)(function*(){let q={},Te={};v&&("GET"===u?Te=v:q={body:JSON.stringify(v)});const ze=(0,ne.xO)(Object.assign({key:_.config.apiKey},Te)).slice(1),Dt=yield _._getAdditionalHeaders();return Dt["Content-Type"]="application/json",_.languageCode&&(Dt["X-Firebase-Locale"]=_.languageCode),ct.fetch()(Yn(_,_.config.apiHost,d,ze),Object.assign({method:u,headers:Dt,referrerPolicy:"no-referrer"},q))}))})).apply(this,arguments)}function sr(_,u,d){return bn.apply(this,arguments)}function bn(){return(bn=(0,p.Z)(function*(_,u,d){_._canInitEmulator=!1;const v=Object.assign(Object.assign({},rt),u);try{const L=new St(_),q=yield Promise.race([d(),L.promise]);L.clearNetworkTimeout();const Te=yield q.json();if("needConfirmation"in Te)throw Rt(_,"account-exists-with-different-credential",Te);if(q.ok&&!("errorMessage"in Te))return Te;{const ze=q.ok?Te.errorMessage:Te.error.message,[Dt,rn]=ze.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Dt)throw Rt(_,"credential-already-in-use",Te);if("EMAIL_EXISTS"===Dt)throw Rt(_,"email-already-in-use",Te);if("USER_DISABLED"===Dt)throw Rt(_,"user-disabled",Te);const yn=v[Dt]||Dt.toLowerCase().replace(/[_\s]+/g,"-");if(rn)throw He(_,yn,rn);De(_,yn)}}catch(L){if(L instanceof ne.ZR)throw L;De(_,"network-request-failed",{message:String(L)})}})).apply(this,arguments)}function st(_,u,d,v){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,p.Z)(function*(_,u,d,v,L={}){const q=yield jt(_,u,d,v,L);return"mfaPendingCredential"in q&&De(_,"multi-factor-auth-required",{_serverResponse:q}),q})).apply(this,arguments)}function Yn(_,u,d,v){const L=`${u}${d}?${v}`;return _.config.emulator?Be(_.config,L):`${_.config.apiScheme}://${L}`}function In(_){switch(_){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class St{constructor(u){this.auth=u,this.timer=null,this.promise=new Promise((d,v)=>{this.timer=setTimeout(()=>v(me(this.auth,"network-request-failed")),wt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Rt(_,u,d){const v={appName:_.name};d.email&&(v.email=d.email),d.phoneNumber&&(v.phoneNumber=d.phoneNumber);const L=me(_,u,v);return L.customData._tokenResponse=d,L}function Jn(_){return void 0!==_&&void 0!==_.getResponse}function Pt(_){return void 0!==_&&void 0!==_.enterprise}class tt{constructor(u){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===u.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=u.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=u.recaptchaEnforcementState}getProviderEnforcementState(u){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const d of this.recaptchaEnforcementState)if(d.provider&&d.provider===u)return In(d.enforcementState);return null}isProviderEnabled(u){return"ENFORCE"===this.getProviderEnforcementState(u)||"AUDIT"===this.getProviderEnforcementState(u)}}function or(){return(or=(0,p.Z)(function*(_){return(yield jt(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Nr(_,u){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,p.Z)(function*(_,u){return jt(_,"GET","/v2/recaptchaConfig",ut(_,u))})).apply(this,arguments)}function wn(){return(wn=(0,p.Z)(function*(_,u){return jt(_,"POST","/v1/accounts:delete",u)})).apply(this,arguments)}function tr(){return(tr=(0,p.Z)(function*(_,u){return jt(_,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function Cn(_,u){return gr.apply(this,arguments)}function gr(){return(gr=(0,p.Z)(function*(_,u){return jt(_,"POST","/v1/accounts:lookup",u)})).apply(this,arguments)}function ir(_){if(_)try{const u=new Date(Number(_));if(!isNaN(u.getTime()))return u.toUTCString()}catch{}}function At(){return(At=(0,p.Z)(function*(_,u=!1){const d=(0,ne.m9)(_),v=yield d.getIdToken(u),L=zn(v);nt(L&&L.exp&&L.auth_time&&L.iat,d.auth,"internal-error");const q="object"==typeof L.firebase?L.firebase:void 0,Te=q?.sign_in_provider;return{claims:L,token:v,authTime:ir(Fr(L.auth_time)),issuedAtTime:ir(Fr(L.iat)),expirationTime:ir(Fr(L.exp)),signInProvider:Te||null,signInSecondFactor:q?.sign_in_second_factor||null}})).apply(this,arguments)}function Fr(_){return 1e3*Number(_)}function zn(_){const[u,d,v]=_.split(".");if(void 0===u||void 0===d||void 0===v)return ue("JWT malformed, contained fewer than 3 sections"),null;try{const L=(0,ne.tV)(d);return L?JSON.parse(L):(ue("Failed to decode base64 JWT payload"),null)}catch(L){return ue("Caught error parsing JWT payload as JSON",L?.toString()),null}}function Gn(_){const u=zn(_);return nt(u,"internal-error"),nt(typeof u.exp<"u","internal-error"),nt(typeof u.iat<"u","internal-error"),Number(u.exp)-Number(u.iat)}function Ht(_,u){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,p.Z)(function*(_,u,d=!1){if(d)return u;try{return yield u}catch(v){throw v instanceof ne.ZR&&function ln({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}(v)&&_.auth.currentUser===_&&(yield _.auth.signOut()),v}})).apply(this,arguments)}class $r{constructor(u){this.user=u,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(u){var d;if(u){const v=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),v}{this.errorBackoff=3e4;const L=(null!==(d=this.user.stsTokenManager.expirationTime)&&void 0!==d?d:0)-Date.now()-3e5;return Math.max(0,L)}}schedule(u=!1){var d=this;if(!this.isRunning)return;const v=this.getInterval(u);this.timerId=setTimeout((0,p.Z)(function*(){yield d.iteration()}),v)}iteration(){var u=this;return(0,p.Z)(function*(){try{yield u.user.getIdToken(!0)}catch(d){return void("auth/network-request-failed"===d?.code&&u.schedule(!0))}u.schedule()})()}}class dt{constructor(u,d){this.createdAt=u,this.lastLoginAt=d,this._initializeTime()}_initializeTime(){this.lastSignInTime=ir(this.lastLoginAt),this.creationTime=ir(this.createdAt)}_copy(u){this.createdAt=u.createdAt,this.lastLoginAt=u.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function he(_){return X.apply(this,arguments)}function X(){return(X=(0,p.Z)(function*(_){var u;const d=_.auth,v=yield _.getIdToken(),L=yield Ht(_,Cn(d,{idToken:v}));nt(L?.users.length,d,"internal-error");const q=L.users[0];_._notifyReloadListener(q);const Te=null!==(u=q.providerUserInfo)&&void 0!==u&&u.length?lt(q.providerUserInfo):[],ze=function Ge(_,u){return[..._.filter(v=>!u.some(L=>L.providerId===v.providerId)),...u]}(_.providerData,Te),yn=!!_.isAnonymous&&!(_.email&&q.passwordHash||ze?.length),gn={uid:q.localId,displayName:q.displayName||null,photoURL:q.photoUrl||null,email:q.email||null,emailVerified:q.emailVerified||!1,phoneNumber:q.phoneNumber||null,tenantId:q.tenantId||null,providerData:ze,metadata:new dt(q.createdAt,q.lastLoginAt),isAnonymous:yn};Object.assign(_,gn)})).apply(this,arguments)}function oe(){return(oe=(0,p.Z)(function*(_){const u=(0,ne.m9)(_);yield he(u),yield u.auth._persistUserIfCurrent(u),u.auth._notifyListenersIfCurrent(u)})).apply(this,arguments)}function lt(_){return _.map(u=>{var{providerId:d}=u,v=(0,_e._T)(u,["providerId"]);return{providerId:d,uid:v.rawId||"",displayName:v.displayName||null,email:v.email||null,phoneNumber:v.phoneNumber||null,photoURL:v.photoUrl||null}})}function U(){return(U=(0,p.Z)(function*(_,u){const d=yield sr(_,{},(0,p.Z)(function*(){const v=(0,ne.xO)({grant_type:"refresh_token",refresh_token:u}).slice(1),{tokenApiHost:L,apiKey:q}=_.config,Te=Yn(_,L,"/v1/token",`key=${q}`),ze=yield _._getAdditionalHeaders();return ze["Content-Type"]="application/x-www-form-urlencoded",ct.fetch()(Te,{method:"POST",headers:ze,body:v})}));return{accessToken:d.access_token,expiresIn:d.expires_in,refreshToken:d.refresh_token}})).apply(this,arguments)}function R(){return(R=(0,p.Z)(function*(_,u){return jt(_,"POST","/v2/accounts:revokeToken",ut(_,u))})).apply(this,arguments)}class F{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(u){nt(u.idToken,"internal-error"),nt(typeof u.idToken<"u","internal-error"),nt(typeof u.refreshToken<"u","internal-error");const d="expiresIn"in u&&typeof u.expiresIn<"u"?Number(u.expiresIn):Gn(u.idToken);this.updateTokensAndExpiration(u.idToken,u.refreshToken,d)}updateFromIdToken(u){nt(0!==u.length,"internal-error");const d=Gn(u);this.updateTokensAndExpiration(u,null,d)}getToken(u,d=!1){var v=this;return(0,p.Z)(function*(){return d||!v.accessToken||v.isExpired?(nt(v.refreshToken,u,"user-token-expired"),v.refreshToken?(yield v.refresh(u,v.refreshToken),v.accessToken):null):v.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(u,d){var v=this;return(0,p.Z)(function*(){const{accessToken:L,refreshToken:q,expiresIn:Te}=yield function de(_,u){return U.apply(this,arguments)}(u,d);v.updateTokensAndExpiration(L,q,Number(Te))})()}updateTokensAndExpiration(u,d,v){this.refreshToken=d||null,this.accessToken=u||null,this.expirationTime=Date.now()+1e3*v}static fromJSON(u,d){const{refreshToken:v,accessToken:L,expirationTime:q}=d,Te=new F;return v&&(nt("string"==typeof v,"internal-error",{appName:u}),Te.refreshToken=v),L&&(nt("string"==typeof L,"internal-error",{appName:u}),Te.accessToken=L),q&&(nt("number"==typeof q,"internal-error",{appName:u}),Te.expirationTime=q),Te}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(u){this.accessToken=u.accessToken,this.refreshToken=u.refreshToken,this.expirationTime=u.expirationTime}_clone(){return Object.assign(new F,this.toJSON())}_performRefresh(){return an("not implemented")}}function se(_,u){nt("string"==typeof _||typeof _>"u","internal-error",{appName:u})}class Ze{constructor(u){var{uid:d,auth:v,stsTokenManager:L}=u,q=(0,_e._T)(u,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $r(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=d,this.auth=v,this.stsTokenManager=L,this.accessToken=L.accessToken,this.displayName=q.displayName||null,this.email=q.email||null,this.emailVerified=q.emailVerified||!1,this.phoneNumber=q.phoneNumber||null,this.photoURL=q.photoURL||null,this.isAnonymous=q.isAnonymous||!1,this.tenantId=q.tenantId||null,this.providerData=q.providerData?[...q.providerData]:[],this.metadata=new dt(q.createdAt||void 0,q.lastLoginAt||void 0)}getIdToken(u){var d=this;return(0,p.Z)(function*(){const v=yield Ht(d,d.stsTokenManager.getToken(d.auth,u));return nt(v,d.auth,"internal-error"),d.accessToken!==v&&(d.accessToken=v,yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)),v})()}getIdTokenResult(u){return function vi(_){return At.apply(this,arguments)}(this,u)}reload(){return function Se(_){return oe.apply(this,arguments)}(this)}_assign(u){this!==u&&(nt(this.uid===u.uid,this.auth,"internal-error"),this.displayName=u.displayName,this.photoURL=u.photoURL,this.email=u.email,this.emailVerified=u.emailVerified,this.phoneNumber=u.phoneNumber,this.isAnonymous=u.isAnonymous,this.tenantId=u.tenantId,this.providerData=u.providerData.map(d=>Object.assign({},d)),this.metadata._copy(u.metadata),this.stsTokenManager._assign(u.stsTokenManager))}_clone(u){const d=new Ze(Object.assign(Object.assign({},this),{auth:u,stsTokenManager:this.stsTokenManager._clone()}));return d.metadata._copy(this.metadata),d}_onReload(u){nt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=u,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(u){this.reloadListener?this.reloadListener(u):this.reloadUserInfo=u}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(u,d=!1){var v=this;return(0,p.Z)(function*(){let L=!1;u.idToken&&u.idToken!==v.stsTokenManager.accessToken&&(v.stsTokenManager.updateFromServerResponse(u),L=!0),d&&(yield he(v)),yield v.auth._persistUserIfCurrent(v),L&&v.auth._notifyListenersIfCurrent(v)})()}delete(){var u=this;return(0,p.Z)(function*(){if((0,Y._isFirebaseServerApp)(u.auth.app))return Promise.reject(Ye(u.auth));const d=yield u.getIdToken();return yield Ht(u,function fn(_,u){return wn.apply(this,arguments)}(u.auth,{idToken:d})),u.stsTokenManager.clearRefreshToken(),u.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(u=>Object.assign({},u)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(u,d){var v,L,q,Te,ze,Dt,rn,yn;const gn=null!==(v=d.displayName)&&void 0!==v?v:void 0,li=null!==(L=d.email)&&void 0!==L?L:void 0,ds=null!==(q=d.phoneNumber)&&void 0!==q?q:void 0,wl=null!==(Te=d.photoURL)&&void 0!==Te?Te:void 0,Eh=null!==(ze=d.tenantId)&&void 0!==ze?ze:void 0,ad=null!==(Dt=d._redirectEventId)&&void 0!==Dt?Dt:void 0,Tm=null!==(rn=d.createdAt)&&void 0!==rn?rn:void 0,Ec=null!==(yn=d.lastLoginAt)&&void 0!==yn?yn:void 0,{uid:ld,emailVerified:cd,isAnonymous:ud,providerData:dd,stsTokenManager:hd}=d;nt(ld&&hd,u,"internal-error");const qf=F.fromJSON(this.name,hd);nt("string"==typeof ld,u,"internal-error"),se(gn,u.name),se(li,u.name),nt("boolean"==typeof cd,u,"internal-error"),nt("boolean"==typeof ud,u,"internal-error"),se(ds,u.name),se(wl,u.name),se(Eh,u.name),se(ad,u.name),se(Tm,u.name),se(Ec,u.name);const Ic=new Ze({uid:ld,auth:u,email:li,emailVerified:cd,displayName:gn,isAnonymous:ud,photoURL:wl,phoneNumber:ds,tenantId:Eh,stsTokenManager:qf,createdAt:Tm,lastLoginAt:Ec});return dd&&Array.isArray(dd)&&(Ic.providerData=dd.map(Dl=>Object.assign({},Dl))),ad&&(Ic._redirectEventId=ad),Ic}static _fromIdTokenResponse(u,d,v=!1){return(0,p.Z)(function*(){const L=new F;L.updateFromServerResponse(d);const q=new Ze({uid:d.localId,auth:u,stsTokenManager:L,isAnonymous:v});return yield he(q),q})()}static _fromGetAccountInfoResponse(u,d,v){return(0,p.Z)(function*(){const L=d.users[0];nt(void 0!==L.localId,"internal-error");const q=void 0!==L.providerUserInfo?lt(L.providerUserInfo):[],Te=!(L.email&&L.passwordHash||q?.length),ze=new F;ze.updateFromIdToken(v);const Dt=new Ze({uid:L.localId,auth:u,stsTokenManager:ze,isAnonymous:Te}),rn={uid:L.localId,displayName:L.displayName||null,photoURL:L.photoUrl||null,email:L.email||null,emailVerified:L.emailVerified||!1,phoneNumber:L.phoneNumber||null,tenantId:L.tenantId||null,providerData:q,metadata:new dt(L.createdAt,L.lastLoginAt),isAnonymous:!(L.email&&L.passwordHash||q?.length)};return Object.assign(Dt,rn),Dt})()}}const Bt=new Map;function Yt(_){dn(_ instanceof Function,"Expected a class definition");let u=Bt.get(_);return u?(dn(u instanceof _,"Instance stored in cache mismatched with class"),u):(u=new _,Bt.set(_,u),u)}const be=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,p.Z)(function*(){return!0})()}_set(d,v){var L=this;return(0,p.Z)(function*(){L.storage[d]=v})()}_get(d){var v=this;return(0,p.Z)(function*(){const L=v.storage[d];return void 0===L?null:L})()}_remove(d){var v=this;return(0,p.Z)(function*(){delete v.storage[d]})()}_addListener(d,v){}_removeListener(d,v){}}return _.type="NONE",_})();function en(_,u,d){return`firebase:${_}:${u}:${d}`}class Zn{constructor(u,d,v){this.persistence=u,this.auth=d,this.userKey=v;const{config:L,name:q}=this.auth;this.fullUserKey=en(this.userKey,L.apiKey,q),this.fullPersistenceKey=en("persistence",L.apiKey,q),this.boundEventHandler=d._onStorageEvent.bind(d),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(u){return this.persistence._set(this.fullUserKey,u.toJSON())}getCurrentUser(){var u=this;return(0,p.Z)(function*(){const d=yield u.persistence._get(u.fullUserKey);return d?Ze._fromJSON(u.auth,d):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(u){var d=this;return(0,p.Z)(function*(){if(d.persistence===u)return;const v=yield d.getCurrentUser();return yield d.removeCurrentUser(),d.persistence=u,v?d.setCurrentUser(v):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(u,d,v="authUser"){return(0,p.Z)(function*(){if(!d.length)return new Zn(Yt(be),u,v);const L=(yield Promise.all(d.map(function(){var rn=(0,p.Z)(function*(yn){if(yield yn._isAvailable())return yn});return function(yn){return rn.apply(this,arguments)}}()))).filter(rn=>rn);let q=L[0]||Yt(be);const Te=en(v,u.config.apiKey,u.name);let ze=null;for(const rn of d)try{const yn=yield rn._get(Te);if(yn){const gn=Ze._fromJSON(u,yn);rn!==q&&(ze=gn),q=rn;break}}catch{}const Dt=L.filter(rn=>rn._shouldAllowMigration);return q._shouldAllowMigration&&Dt.length?(q=Dt[0],ze&&(yield q._set(Te,ze.toJSON())),yield Promise.all(d.map(function(){var rn=(0,p.Z)(function*(yn){if(yn!==q)try{yield yn._remove(Te)}catch{}});return function(yn){return rn.apply(this,arguments)}}())),new Zn(q,u,v)):new Zn(q,u,v)})()}}function je(_){const u=_.toLowerCase();if(u.includes("opera/")||u.includes("opr/")||u.includes("opios/"))return"Opera";if(Ft(u))return"IEMobile";if(u.includes("msie")||u.includes("trident/"))return"IE";if(u.includes("edge/"))return"Edge";if(Ae(u))return"Firefox";if(u.includes("silk/"))return"Silk";if(zt(u))return"Blackberry";if(hr(u))return"Webos";if(Re(u))return"Safari";if((u.includes("chrome/")||mt(u))&&!u.includes("edge/"))return"Chrome";if(Kt(u))return"Android";{const v=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===v?.length)return v[1]}return"Other"}function Ae(_=(0,ne.z$)()){return/firefox\//i.test(_)}function Re(_=(0,ne.z$)()){const u=_.toLowerCase();return u.includes("safari/")&&!u.includes("chrome/")&&!u.includes("crios/")&&!u.includes("android")}function mt(_=(0,ne.z$)()){return/crios\//i.test(_)}function Ft(_=(0,ne.z$)()){return/iemobile/i.test(_)}function Kt(_=(0,ne.z$)()){return/android/i.test(_)}function zt(_=(0,ne.z$)()){return/blackberry/i.test(_)}function hr(_=(0,ne.z$)()){return/webos/i.test(_)}function Qt(_=(0,ne.z$)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function $t(_=(0,ne.z$)()){return Qt(_)||Kt(_)||hr(_)||zt(_)||/windows phone/i.test(_)||Ft(_)}function on(_,u=[]){let d;switch(_){case"Browser":d=je((0,ne.z$)());break;case"Worker":d=`${je((0,ne.z$)())}-${_}`;break;default:d=_}const v=u.length?u.join(","):"FirebaseCore-web";return`${d}/JsCore/${Y.SDK_VERSION}/${v}`}class un{constructor(u){this.auth=u,this.queue=[]}pushCallback(u,d){const v=q=>new Promise((Te,ze)=>{try{Te(u(q))}catch(Dt){ze(Dt)}});v.onAbort=d,this.queue.push(v);const L=this.queue.length-1;return()=>{this.queue[L]=()=>Promise.resolve()}}runMiddleware(u){var d=this;return(0,p.Z)(function*(){if(d.auth.currentUser===u)return;const v=[];try{for(const L of d.queue)yield L(u),L.onAbort&&v.push(L.onAbort)}catch(L){v.reverse();for(const q of v)try{q()}catch{}throw d.auth._errorFactory.create("login-blocked",{originalMessage:L?.message})}})()}}function jn(){return(jn=(0,p.Z)(function*(_,u={}){return jt(_,"GET","/v2/passwordPolicy",ut(_,u))})).apply(this,arguments)}class Ar{constructor(u){var d,v,L,q;const Te=u.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(d=Te.minPasswordLength)&&void 0!==d?d:6,Te.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Te.maxPasswordLength),void 0!==Te.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Te.containsLowercaseCharacter),void 0!==Te.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Te.containsUppercaseCharacter),void 0!==Te.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Te.containsNumericCharacter),void 0!==Te.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Te.containsNonAlphanumericCharacter),this.enforcementState=u.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(L=null===(v=u.allowedNonAlphanumericCharacters)||void 0===v?void 0:v.join(""))&&void 0!==L?L:"",this.forceUpgradeOnSignin=null!==(q=u.forceUpgradeOnSignin)&&void 0!==q&&q,this.schemaVersion=u.schemaVersion}validatePassword(u){var d,v,L,q,Te,ze;const Dt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(u,Dt),this.validatePasswordCharacterOptions(u,Dt),Dt.isValid&&(Dt.isValid=null===(d=Dt.meetsMinPasswordLength)||void 0===d||d),Dt.isValid&&(Dt.isValid=null===(v=Dt.meetsMaxPasswordLength)||void 0===v||v),Dt.isValid&&(Dt.isValid=null===(L=Dt.containsLowercaseLetter)||void 0===L||L),Dt.isValid&&(Dt.isValid=null===(q=Dt.containsUppercaseLetter)||void 0===q||q),Dt.isValid&&(Dt.isValid=null===(Te=Dt.containsNumericCharacter)||void 0===Te||Te),Dt.isValid&&(Dt.isValid=null===(ze=Dt.containsNonAlphanumericCharacter)||void 0===ze||ze),Dt}validatePasswordLengthOptions(u,d){const v=this.customStrengthOptions.minPasswordLength,L=this.customStrengthOptions.maxPasswordLength;v&&(d.meetsMinPasswordLength=u.length>=v),L&&(d.meetsMaxPasswordLength=u.length<=L)}validatePasswordCharacterOptions(u,d){let v;this.updatePasswordCharacterOptionsStatuses(d,!1,!1,!1,!1);for(let L=0;L<u.length;L++)v=u.charAt(L),this.updatePasswordCharacterOptionsStatuses(d,v>="a"&&v<="z",v>="A"&&v<="Z",v>="0"&&v<="9",this.allowedNonAlphanumericCharacters.includes(v))}updatePasswordCharacterOptionsStatuses(u,d,v,L,q){this.customStrengthOptions.containsLowercaseLetter&&(u.containsLowercaseLetter||(u.containsLowercaseLetter=d)),this.customStrengthOptions.containsUppercaseLetter&&(u.containsUppercaseLetter||(u.containsUppercaseLetter=v)),this.customStrengthOptions.containsNumericCharacter&&(u.containsNumericCharacter||(u.containsNumericCharacter=L)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(u.containsNonAlphanumericCharacter||(u.containsNonAlphanumericCharacter=q))}}class Lr{constructor(u,d,v,L){this.app=u,this.heartbeatServiceProvider=d,this.appCheckServiceProvider=v,this.config=L,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Li(this),this.idTokenSubscription=new Li(this),this.beforeStateQueue=new un(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ot,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=u.name,this.clientVersion=L.sdkClientVersion}_initializeWithPersistence(u,d){var v=this;return d&&(this._popupRedirectResolver=Yt(d)),this._initializationPromise=this.queue((0,p.Z)(function*(){var L,q;if(!v._deleted&&(v.persistenceManager=yield Zn.create(v,u),!v._deleted)){if(null!==(L=v._popupRedirectResolver)&&void 0!==L&&L._shouldInitProactively)try{yield v._popupRedirectResolver._initialize(v)}catch{}yield v.initializeCurrentUser(d),v.lastNotifiedUid=(null===(q=v.currentUser)||void 0===q?void 0:q.uid)||null,!v._deleted&&(v._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var u=this;return(0,p.Z)(function*(){if(u._deleted)return;const d=yield u.assertedPersistence.getCurrentUser();if(u.currentUser||d){if(u.currentUser&&d&&u.currentUser.uid===d.uid)return u._currentUser._assign(d),void(yield u.currentUser.getIdToken());yield u._updateCurrentUser(d,!0)}})()}initializeCurrentUserFromIdToken(u){var d=this;return(0,p.Z)(function*(){try{const v=yield Cn(d,{idToken:u}),L=yield Ze._fromGetAccountInfoResponse(d,v,u);yield d.directlySetCurrentUser(L)}catch(v){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",v),yield d.directlySetCurrentUser(null)}})()}initializeCurrentUser(u){var d=this;return(0,p.Z)(function*(){var v;if((0,Y._isFirebaseServerApp)(d.app)){const ze=d.app.settings.authIdToken;return ze?new Promise(Dt=>{setTimeout(()=>d.initializeCurrentUserFromIdToken(ze).then(Dt,Dt))}):d.directlySetCurrentUser(null)}const L=yield d.assertedPersistence.getCurrentUser();let q=L,Te=!1;if(u&&d.config.authDomain){yield d.getOrInitRedirectPersistenceManager();const ze=null===(v=d.redirectUser)||void 0===v?void 0:v._redirectEventId,Dt=q?._redirectEventId,rn=yield d.tryRedirectSignIn(u);(!ze||ze===Dt)&&rn?.user&&(q=rn.user,Te=!0)}if(!q)return d.directlySetCurrentUser(null);if(!q._redirectEventId){if(Te)try{yield d.beforeStateQueue.runMiddleware(q)}catch(ze){q=L,d._popupRedirectResolver._overrideRedirectResult(d,()=>Promise.reject(ze))}return q?d.reloadAndSetCurrentUserOrClear(q):d.directlySetCurrentUser(null)}return nt(d._popupRedirectResolver,d,"argument-error"),yield d.getOrInitRedirectPersistenceManager(),d.redirectUser&&d.redirectUser._redirectEventId===q._redirectEventId?d.directlySetCurrentUser(q):d.reloadAndSetCurrentUserOrClear(q)})()}tryRedirectSignIn(u){var d=this;return(0,p.Z)(function*(){let v=null;try{v=yield d._popupRedirectResolver._completeRedirectFn(d,u,!0)}catch{yield d._setRedirectUser(null)}return v})()}reloadAndSetCurrentUserOrClear(u){var d=this;return(0,p.Z)(function*(){try{yield he(u)}catch(v){if("auth/network-request-failed"!==v?.code)return d.directlySetCurrentUser(null)}return d.directlySetCurrentUser(u)})()}useDeviceLanguage(){this.languageCode=function En(){if(typeof navigator>"u")return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var u=this;return(0,p.Z)(function*(){u._deleted=!0})()}updateCurrentUser(u){var d=this;return(0,p.Z)(function*(){if((0,Y._isFirebaseServerApp)(d.app))return Promise.reject(Ye(d));const v=u?(0,ne.m9)(u):null;return v&&nt(v.auth.config.apiKey===d.config.apiKey,d,"invalid-user-token"),d._updateCurrentUser(v&&v._clone(d))})()}_updateCurrentUser(u,d=!1){var v=this;return(0,p.Z)(function*(){if(!v._deleted)return u&&nt(v.tenantId===u.tenantId,v,"tenant-id-mismatch"),d||(yield v.beforeStateQueue.runMiddleware(u)),v.queue((0,p.Z)(function*(){yield v.directlySetCurrentUser(u),v.notifyAuthListeners()}))})()}signOut(){var u=this;return(0,p.Z)(function*(){return(0,Y._isFirebaseServerApp)(u.app)?Promise.reject(Ye(u)):(yield u.beforeStateQueue.runMiddleware(null),(u.redirectPersistenceManager||u._popupRedirectResolver)&&(yield u._setRedirectUser(null)),u._updateCurrentUser(null,!0))})()}setPersistence(u){var d=this;return(0,Y._isFirebaseServerApp)(this.app)?Promise.reject(Ye(this)):this.queue((0,p.Z)(function*(){yield d.assertedPersistence.setPersistence(Yt(u))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(u){var d=this;return(0,p.Z)(function*(){d._getPasswordPolicyInternal()||(yield d._updatePasswordPolicy());const v=d._getPasswordPolicyInternal();return v.schemaVersion!==d.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(d._errorFactory.create("unsupported-password-policy-schema-version",{})):v.validatePassword(u)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var u=this;return(0,p.Z)(function*(){const d=yield function Rn(_){return jn.apply(this,arguments)}(u),v=new Ar(d);null===u.tenantId?u._projectPasswordPolicy=v:u._tenantPasswordPolicies[u.tenantId]=v})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(u){this._errorFactory=new ne.LL("auth","Firebase",u())}onAuthStateChanged(u,d,v){return this.registerStateListener(this.authStateSubscription,u,d,v)}beforeAuthStateChanged(u,d){return this.beforeStateQueue.pushCallback(u,d)}onIdTokenChanged(u,d,v){return this.registerStateListener(this.idTokenSubscription,u,d,v)}authStateReady(){return new Promise((u,d)=>{if(this.currentUser)u();else{const v=this.onAuthStateChanged(()=>{v(),u()},d)}})}revokeAccessToken(u){var d=this;return(0,p.Z)(function*(){if(d.currentUser){const v=yield d.currentUser.getIdToken(),L={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:u,idToken:v};null!=d.tenantId&&(L.tenantId=d.tenantId),yield function V(_,u){return R.apply(this,arguments)}(d,L)}})()}toJSON(){var u;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(u=this._currentUser)||void 0===u?void 0:u.toJSON()}}_setRedirectUser(u,d){var v=this;return(0,p.Z)(function*(){const L=yield v.getOrInitRedirectPersistenceManager(d);return null===u?L.removeCurrentUser():L.setCurrentUser(u)})()}getOrInitRedirectPersistenceManager(u){var d=this;return(0,p.Z)(function*(){if(!d.redirectPersistenceManager){const v=u&&Yt(u)||d._popupRedirectResolver;nt(v,d,"argument-error"),d.redirectPersistenceManager=yield Zn.create(d,[Yt(v._redirectPersistence)],"redirectUser"),d.redirectUser=yield d.redirectPersistenceManager.getCurrentUser()}return d.redirectPersistenceManager})()}_redirectUserForId(u){var d=this;return(0,p.Z)(function*(){var v,L;return d._isInitialized&&(yield d.queue((0,p.Z)(function*(){}))),(null===(v=d._currentUser)||void 0===v?void 0:v._redirectEventId)===u?d._currentUser:(null===(L=d.redirectUser)||void 0===L?void 0:L._redirectEventId)===u?d.redirectUser:null})()}_persistUserIfCurrent(u){var d=this;return(0,p.Z)(function*(){if(u===d.currentUser)return d.queue((0,p.Z)(function*(){return d.directlySetCurrentUser(u)}))})()}_notifyListenersIfCurrent(u){u===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var u,d;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const v=null!==(d=null===(u=this.currentUser)||void 0===u?void 0:u.uid)&&void 0!==d?d:null;this.lastNotifiedUid!==v&&(this.lastNotifiedUid=v,this.authStateSubscription.next(this.currentUser))}registerStateListener(u,d,v,L){if(this._deleted)return()=>{};const q="function"==typeof d?d:d.next.bind(d);let Te=!1;const ze=this._isInitialized?Promise.resolve():this._initializationPromise;if(nt(ze,this,"internal-error"),ze.then(()=>{Te||q(this.currentUser)}),"function"==typeof d){const Dt=u.addObserver(d,v,L);return()=>{Te=!0,Dt()}}{const Dt=u.addObserver(d);return()=>{Te=!0,Dt()}}}directlySetCurrentUser(u){var d=this;return(0,p.Z)(function*(){d.currentUser&&d.currentUser!==u&&d._currentUser._stopProactiveRefresh(),u&&d.isProactiveRefreshEnabled&&u._startProactiveRefresh(),d.currentUser=u,u?yield d.assertedPersistence.setCurrentUser(u):yield d.assertedPersistence.removeCurrentUser()})()}queue(u){return this.operations=this.operations.then(u,u),this.operations}get assertedPersistence(){return nt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(u){!u||this.frameworks.includes(u)||(this.frameworks.push(u),this.frameworks.sort(),this.clientVersion=on(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var u=this;return(0,p.Z)(function*(){var d;const v={"X-Client-Version":u.clientVersion};u.app.options.appId&&(v["X-Firebase-gmpid"]=u.app.options.appId);const L=yield null===(d=u.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getHeartbeatsHeader();L&&(v["X-Firebase-Client"]=L);const q=yield u._getAppCheckToken();return q&&(v["X-Firebase-AppCheck"]=q),v})()}_getAppCheckToken(){var u=this;return(0,p.Z)(function*(){var d;const v=yield null===(d=u.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getToken();return v?.error&&function Ie(_,...u){Jt.logLevel<=ye.in.WARN&&Jt.warn(`Auth (${Y.SDK_VERSION}): ${_}`,...u)}(`Error while retrieving App Check token: ${v.error}`),v?.token})()}}function _r(_){return(0,ne.m9)(_)}class Li{constructor(u){this.auth=u,this.observer=null,this.addObserver=(0,ne.ne)(d=>this.observer=d)}get next(){return nt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ki={loadJS:()=>(0,p.Z)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qi(_){return Ki.loadJS(_)}function no(_){return`__${_}${Math.floor(1e6*Math.random())}`}class ka{constructor(u){this.type="recaptcha-enterprise",this.auth=_r(u)}verify(u="verify",d=!1){var v=this;return(0,p.Z)(function*(){function q(){return q=(0,p.Z)(function*(ze){if(!d){if(null==ze.tenantId&&null!=ze._agentRecaptchaConfig)return ze._agentRecaptchaConfig.siteKey;if(null!=ze.tenantId&&void 0!==ze._tenantRecaptchaConfigs[ze.tenantId])return ze._tenantRecaptchaConfigs[ze.tenantId].siteKey}return new Promise(function(){var Dt=(0,p.Z)(function*(rn,yn){Nr(ze,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(gn=>{if(void 0!==gn.recaptchaKey){const li=new tt(gn);return null==ze.tenantId?ze._agentRecaptchaConfig=li:ze._tenantRecaptchaConfigs[ze.tenantId]=li,rn(li.siteKey)}yn(new Error("recaptcha Enterprise site key undefined"))}).catch(gn=>{yn(gn)})});return function(rn,yn){return Dt.apply(this,arguments)}}())}),q.apply(this,arguments)}function Te(ze,Dt,rn){const yn=window.grecaptcha;Pt(yn)?yn.enterprise.ready(()=>{yn.enterprise.execute(ze,{action:u}).then(gn=>{Dt(gn)}).catch(()=>{Dt("NO_RECAPTCHA")})}):rn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ze,Dt)=>{(function L(ze){return q.apply(this,arguments)})(v.auth).then(rn=>{if(!d&&Pt(window.grecaptcha))Te(rn,ze,Dt);else{if(typeof window>"u")return void Dt(new Error("RecaptchaVerifier is only supported in browser"));let yn=function Ai(){return Ki.recaptchaEnterpriseScript}();0!==yn.length&&(yn+=rn),qi(yn).then(()=>{Te(rn,ze,Dt)}).catch(gn=>{Dt(gn)})}}).catch(rn=>{Dt(rn)})})})()}}function Fa(_,u,d){return wo.apply(this,arguments)}function wo(){return(wo=(0,p.Z)(function*(_,u,d,v=!1){const L=new ka(_);let q;try{q=yield L.verify(d)}catch{q=yield L.verify(d,!0)}const Te=Object.assign({},u);return Object.assign(Te,v?{captchaResp:q}:{captchaResponse:q}),Object.assign(Te,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Te,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Te})).apply(this,arguments)}function Lo(_,u,d,v){return Vi.apply(this,arguments)}function Vi(){return Vi=(0,p.Z)(function*(_,u,d,v){var L;if(null!==(L=_._getRecaptchaConfig())&&void 0!==L&&L.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const q=yield Fa(_,u,d,"getOobCode"===d);return v(_,q)}return v(_,u).catch(function(){var q=(0,p.Z)(function*(Te){if("auth/missing-recaptcha-token"===Te.code){console.log(`${d} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const ze=yield Fa(_,u,d,"getOobCode"===d);return v(_,ze)}return Promise.reject(Te)});return function(Te){return q.apply(this,arguments)}}())}),Vi.apply(this,arguments)}function bs(_){const u=_.indexOf(":");return u<0?"":_.substr(0,u+1)}function ro(_){if(!_)return null;const u=Number(_);return isNaN(u)?null:u}class mi{constructor(u,d){this.providerId=u,this.signInMethod=d}toJSON(){return an("not implemented")}_getIdTokenResponse(u){return an("not implemented")}_linkToIdToken(u,d){return an("not implemented")}_getReauthenticationResolver(u){return an("not implemented")}}function lr(_,u){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,p.Z)(function*(_,u){return jt(_,"POST","/v1/accounts:resetPassword",ut(_,u))})).apply(this,arguments)}function Ur(){return(Ur=(0,p.Z)(function*(_,u){return jt(_,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function Wn(_,u){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,p.Z)(function*(_,u){return jt(_,"POST","/v1/accounts:signUp",u)})).apply(this,arguments)}function Qr(){return(Qr=(0,p.Z)(function*(_,u){return jt(_,"POST","/v1/accounts:update",ut(_,u))})).apply(this,arguments)}function da(_,u){return so.apply(this,arguments)}function so(){return(so=(0,p.Z)(function*(_,u){return st(_,"POST","/v1/accounts:signInWithPassword",ut(_,u))})).apply(this,arguments)}function nr(_,u){return tn.apply(this,arguments)}function tn(){return(tn=(0,p.Z)(function*(_,u){return jt(_,"POST","/v1/accounts:sendOobCode",ut(_,u))})).apply(this,arguments)}function kn(){return(kn=(0,p.Z)(function*(_,u){return nr(_,u)})).apply(this,arguments)}function ei(_,u){return ns.apply(this,arguments)}function ns(){return(ns=(0,p.Z)(function*(_,u){return nr(_,u)})).apply(this,arguments)}function si(_,u){return rs.apply(this,arguments)}function rs(){return(rs=(0,p.Z)(function*(_,u){return nr(_,u)})).apply(this,arguments)}function Ei(){return(Ei=(0,p.Z)(function*(_,u){return nr(_,u)})).apply(this,arguments)}function Fn(){return(Fn=(0,p.Z)(function*(_,u){return st(_,"POST","/v1/accounts:signInWithEmailLink",ut(_,u))})).apply(this,arguments)}function Pi(){return(Pi=(0,p.Z)(function*(_,u){return st(_,"POST","/v1/accounts:signInWithEmailLink",ut(_,u))})).apply(this,arguments)}class Yi extends mi{constructor(u,d,v,L=null){super("password",v),this._email=u,this._password=d,this._tenantId=L}static _fromEmailAndPassword(u,d){return new Yi(u,d,"password")}static _fromEmailAndCode(u,d,v=null){return new Yi(u,d,"emailLink",v)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(u){const d="string"==typeof u?JSON.parse(u):u;if(d?.email&&d?.password){if("password"===d.signInMethod)return this._fromEmailAndPassword(d.email,d.password);if("emailLink"===d.signInMethod)return this._fromEmailAndCode(d.email,d.password,d.tenantId)}return null}_getIdTokenResponse(u){var d=this;return(0,p.Z)(function*(){switch(d.signInMethod){case"password":return Lo(u,{returnSecureToken:!0,email:d._email,password:d._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",da);case"emailLink":return function Zi(_,u){return Fn.apply(this,arguments)}(u,{email:d._email,oobCode:d._password});default:De(u,"internal-error")}})()}_linkToIdToken(u,d){var v=this;return(0,p.Z)(function*(){switch(v.signInMethod){case"password":return Lo(u,{idToken:d,returnSecureToken:!0,email:v._email,password:v._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Wn);case"emailLink":return function Qi(_,u){return Pi.apply(this,arguments)}(u,{idToken:d,email:v._email,oobCode:v._password});default:De(u,"internal-error")}})()}_getReauthenticationResolver(u){return this._getIdTokenResponse(u)}}function Qn(_,u){return ws.apply(this,arguments)}function ws(){return(ws=(0,p.Z)(function*(_,u){return st(_,"POST","/v1/accounts:signInWithIdp",ut(_,u))})).apply(this,arguments)}class Yr extends mi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(u){const d=new Yr(u.providerId,u.signInMethod);return u.idToken||u.accessToken?(u.idToken&&(d.idToken=u.idToken),u.accessToken&&(d.accessToken=u.accessToken),u.nonce&&!u.pendingToken&&(d.nonce=u.nonce),u.pendingToken&&(d.pendingToken=u.pendingToken)):u.oauthToken&&u.oauthTokenSecret?(d.accessToken=u.oauthToken,d.secret=u.oauthTokenSecret):De("argument-error"),d}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(u){const d="string"==typeof u?JSON.parse(u):u,{providerId:v,signInMethod:L}=d,q=(0,_e._T)(d,["providerId","signInMethod"]);if(!v||!L)return null;const Te=new Yr(v,L);return Te.idToken=q.idToken||void 0,Te.accessToken=q.accessToken||void 0,Te.secret=q.secret,Te.nonce=q.nonce,Te.pendingToken=q.pendingToken||null,Te}_getIdTokenResponse(u){return Qn(u,this.buildRequest())}_linkToIdToken(u,d){const v=this.buildRequest();return v.idToken=d,Qn(u,v)}_getReauthenticationResolver(u){const d=this.buildRequest();return d.autoCreate=!1,Qn(u,d)}buildRequest(){const u={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)u.pendingToken=this.pendingToken;else{const d={};this.idToken&&(d.id_token=this.idToken),this.accessToken&&(d.access_token=this.accessToken),this.secret&&(d.oauth_token_secret=this.secret),d.providerId=this.providerId,this.nonce&&!this.pendingToken&&(d.nonce=this.nonce),u.postBody=(0,ne.xO)(d)}return u}}function Us(){return(Us=(0,p.Z)(function*(_,u){return jt(_,"POST","/v1/accounts:sendVerificationCode",ut(_,u))})).apply(this,arguments)}function Ui(){return(Ui=(0,p.Z)(function*(_,u){return st(_,"POST","/v1/accounts:signInWithPhoneNumber",ut(_,u))})).apply(this,arguments)}function Ds(){return(Ds=(0,p.Z)(function*(_,u){const d=yield st(_,"POST","/v1/accounts:signInWithPhoneNumber",ut(_,u));if(d.temporaryProof)throw Rt(_,"account-exists-with-different-credential",d);return d})).apply(this,arguments)}const cr={USER_NOT_FOUND:"user-not-found"};function Ii(){return(Ii=(0,p.Z)(function*(_,u){return st(_,"POST","/v1/accounts:signInWithPhoneNumber",ut(_,Object.assign(Object.assign({},u),{operation:"REAUTH"})),cr)})).apply(this,arguments)}class is extends mi{constructor(u){super("phone","phone"),this.params=u}static _fromVerification(u,d){return new is({verificationId:u,verificationCode:d})}static _fromTokenResponse(u,d){return new is({phoneNumber:u,temporaryProof:d})}_getIdTokenResponse(u){return function ps(_,u){return Ui.apply(this,arguments)}(u,this._makeVerificationRequest())}_linkToIdToken(u,d){return function qs(_,u){return Ds.apply(this,arguments)}(u,Object.assign({idToken:d},this._makeVerificationRequest()))}_getReauthenticationResolver(u){return function Zs(_,u){return Ii.apply(this,arguments)}(u,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:u,phoneNumber:d,verificationId:v,verificationCode:L}=this.params;return u&&d?{temporaryProof:u,phoneNumber:d}:{sessionInfo:v,code:L}}toJSON(){const u={providerId:this.providerId};return this.params.phoneNumber&&(u.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(u.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(u.verificationCode=this.params.verificationCode),this.params.verificationId&&(u.verificationId=this.params.verificationId),u}static fromJSON(u){"string"==typeof u&&(u=JSON.parse(u));const{verificationId:d,verificationCode:v,phoneNumber:L,temporaryProof:q}=u;return v||d||L||q?new is({verificationId:d,verificationCode:v,phoneNumber:L,temporaryProof:q}):null}}class ms{constructor(u){var d,v,L,q,Te,ze;const Dt=(0,ne.zd)((0,ne.pd)(u)),rn=null!==(d=Dt.apiKey)&&void 0!==d?d:null,yn=null!==(v=Dt.oobCode)&&void 0!==v?v:null,gn=function Br(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(L=Dt.mode)&&void 0!==L?L:null);nt(rn&&yn&&gn,"argument-error"),this.apiKey=rn,this.operation=gn,this.code=yn,this.continueUrl=null!==(q=Dt.continueUrl)&&void 0!==q?q:null,this.languageCode=null!==(Te=Dt.languageCode)&&void 0!==Te?Te:null,this.tenantId=null!==(ze=Dt.tenantId)&&void 0!==ze?ze:null}static parseLink(u){const d=function Bs(_){const u=(0,ne.zd)((0,ne.pd)(_)).link,d=u?(0,ne.zd)((0,ne.pd)(u)).deep_link_id:null,v=(0,ne.zd)((0,ne.pd)(_)).deep_link_id;return(v?(0,ne.zd)((0,ne.pd)(v)).link:null)||v||d||u||_}(u);try{return new ms(d)}catch{return null}}}let ti=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(d,v){return Yi._fromEmailAndPassword(d,v)}static credentialWithLink(d,v){const L=ms.parseLink(v);return nt(L,"argument-error"),Yi._fromEmailAndCode(d,L.code,L.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class vr{constructor(u){this.providerId=u,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(u){this.defaultLanguageCode=u}setCustomParameters(u){return this.customParameters=u,this}getCustomParameters(){return this.customParameters}}class kr extends vr{constructor(){super(...arguments),this.scopes=[]}addScope(u){return this.scopes.includes(u)||this.scopes.push(u),this}getScopes(){return[...this.scopes]}}class zr extends kr{static credentialFromJSON(u){const d="string"==typeof u?JSON.parse(u):u;return nt("providerId"in d&&"signInMethod"in d,"argument-error"),Yr._fromParams(d)}credential(u){return this._credential(Object.assign(Object.assign({},u),{nonce:u.rawNonce}))}_credential(u){return nt(u.idToken||u.accessToken,"argument-error"),Yr._fromParams(Object.assign(Object.assign({},u),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(u){return zr.oauthCredentialFromTaggedObject(u)}static credentialFromError(u){return zr.oauthCredentialFromTaggedObject(u.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{oauthIdToken:d,oauthAccessToken:v,oauthTokenSecret:L,pendingToken:q,nonce:Te,providerId:ze}=u;if(!v&&!L&&!d&&!q||!ze)return null;try{return new zr(ze)._credential({idToken:d,accessToken:v,nonce:Te,pendingToken:q})}catch{return null}}}let As=(()=>{class _ extends kr{constructor(){super("facebook.com")}static credential(d){return Yr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return _.credentialFromTaggedObject(d)}static credentialFromError(d){return _.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return _.credential(d.oauthAccessToken)}catch{return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),Ni=(()=>{class _ extends kr{constructor(){super("google.com"),this.addScope("profile")}static credential(d,v){return Yr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:d,accessToken:v})}static credentialFromResult(d){return _.credentialFromTaggedObject(d)}static credentialFromError(d){return _.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:v,oauthAccessToken:L}=d;if(!v&&!L)return null;try{return _.credential(v,L)}catch{return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),oo=(()=>{class _ extends kr{constructor(){super("github.com")}static credential(d){return Yr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return _.credentialFromTaggedObject(d)}static credentialFromError(d){return _.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return _.credential(d.oauthAccessToken)}catch{return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class Hn extends mi{constructor(u,d){super(u,u),this.pendingToken=d}_getIdTokenResponse(u){return Qn(u,this.buildRequest())}_linkToIdToken(u,d){const v=this.buildRequest();return v.idToken=d,Qn(u,v)}_getReauthenticationResolver(u){const d=this.buildRequest();return d.autoCreate=!1,Qn(u,d)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(u){const d="string"==typeof u?JSON.parse(u):u,{providerId:v,signInMethod:L,pendingToken:q}=d;return v&&L&&q&&v===L?new Hn(v,q):null}static _create(u,d){return new Hn(u,d)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Rs extends vr{constructor(u){nt(u.startsWith("saml."),"argument-error"),super(u)}static credentialFromResult(u){return Rs.samlCredentialFromTaggedObject(u)}static credentialFromError(u){return Rs.samlCredentialFromTaggedObject(u.customData||{})}static credentialFromJSON(u){const d=Hn.fromJSON(u);return nt(d,"argument-error"),d}static samlCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{pendingToken:d,providerId:v}=u;if(!d||!v)return null;try{return Hn._create(v,d)}catch{return null}}}let La=(()=>{class _ extends kr{constructor(){super("twitter.com")}static credential(d,v){return Yr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:d,oauthTokenSecret:v})}static credentialFromResult(d){return _.credentialFromTaggedObject(d)}static credentialFromError(d){return _.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthAccessToken:v,oauthTokenSecret:L}=d;if(!v||!L)return null;try{return _.credential(v,L)}catch{return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function Uo(_,u){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,p.Z)(function*(_,u){return st(_,"POST","/v1/accounts:signUp",ut(_,u))})).apply(this,arguments)}class Bi{constructor(u){this.user=u.user,this.providerId=u.providerId,this._tokenResponse=u._tokenResponse,this.operationType=u.operationType}static _fromIdTokenResponse(u,d,v,L=!1){return(0,p.Z)(function*(){const q=yield Ze._fromIdTokenResponse(u,v,L),Te=jo(v);return new Bi({user:q,providerId:Te,_tokenResponse:v,operationType:d})})()}static _forOperation(u,d,v){return(0,p.Z)(function*(){yield u._updateTokensIfNecessary(v,!0);const L=jo(v);return new Bi({user:u,providerId:L,_tokenResponse:v,operationType:d})})()}}function jo(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function Gr(){return(Gr=(0,p.Z)(function*(_){var u;if((0,Y._isFirebaseServerApp)(_.app))return Promise.reject(Ye(_));const d=_r(_);if(yield d._initializationPromise,null!==(u=d.currentUser)&&void 0!==u&&u.isAnonymous)return new Bi({user:d.currentUser,providerId:null,operationType:"signIn"});const v=yield Uo(d,{returnSecureToken:!0}),L=yield Bi._fromIdTokenResponse(d,"signIn",v,!0);return yield d._updateCurrentUser(L.user),L})).apply(this,arguments)}class Ho extends ne.ZR{constructor(u,d,v,L){var q;super(d.code,d.message),this.operationType=v,this.user=L,Object.setPrototypeOf(this,Ho.prototype),this.customData={appName:u.name,tenantId:null!==(q=u.tenantId)&&void 0!==q?q:void 0,_serverResponse:d.customData._serverResponse,operationType:v}}static _fromErrorAndOperation(u,d,v,L){return new Ho(u,d,v,L)}}function ha(_,u,d,v){return("reauthenticate"===u?d._getReauthenticationResolver(_):d._getIdTokenResponse(_)).catch(q=>{throw"auth/multi-factor-auth-required"===q.code?Ho._fromErrorAndOperation(_,q,u,v):q})}function Ao(_){return new Set(_.map(({providerId:u})=>u).filter(u=>!!u))}function nl(){return nl=(0,p.Z)(function*(_,u){const d=(0,ne.m9)(_);yield $o(!0,d,u);const{providerUserInfo:v}=yield function xn(_,u){return tr.apply(this,arguments)}(d.auth,{idToken:yield d.getIdToken(),deleteProvider:[u]}),L=Ao(v||[]);return d.providerData=d.providerData.filter(q=>L.has(q.providerId)),L.has("phone")||(d.phoneNumber=null),yield d.auth._persistUserIfCurrent(d),d}),nl.apply(this,arguments)}function Va(_,u){return rl.apply(this,arguments)}function rl(){return(rl=(0,p.Z)(function*(_,u,d=!1){const v=yield Ht(_,u._linkToIdToken(_.auth,yield _.getIdToken()),d);return Bi._forOperation(_,"link",v)})).apply(this,arguments)}function $o(_,u,d){return Co.apply(this,arguments)}function Co(){return(Co=(0,p.Z)(function*(_,u,d){yield he(u);const L=!1===_?"provider-already-linked":"no-such-provider";nt(Ao(u.providerData).has(d)===_,u.auth,L)})).apply(this,arguments)}function So(_,u){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,p.Z)(function*(_,u,d=!1){const{auth:v}=_;if((0,Y._isFirebaseServerApp)(v.app))return Promise.reject(Ye(v));const L="reauthenticate";try{const q=yield Ht(_,ha(v,L,u,_),d);nt(q.idToken,v,"internal-error");const Te=zn(q.idToken);nt(Te,v,"internal-error");const{sub:ze}=Te;return nt(_.uid===ze,v,"user-mismatch"),Bi._forOperation(_,L,q)}catch(q){throw"auth/user-not-found"===q?.code&&De(v,"user-mismatch"),q}})).apply(this,arguments)}function xo(_,u){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,p.Z)(function*(_,u,d=!1){if((0,Y._isFirebaseServerApp)(_.app))return Promise.reject(Ye(_));const v="signIn",L=yield ha(_,v,u),q=yield Bi._fromIdTokenResponse(_,v,L);return d||(yield _._updateCurrentUser(q.user)),q})).apply(this,arguments)}function os(_,u){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,p.Z)(function*(_,u){return xo(_r(_),u)})).apply(this,arguments)}function Ys(_,u){return ji.apply(this,arguments)}function ji(){return(ji=(0,p.Z)(function*(_,u){const d=(0,ne.m9)(_);return yield $o(!1,d,u.providerId),Va(d,u)})).apply(this,arguments)}function ui(_,u){return as.apply(this,arguments)}function as(){return(as=(0,p.Z)(function*(_,u){return So((0,ne.m9)(_),u)})).apply(this,arguments)}function Mo(){return(Mo=(0,p.Z)(function*(_,u){return st(_,"POST","/v1/accounts:signInWithCustomToken",ut(_,u))})).apply(this,arguments)}function E(){return E=(0,p.Z)(function*(_,u){if((0,Y._isFirebaseServerApp)(_.app))return Promise.reject(Ye(_));const d=_r(_),v=yield function Hi(_,u){return Mo.apply(this,arguments)}(d,{token:u,returnSecureToken:!0}),L=yield Bi._fromIdTokenResponse(d,"signIn",v);return yield d._updateCurrentUser(L.user),L}),E.apply(this,arguments)}class w{constructor(u,d){this.factorId=u,this.uid=d.mfaEnrollmentId,this.enrollmentTime=new Date(d.enrolledAt).toUTCString(),this.displayName=d.displayName}static _fromServerResponse(u,d){return"phoneInfo"in d?N._fromServerResponse(u,d):"totpInfo"in d?W._fromServerResponse(u,d):De(u,"internal-error")}}class N extends w{constructor(u){super("phone",u),this.phoneNumber=u.phoneInfo}static _fromServerResponse(u,d){return new N(d)}}class W extends w{constructor(u){super("totp",u)}static _fromServerResponse(u,d){return new W(d)}}function re(_,u,d){var v;nt((null===(v=d.url)||void 0===v?void 0:v.length)>0,_,"invalid-continue-uri"),nt(typeof d.dynamicLinkDomain>"u"||d.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),u.continueUrl=d.url,u.dynamicLinkDomain=d.dynamicLinkDomain,u.canHandleCodeInApp=d.handleCodeInApp,d.iOS&&(nt(d.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),u.iOSBundleId=d.iOS.bundleId),d.android&&(nt(d.android.packageName.length>0,_,"missing-android-pkg-name"),u.androidInstallApp=d.android.installApp,u.androidMinimumVersionCode=d.android.minimumVersion,u.androidPackageName=d.android.packageName)}function Ce(_){return Me.apply(this,arguments)}function Me(){return(Me=(0,p.Z)(function*(_){const u=_r(_);u._getPasswordPolicyInternal()&&(yield u._updatePasswordPolicy())})).apply(this,arguments)}function vt(){return(vt=(0,p.Z)(function*(_,u,d){const v=_r(_),L={requestType:"PASSWORD_RESET",email:u,clientType:"CLIENT_TYPE_WEB"};d&&re(v,L,d),yield Lo(v,L,"getOobCode",ei)})).apply(this,arguments)}function nn(){return nn=(0,p.Z)(function*(_,u,d){yield lr((0,ne.m9)(_),{oobCode:u,newPassword:d}).catch(function(){var v=(0,p.Z)(function*(L){throw"auth/password-does-not-meet-requirements"===L.code&&Ce(_),L});return function(L){return v.apply(this,arguments)}}())}),nn.apply(this,arguments)}function Pn(){return Pn=(0,p.Z)(function*(_,u){yield function io(_,u){return Qr.apply(this,arguments)}((0,ne.m9)(_),{oobCode:u})}),Pn.apply(this,arguments)}function On(_,u){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,p.Z)(function*(_,u){const d=(0,ne.m9)(_),v=yield lr(d,{oobCode:u}),L=v.requestType;switch(nt(L,d,"internal-error"),L){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":nt(v.newEmail,d,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":nt(v.mfaInfo,d,"internal-error");default:nt(v.email,d,"internal-error")}let q=null;return v.mfaInfo&&(q=w._fromServerResponse(_r(d),v.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.newEmail:v.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.email:v.newEmail)||null,multiFactorInfo:q},operation:L}})).apply(this,arguments)}function jr(){return(jr=(0,p.Z)(function*(_,u){const{data:d}=yield On((0,ne.m9)(_),u);return d.email})).apply(this,arguments)}function Wr(){return(Wr=(0,p.Z)(function*(_,u,d){if((0,Y._isFirebaseServerApp)(_.app))return Promise.reject(Ye(_));const v=_r(_),Te=yield Lo(v,{returnSecureToken:!0,email:u,password:d,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Uo).catch(Dt=>{throw"auth/password-does-not-meet-requirements"===Dt.code&&Ce(_),Dt}),ze=yield Bi._fromIdTokenResponse(v,"signIn",Te);return yield v._updateCurrentUser(ze.user),ze})).apply(this,arguments)}function _s(){return(_s=(0,p.Z)(function*(_,u,d){const v=_r(_),L={requestType:"EMAIL_SIGNIN",email:u,clientType:"CLIENT_TYPE_WEB"};(function q(Te,ze){nt(ze.handleCodeInApp,v,"argument-error"),ze&&re(v,Te,ze)})(L,d),yield Lo(v,L,"getOobCode",si)})).apply(this,arguments)}function $i(){return($i=(0,p.Z)(function*(_,u,d){if((0,Y._isFirebaseServerApp)(_.app))return Promise.reject(Ye(_));const v=(0,ne.m9)(_),L=ti.credentialWithLink(u,d||An());return nt(L._tenantId===(v.tenantId||null),v,"tenant-id-mismatch"),os(v,L)})).apply(this,arguments)}function A(){return(A=(0,p.Z)(function*(_,u){return jt(_,"POST","/v1/accounts:createAuthUri",ut(_,u))})).apply(this,arguments)}function O(){return O=(0,p.Z)(function*(_,u){const v={identifier:u,continueUri:br()?An():"http://localhost"},{signinMethods:L}=yield function ls(_,u){return A.apply(this,arguments)}((0,ne.m9)(_),v);return L||[]}),O.apply(this,arguments)}function pe(){return pe=(0,p.Z)(function*(_,u){const d=(0,ne.m9)(_),L={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};u&&re(d.auth,L,u);const{email:q}=yield function Mn(_,u){return kn.apply(this,arguments)}(d.auth,L);q!==_.email&&(yield _.reload())}),pe.apply(this,arguments)}function Qe(){return Qe=(0,p.Z)(function*(_,u,d){const v=(0,ne.m9)(_),q={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:u};d&&re(v.auth,q,d);const{email:Te}=yield function Or(_,u){return Ei.apply(this,arguments)}(v.auth,q);Te!==_.email&&(yield _.reload())}),Qe.apply(this,arguments)}function pn(){return(pn=(0,p.Z)(function*(_,u){return jt(_,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function Kn(){return Kn=(0,p.Z)(function*(_,{displayName:u,photoURL:d}){if(void 0===u&&void 0===d)return;const v=(0,ne.m9)(_),q={idToken:yield v.getIdToken(),displayName:u,photoUrl:d,returnSecureToken:!0},Te=yield Ht(v,function Mt(_,u){return pn.apply(this,arguments)}(v.auth,q));v.displayName=Te.displayName||null,v.photoURL=Te.photoUrl||null;const ze=v.providerData.find(({providerId:Dt})=>"password"===Dt);ze&&(ze.displayName=v.displayName,ze.photoURL=v.photoURL),yield v._updateTokensIfNecessary(Te)}),Kn.apply(this,arguments)}function Ln(_,u,d){return Xr.apply(this,arguments)}function Xr(){return Xr=(0,p.Z)(function*(_,u,d){const{auth:v}=_,q={idToken:yield _.getIdToken(),returnSecureToken:!0};u&&(q.email=u),d&&(q.password=d);const Te=yield Ht(_,function ci(_,u){return Ur.apply(this,arguments)}(v,q));yield _._updateTokensIfNecessary(Te,!0)}),Xr.apply(this,arguments)}class Cr{constructor(u,d,v={}){this.isNewUser=u,this.providerId=d,this.profile=v}}class Ji extends Cr{constructor(u,d,v,L){super(u,d,v),this.username=L}}class qn extends Cr{constructor(u,d){super(u,"facebook.com",d)}}class Xi extends Ji{constructor(u,d){super(u,"github.com",d,"string"==typeof d?.login?d?.login:null)}}class ni extends Cr{constructor(u,d){super(u,"google.com",d)}}class _i extends Ji{constructor(u,d,v){super(u,"twitter.com",d,v)}}function ku(_){const{user:u,_tokenResponse:d}=_;return u.isAnonymous&&!d?{providerId:null,isNewUser:!1,profile:null}:function bi(_){var u,d;if(!_)return null;const{providerId:v}=_,L=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},q=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!v&&_?.idToken){const Te=null===(d=null===(u=zn(_.idToken))||void 0===u?void 0:u.firebase)||void 0===d?void 0:d.sign_in_provider;if(Te)return new Cr(q,"anonymous"!==Te&&"custom"!==Te?Te:null)}if(!v)return null;switch(v){case"facebook.com":return new qn(q,L);case"github.com":return new Xi(q,L);case"google.com":return new ni(q,L);case"twitter.com":return new _i(q,L,_.screenName||null);case"custom":case"anonymous":return new Cr(q,null);default:return new Cr(q,v,L)}}(d)}class zo{constructor(u,d,v){this.type=u,this.credential=d,this.user=v}static _fromIdtoken(u,d){return new zo("enroll",u,d)}static _fromMfaPendingCredential(u){return new zo("signin",u)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(u){var d,v;if(u?.multiFactorSession){if(null!==(d=u.multiFactorSession)&&void 0!==d&&d.pendingCredential)return zo._fromMfaPendingCredential(u.multiFactorSession.pendingCredential);if(null!==(v=u.multiFactorSession)&&void 0!==v&&v.idToken)return zo._fromIdtoken(u.multiFactorSession.idToken)}return null}}class Uc{constructor(u,d,v){this.session=u,this.hints=d,this.signInResolver=v}static _fromError(u,d){const v=_r(u),L=d.customData._serverResponse,q=(L.mfaInfo||[]).map(ze=>w._fromServerResponse(v,ze));nt(L.mfaPendingCredential,v,"internal-error");const Te=zo._fromMfaPendingCredential(L.mfaPendingCredential);return new Uc(Te,q,function(){var ze=(0,p.Z)(function*(Dt){const rn=yield Dt._process(v,Te);delete L.mfaInfo,delete L.mfaPendingCredential;const yn=Object.assign(Object.assign({},L),{idToken:rn.idToken,refreshToken:rn.refreshToken});switch(d.operationType){case"signIn":const gn=yield Bi._fromIdTokenResponse(v,d.operationType,yn);return yield v._updateCurrentUser(gn.user),gn;case"reauthenticate":return nt(d.user,v,"internal-error"),Bi._forOperation(d.user,d.operationType,yn);default:De(v,"internal-error")}});return function(Dt){return ze.apply(this,arguments)}}())}resolveSignIn(u){var d=this;return(0,p.Z)(function*(){return d.signInResolver(u)})()}}class jc{constructor(u){this.user=u,this.enrolledFactors=[],u._onReload(d=>{d.mfaInfo&&(this.enrolledFactors=d.mfaInfo.map(v=>w._fromServerResponse(u.auth,v)))})}static _fromUser(u){return new jc(u)}getSession(){var u=this;return(0,p.Z)(function*(){return zo._fromIdtoken(yield u.user.getIdToken(),u.user)})()}enroll(u,d){var v=this;return(0,p.Z)(function*(){const L=u,q=yield v.getSession(),Te=yield Ht(v.user,L._process(v.user.auth,q,d));return yield v.user._updateTokensIfNecessary(Te),v.user.reload()})()}unenroll(u){var d=this;return(0,p.Z)(function*(){const v="string"==typeof u?u:u.uid,L=yield d.user.getIdToken();try{const q=yield Ht(d.user,function Kd(_,u){return jt(_,"POST","/v2/accounts/mfaEnrollment:withdraw",ut(_,u))}(d.user.auth,{idToken:L,mfaEnrollmentId:v}));d.enrolledFactors=d.enrolledFactors.filter(({uid:Te})=>Te!==v),yield d.user._updateTokensIfNecessary(q),yield d.user.reload()}catch(q){throw q}})()}}const Hc=new WeakMap,ma="__sak";class co{constructor(u,d){this.storageRetriever=u,this.type=d}_isAvailable(){try{return this.storage?(this.storage.setItem(ma,"1"),this.storage.removeItem(ma),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(u,d){return this.storage.setItem(u,JSON.stringify(d)),Promise.resolve()}_get(u){const d=this.storage.getItem(u);return Promise.resolve(d?JSON.parse(d):null)}_remove(u){return this.storage.removeItem(u),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ua=(()=>{class _ extends co{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(d,v)=>this.onStorageEvent(d,v),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Yl(){const _=(0,ne.z$)();return Re(_)||Qt(_)}()&&function _n(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=$t(),this._shouldAllowMigration=!0}forAllChangedKeys(d){for(const v of Object.keys(this.listeners)){const L=this.storage.getItem(v),q=this.localCache[v];L!==q&&d(v,q,L)}}onStorageEvent(d,v=!1){if(!d.key)return void this.forAllChangedKeys((ze,Dt,rn)=>{this.notifyListeners(ze,rn)});const L=d.key;if(v?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ze=this.storage.getItem(L);if(d.newValue!==ze)null!==d.newValue?this.storage.setItem(L,d.newValue):this.storage.removeItem(L);else if(this.localCache[L]===d.newValue&&!v)return}const q=()=>{const ze=this.storage.getItem(L);!v&&this.localCache[L]===ze||this.notifyListeners(L,ze)},Te=this.storage.getItem(L);!function _t(){return(0,ne.w1)()&&10===document.documentMode}()||Te===d.newValue||d.newValue===d.oldValue?q():setTimeout(q,10)}notifyListeners(d,v){this.localCache[d]=v;const L=this.listeners[d];if(L)for(const q of Array.from(L))q(v&&JSON.parse(v))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((d,v,L)=>{this.onStorageEvent(new StorageEvent("storage",{key:d,oldValue:v,newValue:L}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(d,v){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[d]||(this.listeners[d]=new Set,this.localCache[d]=this.storage.getItem(d)),this.listeners[d].add(v)}_removeListener(d,v){this.listeners[d]&&(this.listeners[d].delete(v),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(d,v){var L=()=>super._set,q=this;return(0,p.Z)(function*(){yield L().call(q,d,v),q.localCache[d]=JSON.stringify(v)})()}_get(d){var v=()=>super._get,L=this;return(0,p.Z)(function*(){const q=yield v().call(L,d);return L.localCache[d]=JSON.stringify(q),q})()}_remove(d){var v=()=>super._remove,L=this;return(0,p.Z)(function*(){yield v().call(L,d),delete L.localCache[d]})()}}return _.type="LOCAL",_})(),pr=(()=>{class _ extends co{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(d,v){}_removeListener(d,v){}}return _.type="SESSION",_})();let Gc=(()=>{class _{constructor(d){this.eventTarget=d,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(d){const v=this.receivers.find(q=>q.isListeningto(d));if(v)return v;const L=new _(d);return this.receivers.push(L),L}isListeningto(d){return this.eventTarget===d}handleEvent(d){var v=this;return(0,p.Z)(function*(){const L=d,{eventId:q,eventType:Te,data:ze}=L.data,Dt=v.handlersMap[Te];if(!Dt?.size)return;L.ports[0].postMessage({status:"ack",eventId:q,eventType:Te});const rn=Array.from(Dt).map(function(){var gn=(0,p.Z)(function*(li){return li(L.origin,ze)});return function(li){return gn.apply(this,arguments)}}()),yn=yield function zc(_){return Promise.all(_.map(function(){var u=(0,p.Z)(function*(d){try{return{fulfilled:!0,value:yield d}}catch(v){return{fulfilled:!1,reason:v}}});return function(d){return u.apply(this,arguments)}}()))}(rn);L.ports[0].postMessage({status:"done",eventId:q,eventType:Te,response:yn})})()}_subscribe(d,v){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[d]||(this.handlersMap[d]=new Set),this.handlersMap[d].add(v)}_unsubscribe(d,v){this.handlersMap[d]&&v&&this.handlersMap[d].delete(v),(!v||0===this.handlersMap[d].size)&&delete this.handlersMap[d],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function wi(_="",u=10){let d="";for(let v=0;v<u;v++)d+=Math.floor(10*Math.random());return _+d}class Lu{constructor(u){this.target=u,this.handlers=new Set}removeMessageHandler(u){u.messageChannel&&(u.messageChannel.port1.removeEventListener("message",u.onMessage),u.messageChannel.port1.close()),this.handlers.delete(u)}_send(u,d,v=50){var L=this;return(0,p.Z)(function*(){const q=typeof MessageChannel<"u"?new MessageChannel:null;if(!q)throw new Error("connection_unavailable");let Te,ze;return new Promise((Dt,rn)=>{const yn=wi("",20);q.port1.start();const gn=setTimeout(()=>{rn(new Error("unsupported_event"))},v);ze={messageChannel:q,onMessage(li){const ds=li;if(ds.data.eventId===yn)switch(ds.data.status){case"ack":clearTimeout(gn),Te=setTimeout(()=>{rn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Te),Dt(ds.data.response);break;default:clearTimeout(gn),clearTimeout(Te),rn(new Error("invalid_response"))}}},L.handlers.add(ze),q.port1.addEventListener("message",ze.onMessage),L.target.postMessage({eventType:u,eventId:yn,data:d},[q.port2])}).finally(()=>{ze&&L.removeMessageHandler(ze)})})()}}function ai(){return window}function Go(){return typeof ai().WorkerGlobalScope<"u"&&"function"==typeof ai().importScripts}function Wc(){return(Wc=(0,p.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const es="firebaseLocalStorageDb",ol="firebaseLocalStorage",T="fbase_key";class C{constructor(u){this.request=u}toPromise(){return new Promise((u,d)=>{this.request.addEventListener("success",()=>{u(this.request.result)}),this.request.addEventListener("error",()=>{d(this.request.error)})})}}function I(_,u){return _.transaction([ol],u?"readwrite":"readonly").objectStore(ol)}function j(){const _=indexedDB.open(es,1);return new Promise((u,d)=>{_.addEventListener("error",()=>{d(_.error)}),_.addEventListener("upgradeneeded",()=>{const v=_.result;try{v.createObjectStore(ol,{keyPath:T})}catch(L){d(L)}}),_.addEventListener("success",(0,p.Z)(function*(){const v=_.result;v.objectStoreNames.contains(ol)?u(v):(v.close(),yield function x(){const _=indexedDB.deleteDatabase(es);return new C(_).toPromise()}(),u(yield j()))}))})}function J(_,u,d){return ge.apply(this,arguments)}function ge(){return(ge=(0,p.Z)(function*(_,u,d){const v=I(_,!0).put({[T]:u,value:d});return new C(v).toPromise()})).apply(this,arguments)}function ft(){return(ft=(0,p.Z)(function*(_,u){const d=I(_,!1).get(u),v=yield new C(d).toPromise();return void 0===v?null:v.value})).apply(this,arguments)}function cn(_,u){const d=I(_,!0).delete(u);return new C(d).toPromise()}const cs=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var d=this;return(0,p.Z)(function*(){return d.db||(d.db=yield j()),d.db})()}_withRetries(d){var v=this;return(0,p.Z)(function*(){let L=0;for(;;)try{const q=yield v._openDb();return yield d(q)}catch(q){if(L++>3)throw q;v.db&&(v.db.close(),v.db=void 0)}})()}initializeServiceWorkerMessaging(){var d=this;return(0,p.Z)(function*(){return Go()?d.initializeReceiver():d.initializeSender()})()}initializeReceiver(){var d=this;return(0,p.Z)(function*(){d.receiver=Gc._getInstance(function Di(){return Go()?self:null}()),d.receiver._subscribe("keyChanged",function(){var v=(0,p.Z)(function*(L,q){return{keyProcessed:(yield d._poll()).includes(q.key)}});return function(L,q){return v.apply(this,arguments)}}()),d.receiver._subscribe("ping",function(){var v=(0,p.Z)(function*(L,q){return["keyChanged"]});return function(L,q){return v.apply(this,arguments)}}())})()}initializeSender(){var d=this;return(0,p.Z)(function*(){var v,L;if(d.activeServiceWorker=yield function Wo(){return Wc.apply(this,arguments)}(),!d.activeServiceWorker)return;d.sender=new Lu(d.activeServiceWorker);const q=yield d.sender._send("ping",{},800);q&&null!==(v=q[0])&&void 0!==v&&v.fulfilled&&null!==(L=q[0])&&void 0!==L&&L.value.includes("keyChanged")&&(d.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(d){var v=this;return(0,p.Z)(function*(){if(v.sender&&v.activeServiceWorker&&function dm(){var _;return(null===(_=navigator?.serviceWorker)||void 0===_?void 0:_.controller)||null}()===v.activeServiceWorker)try{yield v.sender._send("keyChanged",{key:d},v.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,p.Z)(function*(){try{if(!indexedDB)return!1;const d=yield j();return yield J(d,ma,"1"),yield cn(d,ma),!0}catch{}return!1})()}_withPendingWrite(d){var v=this;return(0,p.Z)(function*(){v.pendingWrites++;try{yield d()}finally{v.pendingWrites--}})()}_set(d,v){var L=this;return(0,p.Z)(function*(){return L._withPendingWrite((0,p.Z)(function*(){return yield L._withRetries(q=>J(q,d,v)),L.localCache[d]=v,L.notifyServiceWorker(d)}))})()}_get(d){var v=this;return(0,p.Z)(function*(){const L=yield v._withRetries(q=>function gt(_,u){return ft.apply(this,arguments)}(q,d));return v.localCache[d]=L,L})()}_remove(d){var v=this;return(0,p.Z)(function*(){return v._withPendingWrite((0,p.Z)(function*(){return yield v._withRetries(L=>cn(L,d)),delete v.localCache[d],v.notifyServiceWorker(d)}))})()}_poll(){var d=this;return(0,p.Z)(function*(){const v=yield d._withRetries(Te=>{const ze=I(Te,!1).getAll();return new C(ze).toPromise()});if(!v)return[];if(0!==d.pendingWrites)return[];const L=[],q=new Set;if(0!==v.length)for(const{fbase_key:Te,value:ze}of v)q.add(Te),JSON.stringify(d.localCache[Te])!==JSON.stringify(ze)&&(d.notifyListeners(Te,ze),L.push(Te));for(const Te of Object.keys(d.localCache))d.localCache[Te]&&!q.has(Te)&&(d.notifyListeners(Te,null),L.push(Te));return L})()}notifyListeners(d,v){this.localCache[d]=v;const L=this.listeners[d];if(L)for(const q of Array.from(L))q(v)}startPolling(){var d=this;this.stopPolling(),this.pollTimer=setInterval((0,p.Z)(function*(){return d._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(d,v){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[d]||(this.listeners[d]=new Set,this._get(d)),this.listeners[d].add(v)}_removeListener(d,v){this.listeners[d]&&(this.listeners[d].delete(v),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})(),Uu=1e12;class Ps{constructor(u){this.auth=u,this.counter=Uu,this._widgets=new Map}render(u,d){const v=this.counter;return this._widgets.set(v,new ll(u,this.auth.name,d||{})),this.counter++,v}reset(u){var d;const v=u||Uu;null===(d=this._widgets.get(v))||void 0===d||d.delete(),this._widgets.delete(v)}getResponse(u){var d;return(null===(d=this._widgets.get(u||Uu))||void 0===d?void 0:d.getResponse())||""}execute(u){var d=this;return(0,p.Z)(function*(){var v;return null===(v=d._widgets.get(u||Uu))||void 0===v||v.execute(),""})()}}class ll{constructor(u,d,v){this.params=v,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const L="string"==typeof u?document.getElementById(u):u;nt(L,"argument-error",{appName:d}),this.container=L,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Kr(_){const u=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<_;v++)u.push(d.charAt(Math.floor(62*Math.random())));return u.join("")}(50);const{callback:u,"expired-callback":d}=this.params;if(u)try{u(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,d)try{d()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const _a=no("rcb"),Df=new Ne(3e4,6e4);class Af{constructor(){var u;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(u=ai().grecaptcha)||void 0===u||!u.render)}load(u,d=""){return nt(function Cf(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(d),u,"argument-error"),this.shouldResolveImmediately(d)&&Jn(ai().grecaptcha)?Promise.resolve(ai().grecaptcha):new Promise((v,L)=>{const q=ai().setTimeout(()=>{L(me(u,"network-request-failed"))},Df.get());ai()[_a]=()=>{ai().clearTimeout(q),delete ai()[_a];const ze=ai().grecaptcha;if(!ze||!Jn(ze))return void L(me(u,"internal-error"));const Dt=ze.render;ze.render=(rn,yn)=>{const gn=Dt(rn,yn);return this.counter++,gn},this.hostLanguage=d,v(ze)},qi(`${function $s(){return Ki.recaptchaV2Script}()}?${(0,ne.xO)({onload:_a,render:"explicit",hl:d})}`).catch(()=>{clearTimeout(q),L(me(u,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(u){var d;return!(null===(d=ai().grecaptcha)||void 0===d||!d.render)&&(u===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class qo{load(u){return(0,p.Z)(function*(){return new Ps(u)})()}clearedOneInstance(){}}const Bu="recaptcha",ju={theme:"light",type:"image"};class ya{constructor(u,d,v=Object.assign({},ju)){this.parameters=v,this.type=Bu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=_r(u),this.isInvisible="invisible"===this.parameters.size,nt(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const L="string"==typeof d?document.getElementById(d):d;nt(L,this.auth,"argument-error"),this.container=L,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new qo:new Af,this.validateStartingState()}verify(){var u=this;return(0,p.Z)(function*(){u.assertNotDestroyed();const d=yield u.render(),v=u.getAssertedRecaptcha();return v.getResponse(d)||new Promise(q=>{const Te=ze=>{ze&&(u.tokenChangeListeners.delete(Te),q(ze))};u.tokenChangeListeners.add(Te),u.isInvisible&&v.execute(d)})})()}render(){try{this.assertNotDestroyed()}catch(u){return Promise.reject(u)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(u=>{throw this.renderPromise=null,u})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(u=>{this.container.removeChild(u)})}validateStartingState(){nt(!this.parameters.sitekey,this.auth,"argument-error"),nt(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),nt(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(u){return d=>{if(this.tokenChangeListeners.forEach(v=>v(d)),"function"==typeof u)u(d);else if("string"==typeof u){const v=ai()[u];"function"==typeof v&&v(d)}}}assertNotDestroyed(){nt(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var u=this;return(0,p.Z)(function*(){if(yield u.init(),!u.widgetId){let d=u.container;if(!u.isInvisible){const v=document.createElement("div");d.appendChild(v),d=v}u.widgetId=u.getAssertedRecaptcha().render(d,u.parameters)}return u.widgetId})()}init(){var u=this;return(0,p.Z)(function*(){nt(br()&&!Go(),u.auth,"internal-error"),yield function Hu(){let _=null;return new Promise(u=>{"complete"!==document.readyState?(_=()=>u(),window.addEventListener("load",_)):u()}).catch(u=>{throw _&&window.removeEventListener("load",_),u})}(),u.recaptcha=yield u._recaptchaLoader.load(u.auth,u.auth.languageCode||void 0);const d=yield function It(_){return or.apply(this,arguments)}(u.auth);nt(d,u.auth,"internal-error"),u.parameters.sitekey=d})()}getAssertedRecaptcha(){return nt(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class fo{constructor(u,d){this.verificationId=u,this.onConfirmation=d}confirm(u){const d=is._fromVerification(this.verificationId,u);return this.onConfirmation(d)}}function po(){return(po=(0,p.Z)(function*(_,u,d){if((0,Y._isFirebaseServerApp)(_.app))return Promise.reject(Ye(_));const v=_r(_),L=yield Qo(v,u,(0,ne.m9)(d));return new fo(L,q=>os(v,q))})).apply(this,arguments)}function Kc(){return(Kc=(0,p.Z)(function*(_,u,d){const v=(0,ne.m9)(_);yield $o(!1,v,"phone");const L=yield Qo(v.auth,u,(0,ne.m9)(d));return new fo(L,q=>Ys(v,q))})).apply(this,arguments)}function qc(){return(qc=(0,p.Z)(function*(_,u,d){const v=(0,ne.m9)(_);if((0,Y._isFirebaseServerApp)(v.auth.app))return Promise.reject(Ye(v.auth));const L=yield Qo(v.auth,u,(0,ne.m9)(d));return new fo(L,q=>ui(v,q))})).apply(this,arguments)}function Qo(_,u,d){return Ba.apply(this,arguments)}function Ba(){return Ba=(0,p.Z)(function*(_,u,d){var v;const L=yield d.verify();try{let q;if(nt("string"==typeof L,_,"argument-error"),nt(d.type===Bu,_,"argument-error"),q="string"==typeof u?{phoneNumber:u}:u,"session"in q){const Te=q.session;if("phoneNumber"in q)return nt("enroll"===Te.type,_,"internal-error"),(yield function Sr(_,u){return jt(_,"POST","/v2/accounts/mfaEnrollment:start",ut(_,u))}(_,{idToken:Te.credential,phoneEnrollmentInfo:{phoneNumber:q.phoneNumber,recaptchaToken:L}})).phoneSessionInfo.sessionInfo;{nt("signin"===Te.type,_,"internal-error");const ze=(null===(v=q.multiFactorHint)||void 0===v?void 0:v.uid)||q.multiFactorUid;return nt(ze,_,"missing-multi-factor-info"),(yield function Po(_,u){return jt(_,"POST","/v2/accounts/mfaSignIn:start",ut(_,u))}(_,{mfaPendingCredential:Te.credential,mfaEnrollmentId:ze,phoneSignInInfo:{recaptchaToken:L}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Te}=yield function Ks(_,u){return Us.apply(this,arguments)}(_,{phoneNumber:q.phoneNumber,recaptchaToken:L});return Te}}finally{d._reset()}}),Ba.apply(this,arguments)}function qd(){return(qd=(0,p.Z)(function*(_,u){const d=(0,ne.m9)(_);if((0,Y._isFirebaseServerApp)(d.auth.app))return Promise.reject(Ye(d.auth));yield Va(d,u)})).apply(this,arguments)}let ja=(()=>{class _{constructor(d){this.providerId=_.PROVIDER_ID,this.auth=_r(d)}verifyPhoneNumber(d,v){return Qo(this.auth,d,(0,ne.m9)(v))}static credential(d,v){return is._fromVerification(d,v)}static credentialFromResult(d){return _.credentialFromTaggedObject(d)}static credentialFromError(d){return _.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{phoneNumber:v,temporaryProof:L}=d;return v&&L?is._fromTokenResponse(v,L):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function va(_,u){return u?Yt(u):(nt(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class ul extends mi{constructor(u){super("custom","custom"),this.params=u}_getIdTokenResponse(u){return Qn(u,this._buildIdpRequest())}_linkToIdToken(u,d){return Qn(u,this._buildIdpRequest(d))}_getReauthenticationResolver(u){return Qn(u,this._buildIdpRequest())}_buildIdpRequest(u){const d={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return u&&(d.idToken=u),d}}function dl(_){return xo(_.auth,new ul(_),_.bypassAuthState)}function a_(_){const{auth:u,user:d}=_;return nt(d,u,"internal-error"),So(d,new ul(_),_.bypassAuthState)}function fm(_){return Zc.apply(this,arguments)}function Zc(){return(Zc=(0,p.Z)(function*(_){const{auth:u,user:d}=_;return nt(d,u,"internal-error"),Va(d,new ul(_),_.bypassAuthState)})).apply(this,arguments)}class ec{constructor(u,d,v,L,q=!1){this.auth=u,this.resolver=v,this.user=L,this.bypassAuthState=q,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(d)?d:[d]}execute(){var u=this;return new Promise(function(){var d=(0,p.Z)(function*(v,L){u.pendingPromise={resolve:v,reject:L};try{u.eventManager=yield u.resolver._initialize(u.auth),yield u.onExecution(),u.eventManager.registerConsumer(u)}catch(q){u.reject(q)}});return function(v,L){return d.apply(this,arguments)}}())}onAuthEvent(u){var d=this;return(0,p.Z)(function*(){const{urlResponse:v,sessionId:L,postBody:q,tenantId:Te,error:ze,type:Dt}=u;if(ze)return void d.reject(ze);const rn={auth:d.auth,requestUri:v,sessionId:L,tenantId:Te||void 0,postBody:q||void 0,user:d.user,bypassAuthState:d.bypassAuthState};try{d.resolve(yield d.getIdpTask(Dt)(rn))}catch(yn){d.reject(yn)}})()}onError(u){this.reject(u)}getIdpTask(u){switch(u){case"signInViaPopup":case"signInViaRedirect":return dl;case"linkViaPopup":case"linkViaRedirect":return fm;case"reauthViaPopup":case"reauthViaRedirect":return a_;default:De(this.auth,"internal-error")}}resolve(u){dn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(u),this.unregisterAndCleanUp()}reject(u){dn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(u),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const pm=new Ne(2e3,1e4);function Oo(){return(Oo=(0,p.Z)(function*(_,u,d){if((0,Y._isFirebaseServerApp)(_.app))return Promise.reject(me(_,"operation-not-supported-in-this-environment"));const v=_r(_);Et(_,u,vr);const L=va(v,d);return new Yd(v,"signInViaPopup",u,L).executeNotNull()})).apply(this,arguments)}function Zd(){return(Zd=(0,p.Z)(function*(_,u,d){const v=(0,ne.m9)(_);if((0,Y._isFirebaseServerApp)(v.auth.app))return Promise.reject(me(v.auth,"operation-not-supported-in-this-environment"));Et(v.auth,u,vr);const L=va(v.auth,d);return new Yd(v.auth,"reauthViaPopup",u,L,v).executeNotNull()})).apply(this,arguments)}function Qc(){return(Qc=(0,p.Z)(function*(_,u,d){const v=(0,ne.m9)(_);Et(v.auth,u,vr);const L=va(v.auth,d);return new Yd(v.auth,"linkViaPopup",u,L,v).executeNotNull()})).apply(this,arguments)}let Yd=(()=>{class _ extends ec{constructor(d,v,L,q,Te){super(d,v,q,Te),this.provider=L,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var d=this;return(0,p.Z)(function*(){const v=yield d.execute();return nt(v,d.auth,"internal-error"),v})()}onExecution(){var d=this;return(0,p.Z)(function*(){dn(1===d.filter.length,"Popup operations only handle one event");const v=wi();d.authWindow=yield d.resolver._openPopup(d.auth,d.provider,d.filter[0],v),d.authWindow.associatedEvent=v,d.resolver._originValidation(d.auth).catch(L=>{d.reject(L)}),d.resolver._isIframeWebStorageSupported(d.auth,L=>{L||d.reject(me(d.auth,"web-storage-unsupported"))}),d.pollUserCancellation()})()}get eventId(){var d;return(null===(d=this.authWindow)||void 0===d?void 0:d.associatedEvent)||null}cancel(){this.reject(me(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const d=()=>{var v,L;this.pollId=null!==(L=null===(v=this.authWindow)||void 0===v?void 0:v.window)&&void 0!==L&&L.closed?window.setTimeout(()=>{this.pollId=null,this.reject(me(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(d,pm.get())};d()}}return _.currentPopupAction=null,_})();const mo="pendingRedirect",hl=new Map;class Yc extends ec{constructor(u,d,v=!1){super(u,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],d,void 0,v),this.eventId=null}execute(){var u=()=>super.execute,d=this;return(0,p.Z)(function*(){let v=hl.get(d.auth._key());if(!v){try{const q=(yield function Jc(_,u){return tc.apply(this,arguments)}(d.resolver,d.auth))?yield u().call(d):null;v=()=>Promise.resolve(q)}catch(L){v=()=>Promise.reject(L)}hl.set(d.auth._key(),v)}return d.bypassAuthState||hl.set(d.auth._key(),()=>Promise.resolve(null)),v()})()}onAuthEvent(u){var d=()=>super.onAuthEvent,v=this;return(0,p.Z)(function*(){if("signInViaRedirect"===u.type)return d().call(v,u);if("unknown"!==u.type){if(u.eventId){const L=yield v.auth._redirectUserForId(u.eventId);if(L)return v.user=L,d().call(v,u);v.resolve(null)}}else v.resolve(null)})()}onExecution(){return(0,p.Z)(function*(){})()}cleanUp(){}}function tc(){return(tc=(0,p.Z)(function*(_,u){const d=Jd(u),v=rc(_);if(!(yield v._isAvailable()))return!1;const L="true"===(yield v._get(d));return yield v._remove(d),L})).apply(this,arguments)}function fl(_,u){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,p.Z)(function*(_,u){return rc(_)._set(Jd(u),"true")})).apply(this,arguments)}function nc(_,u){hl.set(_._key(),u)}function rc(_){return Yt(_._redirectPersistence)}function Jd(_){return en(mo,_.config.apiKey,_.name)}function Xd(_,u,d){return function ic(_,u,d){return Yo.apply(this,arguments)}(_,u,d)}function Yo(){return(Yo=(0,p.Z)(function*(_,u,d){if((0,Y._isFirebaseServerApp)(_.app))return Promise.reject(Ye(_));const v=_r(_);Et(_,u,vr),yield v._initializationPromise;const L=va(v,d);return yield fl(L,v),L._openRedirect(v,u,"signInViaRedirect")})).apply(this,arguments)}function go(_,u,d){return function Sf(_,u,d){return Xc.apply(this,arguments)}(_,u,d)}function Xc(){return(Xc=(0,p.Z)(function*(_,u,d){const v=(0,ne.m9)(_);if(Et(v.auth,u,vr),(0,Y._isFirebaseServerApp)(v.auth.app))return Promise.reject(Ye(v.auth));yield v.auth._initializationPromise;const L=va(v.auth,d);yield fl(L,v.auth);const q=yield eh(v);return L._openRedirect(v.auth,u,"reauthViaRedirect",q)})).apply(this,arguments)}function ys(_,u,d){return function sc(_,u,d){return oc.apply(this,arguments)}(_,u,d)}function oc(){return(oc=(0,p.Z)(function*(_,u,d){const v=(0,ne.m9)(_);Et(v.auth,u,vr),yield v.auth._initializationPromise;const L=va(v.auth,d);yield $o(!1,v,u.providerId),yield fl(L,v.auth);const q=yield eh(v);return L._openRedirect(v.auth,u,"linkViaRedirect",q)})).apply(this,arguments)}function zu(){return(zu=(0,p.Z)(function*(_,u){return yield _r(_)._initializationPromise,_o(_,u,!1)})).apply(this,arguments)}function _o(_,u){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,p.Z)(function*(_,u,d=!1){if((0,Y._isFirebaseServerApp)(_.app))return Promise.reject(Ye(_));const v=_r(_),L=va(v,u),Te=yield new Yc(v,L,d).execute();return Te&&!d&&(delete Te.user._redirectEventId,yield v._persistUserIfCurrent(Te.user),yield v._setRedirectUser(null,u)),Te})).apply(this,arguments)}function eh(_){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,p.Z)(function*(_){const u=wi(`${_.uid}:::`);return _._redirectEventId=u,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),u})).apply(this,arguments)}class yo{constructor(u){this.auth=u,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(u){this.consumers.add(u),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,u)&&(this.sendToConsumer(this.queuedRedirectEvent,u),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(u){this.consumers.delete(u)}onEvent(u){if(this.hasEventBeenHandled(u))return!1;let d=!1;return this.consumers.forEach(v=>{this.isEventForConsumer(u,v)&&(d=!0,this.sendToConsumer(u,v),this.saveEventToCache(u))}),this.hasHandledPotentialRedirect||!function nh(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return js(_);default:return!1}}(u)||(this.hasHandledPotentialRedirect=!0,d||(this.queuedRedirectEvent=u,d=!0)),d}sendToConsumer(u,d){var v;if(u.error&&!js(u)){const L=(null===(v=u.error.code)||void 0===v?void 0:v.split("auth/")[1])||"internal-error";d.onError(me(this.auth,L))}else d.onAuthEvent(u)}isEventForConsumer(u,d){const v=null===d.eventId||!!u.eventId&&u.eventId===d.eventId;return d.filter.includes(u.type)&&v}hasEventBeenHandled(u){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has($a(u))}saveEventToCache(u){this.cachedEventUids.add($a(u)),this.lastProcessedEventTime=Date.now()}}function $a(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(u=>u).join("-")}function js({type:_,error:u}){return"unknown"===_&&"auth/no-auth-event"===u?.code}function Gu(_){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,p.Z)(function*(_,u={}){return jt(_,"GET","/v1/projects",u)})).apply(this,arguments)}const l_=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xf=/^https?/;function eu(){return(eu=(0,p.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:u}=yield Gu(_);for(const d of u)try{if(gm(d))return}catch{}De(_,"unauthorized-domain")})).apply(this,arguments)}function gm(_){const u=An(),{protocol:d,hostname:v}=new URL(u);if(_.startsWith("chrome-extension://")){const Te=new URL(_);return""===Te.hostname&&""===v?"chrome-extension:"===d&&_.replace("chrome-extension://","")===u.replace("chrome-extension://",""):"chrome-extension:"===d&&Te.hostname===v}if(!xf.test(d))return!1;if(l_.test(_))return v===_;const L=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+L+"|"+L+")$","i").test(v)}const u_=new Ne(3e4,6e4);function Rf(){const _=ai().___jsl;if(_?.H)for(const u of Object.keys(_.H))if(_.H[u].r=_.H[u].r||[],_.H[u].L=_.H[u].L||[],_.H[u].r=[..._.H[u].L],_.CP)for(let d=0;d<_.CP.length;d++)_.CP[d]=null}let ea=null;const tu=new Ne(5e3,15e3),zi="__/auth/iframe",Mf="emulator/auth/iframe",nu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Pf=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vo(_){const u=_.config;nt(u.authDomain,_,"auth-domain-config-required");const d=u.emulator?Be(u,Mf):`https://${_.config.authDomain}/${zi}`,v={apiKey:u.apiKey,appName:_.name,v:Y.SDK_VERSION},L=Pf.get(_.config.apiHost);L&&(v.eid=L);const q=_._getFrameworks();return q.length&&(v.fw=q.join(",")),`${d}?${(0,ne.xO)(v).slice(1)}`}function lc(){return lc=(0,p.Z)(function*(_){const u=yield function pl(_){return ea=ea||function d_(_){return new Promise((u,d)=>{var v,L,q;function Te(){Rf(),gapi.load("gapi.iframes",{callback:()=>{u(gapi.iframes.getContext())},ontimeout:()=>{Rf(),d(me(_,"network-request-failed"))},timeout:u_.get()})}if(null!==(L=null===(v=ai().gapi)||void 0===v?void 0:v.iframes)&&void 0!==L&&L.Iframe)u(gapi.iframes.getContext());else{if(null===(q=ai().gapi)||void 0===q||!q.load){const ze=no("iframefcb");return ai()[ze]=()=>{gapi.load?Te():d(me(_,"network-request-failed"))},qi(`${function Vs(){return Ki.gapiScript}()}?onload=${ze}`).catch(Dt=>d(Dt))}Te()}}).catch(u=>{throw ea=null,u})}(_),ea}(_),d=ai().gapi;return nt(d,_,"internal-error"),u.open({where:document.body,url:vo(_),messageHandlersFilter:d.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nu,dontclear:!0},v=>new Promise(function(){var L=(0,p.Z)(function*(q,Te){yield v.restyle({setHideOnLeave:!1});const ze=me(_,"network-request-failed"),Dt=ai().setTimeout(()=>{Te(ze)},tu.get());function rn(){ai().clearTimeout(Dt),q(v)}v.ping(rn).then(rn,()=>{Te(ze)})});return function(q,Te){return L.apply(this,arguments)}}()))}),lc.apply(this,arguments)}const ki={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class rh{constructor(u){this.window=u,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const ba="__/auth/handler",f_="emulator/auth/handler",ih=encodeURIComponent("fac");function iu(_,u,d,v,L,q){return su.apply(this,arguments)}function su(){return(su=(0,p.Z)(function*(_,u,d,v,L,q){nt(_.config.authDomain,_,"auth-domain-config-required"),nt(_.config.apiKey,_,"invalid-api-key");const Te={apiKey:_.config.apiKey,appName:_.name,authType:d,redirectUrl:v,v:Y.SDK_VERSION,eventId:L};if(u instanceof vr){u.setDefaultLanguage(_.languageCode),Te.providerId=u.providerId||"",(0,ne.xb)(u.getCustomParameters())||(Te.customParameters=JSON.stringify(u.getCustomParameters()));for(const[yn,gn]of Object.entries(q||{}))Te[yn]=gn}if(u instanceof kr){const yn=u.getScopes().filter(gn=>""!==gn);yn.length>0&&(Te.scopes=yn.join(","))}_.tenantId&&(Te.tid=_.tenantId);const ze=Te;for(const yn of Object.keys(ze))void 0===ze[yn]&&delete ze[yn];const Dt=yield _._getAppCheckToken(),rn=Dt?`#${ih}=${encodeURIComponent(Dt)}`:"";return`${function ou({config:_}){return _.emulator?Be(_,f_):`https://${_.authDomain}/${ba}`}(_)}?${(0,ne.xO)(ze).slice(1)}${rn}`})).apply(this,arguments)}const uc="webStorageSupport",Wu=class sh{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pr,this._completeRedirectFn=_o,this._overrideRedirectResult=nc}_openPopup(u,d,v,L){var q=this;return(0,p.Z)(function*(){var Te;dn(null===(Te=q.eventManagers[u._key()])||void 0===Te?void 0:Te.manager,"_initialize() not called before _openPopup()");const ze=yield iu(u,d,v,An(),L);return function Js(_,u,d,v=500,L=600){const q=Math.max((window.screen.availHeight-L)/2,0).toString(),Te=Math.max((window.screen.availWidth-v)/2,0).toString();let ze="";const Dt=Object.assign(Object.assign({},ki),{width:v.toString(),height:L.toString(),top:q,left:Te}),rn=(0,ne.z$)().toLowerCase();d&&(ze=mt(rn)?"_blank":d),Ae(rn)&&(u=u||"http://localhost",Dt.scrollbars="yes");const yn=Object.entries(Dt).reduce((li,[ds,wl])=>`${li}${ds}=${wl},`,"");if(function Ve(_=(0,ne.z$)()){var u;return Qt(_)&&!(null===(u=window.navigator)||void 0===u||!u.standalone)}(rn)&&"_self"!==ze)return function cc(_,u){const d=document.createElement("a");d.href=_,d.target=u;const v=document.createEvent("MouseEvent");v.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),d.dispatchEvent(v)}(u||"",ze),new rh(null);const gn=window.open(u||"",ze,yn);nt(gn,_,"popup-blocked");try{gn.focus()}catch{}return new rh(gn)}(u,ze,wi())})()}_openRedirect(u,d,v,L){var q=this;return(0,p.Z)(function*(){return yield q._originValidation(u),function uo(_){ai().location.href=_}(yield iu(u,d,v,An(),L)),new Promise(()=>{})})()}_initialize(u){const d=u._key();if(this.eventManagers[d]){const{manager:L,promise:q}=this.eventManagers[d];return L?Promise.resolve(L):(dn(q,"If manager is not set, promise should be"),q)}const v=this.initAndGetManager(u);return this.eventManagers[d]={promise:v},v.catch(()=>{delete this.eventManagers[d]}),v}initAndGetManager(u){var d=this;return(0,p.Z)(function*(){const v=yield function ac(_){return lc.apply(this,arguments)}(u),L=new yo(u);return v.register("authEvent",q=>(nt(q?.authEvent,u,"invalid-auth-event"),{status:L.onEvent(q.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),d.eventManagers[u._key()]={manager:L},d.iframes[u._key()]=v,L})()}_isIframeWebStorageSupported(u,d){this.iframes[u._key()].send(uc,{type:uc},L=>{var q;const Te=null===(q=L?.[0])||void 0===q?void 0:q[uc];void 0!==Te&&d(!!Te),De(u,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(u){const d=u._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function c_(_){return eu.apply(this,arguments)}(u)),this.originValidationPromises[d]}get _shouldInitProactively(){return $t()||Re()||Qt()}};class oh{constructor(u){this.factorId=u}_process(u,d,v){switch(d.type){case"enroll":return this._finalizeEnroll(u,d.credential,v);case"signin":return this._finalizeSignIn(u,d.credential);default:return an("unexpected MultiFactorSessionType")}}}class ml extends oh{constructor(u){super("phone"),this.credential=u}static _fromCredential(u){return new ml(u)}_finalizeEnroll(u,d,v){return function Bc(_,u){return jt(_,"POST","/v2/accounts/mfaEnrollment:finalize",ut(_,u))}(u,{idToken:d,displayName:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(u,d){return function ga(_,u){return jt(_,"POST","/v2/accounts/mfaSignIn:finalize",ut(_,u))}(u,{mfaPendingCredential:d,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let vm=(()=>{class _{constructor(){}static assertion(d){return ml._fromCredential(d)}}return _.FACTOR_ID="phone",_})();var Qu="@firebase/auth";class au{constructor(u){this.auth=u,this.internalListeners=new Map}getUid(){var u;return this.assertAuthConfigured(),(null===(u=this.auth.currentUser)||void 0===u?void 0:u.uid)||null}getToken(u){var d=this;return(0,p.Z)(function*(){return d.assertAuthConfigured(),yield d.auth._initializationPromise,d.auth.currentUser?{accessToken:yield d.auth.currentUser.getIdToken(u)}:null})()}addAuthTokenListener(u){if(this.assertAuthConfigured(),this.internalListeners.has(u))return;const d=this.auth.onIdTokenChanged(v=>{u(v?.stsTokenManager.accessToken||null)});this.internalListeners.set(u,d),this.updateProactiveRefresh()}removeAuthTokenListener(u){this.assertAuthConfigured();const d=this.internalListeners.get(u);d&&(this.internalListeners.delete(u),d(),this.updateProactiveRefresh())}assertAuthConfigured(){nt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function _l(){return window}(0,ne.Pz)("authIdTokenMaxAge"),function Is(_){Ki=_}({loadJS:_=>new Promise((u,d)=>{const v=document.createElement("script");v.setAttribute("src",_),v.onload=u,v.onerror=L=>{const q=me("internal-error");q.customData=L,d(q)},v.type="text/javascript",v.charset="UTF-8",function ah(){var _,u;return null!==(u=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==u?u:document}().appendChild(v)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function dc(_){(0,Y._registerComponent)(new ve.wA("auth",(u,{options:d})=>{const v=u.getProvider("app").getImmediate(),L=u.getProvider("heartbeat"),q=u.getProvider("app-check-internal"),{apiKey:Te,authDomain:ze}=v.options;nt(Te&&!Te.includes(":"),"invalid-api-key",{appName:v.name});const Dt={apiKey:Te,authDomain:ze,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:on(_)},rn=new Lr(v,L,q,Dt);return function ua(_,u){const d=u?.persistence||[],v=(Array.isArray(d)?d:[d]).map(Yt);u?.errorMap&&_._updateErrorMap(u.errorMap),_._initializeWithPersistence(v,u?.popupRedirectResolver)}(rn,d),rn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((u,d,v)=>{u.getProvider("auth-internal").initialize()})),(0,Y._registerComponent)(new ve.wA("auth-internal",u=>{const d=_r(u.getProvider("auth").getImmediate());return new au(d)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Y.registerVersion)(Qu,"1.7.4",function Of(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(_)),(0,Y.registerVersion)(Qu,"1.7.4","esm2017")}("Browser");function lu(){return lu=(0,p.Z)(function*(_,u,d){var v;const{BuildInfo:L}=_l();dn(u.sessionId,"AuthEvent did not contain a session ID");const q=yield function ed(_){return td.apply(this,arguments)}(u.sessionId),Te={};return Qt()?Te.ibi=L.packageName:Kt()?Te.apn=L.packageName:De(_,"operation-not-supported-in-this-environment"),L.displayName&&(Te.appDisplayName=L.displayName),Te.sessionId=q,iu(_,d,u.type,void 0,null!==(v=u.eventId)&&void 0!==v?v:void 0,Te)}),lu.apply(this,arguments)}function yl(){return(yl=(0,p.Z)(function*(_){const{BuildInfo:u}=_l(),d={};Qt()?d.iosBundleId=u.packageName:Kt()?d.androidPackageName=u.packageName:De(_,"operation-not-supported-in-this-environment"),yield Gu(_,d)})).apply(this,arguments)}function Ga(){return(Ga=(0,p.Z)(function*(_,u,d){const{cordova:v}=_l();let L=()=>{};try{yield new Promise((q,Te)=>{let ze=null;function Dt(){var gn;q();const li=null===(gn=v.plugins.browsertab)||void 0===gn?void 0:gn.close;"function"==typeof li&&li(),"function"==typeof d?.close&&d.close()}function rn(){ze||(ze=window.setTimeout(()=>{Te(me(_,"redirect-cancelled-by-user"))},2e3))}function yn(){"visible"===document?.visibilityState&&rn()}u.addPassiveListener(Dt),document.addEventListener("resume",rn,!1),Kt()&&document.addEventListener("visibilitychange",yn,!1),L=()=>{u.removePassiveListener(Dt),document.removeEventListener("resume",rn,!1),document.removeEventListener("visibilitychange",yn,!1),ze&&window.clearTimeout(ze)}})}finally{L()}})).apply(this,arguments)}function td(){return(td=(0,p.Z)(function*(_){const u=function ch(_){if(dn(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(_);const u=new ArrayBuffer(_.length),d=new Uint8Array(u);for(let v=0;v<_.length;v++)d[v]=_.charCodeAt(v);return d}(_),d=yield crypto.subtle.digest("SHA-256",u);return Array.from(new Uint8Array(d)).map(L=>L.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class uh extends yo{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(u=>{this.resolveInialized=u})}addPassiveListener(u){this.passiveListeners.add(u)}removePassiveListener(u){this.passiveListeners.delete(u)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(u){return this.resolveInialized(),this.passiveListeners.forEach(d=>d(u)),super.onEvent(u)}initialized(){var u=this;return(0,p.Z)(function*(){yield u.initPromise})()}}function fc(_){return Vf.apply(this,arguments)}function Vf(){return(Vf=(0,p.Z)(function*(_){const u=yield Uf()._get(hh(_));return u&&(yield Uf()._remove(hh(_))),u})).apply(this,arguments)}function Os(){const _=[];for(let d=0;d<20;d++){const v=Math.floor(62*Math.random());_.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(v))}return _.join("")}function Uf(){return Yt(Ua)}function hh(_){return en("authEvent",_.config.apiKey,_.name)}function wa(_){if(!_?.includes("?"))return{};const[u,...d]=_.split("?");return(0,ne.zd)(d.join("?"))}const jf=class Bf{constructor(){this._redirectPersistence=pr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=_o,this._overrideRedirectResult=nc}_initialize(u){var d=this;return(0,p.Z)(function*(){const v=u._key();let L=d.eventManagers.get(v);return L||(L=new uh(u),d.eventManagers.set(v,L),d.attachCallbackListeners(u,L)),L})()}_openPopup(u){De(u,"operation-not-supported-in-this-environment")}_openRedirect(u,d,v,L){var q=this;return(0,p.Z)(function*(){!function lh(_){var u,d,v,L,q,Te,ze,Dt,rn,yn;const gn=_l();nt("function"==typeof(null===(u=gn?.universalLinks)||void 0===u?void 0:u.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),nt(typeof(null===(d=gn?.BuildInfo)||void 0===d?void 0:d.packageName)<"u",_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),nt("function"==typeof(null===(q=null===(L=null===(v=gn?.cordova)||void 0===v?void 0:v.plugins)||void 0===L?void 0:L.browsertab)||void 0===q?void 0:q.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),nt("function"==typeof(null===(Dt=null===(ze=null===(Te=gn?.cordova)||void 0===Te?void 0:Te.plugins)||void 0===ze?void 0:ze.browsertab)||void 0===Dt?void 0:Dt.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),nt("function"==typeof(null===(yn=null===(rn=gn?.cordova)||void 0===rn?void 0:rn.InAppBrowser)||void 0===yn?void 0:yn.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(u);const Te=yield q._initialize(u);yield Te.initialized(),Te.resetRedirect(),function mm(){hl.clear()}(),yield q._originValidation(u);const ze=function Im(_,u,d=null){return{type:u,eventId:d,urlResponse:null,sessionId:Os(),postBody:null,tenantId:_.tenantId,error:me(_,"no-auth-event")}}(u,v,L);yield function dh(_,u){return Uf()._set(hh(_),u)}(u,ze);const Dt=yield function Em(_,u,d){return lu.apply(this,arguments)}(u,ze,d),rn=yield function Ju(_){const{cordova:u}=_l();return new Promise(d=>{u.plugins.browsertab.isAvailable(v=>{let L=null;v?u.plugins.browsertab.openUrl(_):L=u.InAppBrowser.open(_,function ot(_=(0,ne.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),d(L)})})}(Dt);return function Xu(_,u,d){return Ga.apply(this,arguments)}(u,Te,rn)})()}_isIframeWebStorageSupported(u,d){throw new Error("Method not implemented.")}_originValidation(u){const d=u._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function Ff(_){return yl.apply(this,arguments)}(u)),this.originValidationPromises[d]}attachCallbackListeners(u,d){const{universalLinks:v,handleOpenURL:L,BuildInfo:q}=_l(),Te=setTimeout((0,p.Z)(function*(){yield fc(u),d.onEvent(vl())}),500),ze=function(){var yn=(0,p.Z)(function*(gn){clearTimeout(Te);const li=yield fc(u);let ds=null;li&&gn?.url&&(ds=function m_(_,u){var d,v;const L=function Wa(_){const u=wa(_),d=u.link?decodeURIComponent(u.link):void 0,v=wa(d).link,L=u.deep_link_id?decodeURIComponent(u.deep_link_id):void 0;return wa(L).link||L||v||d||_}(u);if(L.includes("/__/auth/callback")){const q=wa(L),Te=q.firebaseError?function nd(_){try{return JSON.parse(_)}catch{return null}}(decodeURIComponent(q.firebaseError)):null,ze=null===(v=null===(d=Te?.code)||void 0===d?void 0:d.split("auth/"))||void 0===v?void 0:v[1],Dt=ze?me(ze):null;return Dt?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:Dt,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:L,postBody:null}}return null}(li,gn.url)),d.onEvent(ds||vl())});return function(li){return yn.apply(this,arguments)}}();typeof v<"u"&&"function"==typeof v.subscribe&&v.subscribe(null,ze);const Dt=L,rn=`${q.packageName.toLowerCase()}://`;_l().handleOpenURL=function(){var yn=(0,p.Z)(function*(gn){if(gn.toLowerCase().startsWith(rn)&&ze({url:gn}),"function"==typeof Dt)try{Dt(gn)}catch(li){console.error(li)}});return function(gn){return yn.apply(this,arguments)}}()}};function vl(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:me("no-auth-event")}}function Xs(){var _;return(null===(_=self?.location)||void 0===_?void 0:_.protocol)||null}function cu(_=(0,ne.z$)()){return!("file:"!==Xs()&&"ionic:"!==Xs()&&"capacitor:"!==Xs()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function sd(){try{const _=self.localStorage,u=wi();if(_)return _.setItem(u,"1"),_.removeItem(u),!function mh(_=(0,ne.z$)()){return function rd(){return(0,ne.w1)()&&11===document?.documentMode}()||function id(_=(0,ne.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,ne.hl)()}catch{return ta()&&(0,ne.hl)()}return!1}function ta(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function uu(){return(function ph(){return"http:"===Xs()||"https:"===Xs()}()||(0,ne.ru)()||cu())&&!function mc(){return(0,ne.b$)()||(0,ne.UG)()}()&&sd()&&!ta()}function zf(){return cu()&&typeof document<"u"}function Ss(){return(Ss=(0,p.Z)(function*(){return!!zf()&&new Promise(_=>{const u=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(u),_(!0)})})})).apply(this,arguments)}const Hs={LOCAL:"local",NONE:"none",SESSION:"session"},Da=nt,vs="persistence";function Il(_){return gc.apply(this,arguments)}function gc(){return(gc=(0,p.Z)(function*(_){yield _._initializationPromise;const u=qa(),d=en(vs,_.config.apiKey,_.name);u&&u.setItem(d,_._getPersistence())})).apply(this,arguments)}function qa(){var _;try{return(null===(_=function du(){return typeof window<"u"?window:null}())||void 0===_?void 0:_.sessionStorage)||null}catch{return null}}const _h=nt;class Aa{constructor(){this.browserResolver=Yt(Wu),this.cordovaResolver=Yt(jf),this.underlyingResolver=null,this._redirectPersistence=pr,this._completeRedirectFn=_o,this._overrideRedirectResult=nc}_initialize(u){var d=this;return(0,p.Z)(function*(){return yield d.selectUnderlyingResolver(),d.assertedUnderlyingResolver._initialize(u)})()}_openPopup(u,d,v,L){var q=this;return(0,p.Z)(function*(){return yield q.selectUnderlyingResolver(),q.assertedUnderlyingResolver._openPopup(u,d,v,L)})()}_openRedirect(u,d,v,L){var q=this;return(0,p.Z)(function*(){return yield q.selectUnderlyingResolver(),q.assertedUnderlyingResolver._openRedirect(u,d,v,L)})()}_isIframeWebStorageSupported(u,d){this.assertedUnderlyingResolver._isIframeWebStorageSupported(u,d)}_originValidation(u){return this.assertedUnderlyingResolver._originValidation(u)}get _shouldInitProactively(){return zf()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return _h(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var u=this;return(0,p.Z)(function*(){if(u.underlyingResolver)return;const d=yield function gh(){return Ss.apply(this,arguments)}();u.underlyingResolver=d?u.cordovaResolver:u.browserResolver})()}}function Wf(_){return _.unwrap()}function Kf(_){return _c(_)}function _c(_){const{_tokenResponse:u}=_ instanceof ne.ZR?_.customData:_;if(!u)return null;if(!(_ instanceof ne.ZR)&&"temporaryProof"in u&&"phoneNumber"in u)return ja.credentialFromResult(_);const d=u.providerId;if(!d||d===le.PASSWORD)return null;let v;switch(d){case le.GOOGLE:v=Ni;break;case le.FACEBOOK:v=As;break;case le.GITHUB:v=oo;break;case le.TWITTER:v=La;break;default:const{oauthIdToken:L,oauthAccessToken:q,oauthTokenSecret:Te,pendingToken:ze,nonce:Dt}=u;return q||Te||L||ze?ze?d.startsWith("saml.")?Hn._create(d,ze):Yr._fromParams({providerId:d,signInMethod:d,pendingToken:ze,idToken:L,accessToken:q}):new zr(d).credential({idToken:L,accessToken:q,rawNonce:Dt}):null}return _ instanceof ne.ZR?v.credentialFromError(_):v.credentialFromResult(_)}function xs(_,u){return u.catch(d=>{throw d instanceof ne.ZR&&function bm(_,u){var d;const v=null===(d=u.customData)||void 0===d?void 0:d._tokenResponse;if("auth/multi-factor-auth-required"===u?.code)u.resolver=new vh(_,function xi(_,u){var d;const v=(0,ne.m9)(_),L=u;return nt(u.customData.operationType,v,"argument-error"),nt(null===(d=L.customData._serverResponse)||void 0===d?void 0:d.mfaPendingCredential,v,"argument-error"),Uc._fromError(v,L)}(_,u));else if(v){const L=_c(u),q=u;L&&(q.credential=L,q.tenantId=v.tenantId||void 0,q.email=v.email||void 0,q.phoneNumber=v.phoneNumber||void 0)}}(_,d),d}).then(d=>{const L=d.user;return{operationType:d.operationType,credential:Kf(d),additionalUserInfo:ku(d),user:Ca.getOrCreate(L)}})}function hu(_,u){return bl.apply(this,arguments)}function bl(){return(bl=(0,p.Z)(function*(_,u){const d=yield u;return{verificationId:d.verificationId,confirm:v=>xs(_,d.confirm(v))}})).apply(this,arguments)}class vh{constructor(u,d){this.resolver=d,this.auth=function yh(_){return _.wrapped()}(u)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(u){return xs(Wf(this.auth),this.resolver.resolveSignIn(u))}}class Ca{constructor(u){this._delegate=u,this.multiFactor=function $c(_){const u=(0,ne.m9)(_);return Hc.has(u)||Hc.set(u,jc._fromUser(u)),Hc.get(u)}(u)}static getOrCreate(u){return Ca.USER_MAP.has(u)||Ca.USER_MAP.set(u,new Ca(u)),Ca.USER_MAP.get(u)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(u){return this._delegate.getIdTokenResult(u)}getIdToken(u){return this._delegate.getIdToken(u)}linkAndRetrieveDataWithCredential(u){return this.linkWithCredential(u)}linkWithCredential(u){var d=this;return(0,p.Z)(function*(){return xs(d.auth,Ys(d._delegate,u))})()}linkWithPhoneNumber(u,d){var v=this;return(0,p.Z)(function*(){return hu(v.auth,function cl(_,u,d){return Kc.apply(this,arguments)}(v._delegate,u,d))})()}linkWithPopup(u){var d=this;return(0,p.Z)(function*(){return xs(d.auth,function Qd(_,u,d){return Qc.apply(this,arguments)}(d._delegate,u,Aa))})()}linkWithRedirect(u){var d=this;return(0,p.Z)(function*(){return yield Il(_r(d.auth)),ys(d._delegate,u,Aa)})()}reauthenticateAndRetrieveDataWithCredential(u){return this.reauthenticateWithCredential(u)}reauthenticateWithCredential(u){var d=this;return(0,p.Z)(function*(){return xs(d.auth,ui(d._delegate,u))})()}reauthenticateWithPhoneNumber(u,d){return hu(this.auth,function $u(_,u,d){return qc.apply(this,arguments)}(this._delegate,u,d))}reauthenticateWithPopup(u){return xs(this.auth,function No(_,u,d){return Zd.apply(this,arguments)}(this._delegate,u,Aa))}reauthenticateWithRedirect(u){var d=this;return(0,p.Z)(function*(){return yield Il(_r(d.auth)),go(d._delegate,u,Aa)})()}sendEmailVerification(u){return function z(_,u){return pe.apply(this,arguments)}(this._delegate,u)}unlink(u){var d=this;return(0,p.Z)(function*(){return yield function Zl(_,u){return nl.apply(this,arguments)}(d._delegate,u),d})()}updateEmail(u){return function Nn(_,u){const d=(0,ne.m9)(_);return(0,Y._isFirebaseServerApp)(d.auth.app)?Promise.reject(Ye(d.auth)):Ln(d,u,null)}(this._delegate,u)}updatePassword(u){return function fr(_,u){return Ln((0,ne.m9)(_),null,u)}(this._delegate,u)}updatePhoneNumber(u){return function hm(_,u){return qd.apply(this,arguments)}(this._delegate,u)}updateProfile(u){return function rr(_,u){return Kn.apply(this,arguments)}(this._delegate,u)}verifyBeforeUpdateEmail(u,d){return function Oe(_,u,d){return Qe.apply(this,arguments)}(this._delegate,u,d)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ca.USER_MAP=new WeakMap;const Za=nt;let od=(()=>{class _{constructor(d,v){if(this.app=d,v.isInitialized())return this._delegate=v.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:L}=d.options;Za(L,"invalid-api-key",{appName:d.name}),Za(L,"invalid-api-key",{appName:d.name});const q=typeof window<"u"?Aa:void 0;this._delegate=v.initialize({options:{persistence:Qa(L,d.name),popupRedirectResolver:q}}),this._delegate._updateErrorMap(Ct),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ca.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(d){this._delegate.languageCode=d}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(d){this._delegate.tenantId=d}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(d,v){!function Do(_,u,d){const v=_r(_);nt(v._canInitEmulator,v,"emulator-config-failed"),nt(/^https?:\/\//.test(u),v,"invalid-emulator-scheme");const L=!!d?.disableWarnings,q=bs(u),{host:Te,port:ze}=function ii(_){const u=bs(_),d=/(\/\/)?([^?#/]+)/.exec(_.substr(u.length));if(!d)return{host:"",port:null};const v=d[2].split("@").pop()||"",L=/^(\[[^\]]+\])(:|$)/.exec(v);if(L){const q=L[1];return{host:q,port:ro(v.substr(q.length+1))}}{const[q,Te]=v.split(":");return{host:q,port:ro(Te)}}}(u);v.config.emulator={url:`${q}//${Te}${null===ze?"":`:${ze}`}/`},v.settings.appVerificationDisabledForTesting=!0,v.emulatorConfig=Object.freeze({host:Te,port:ze,protocol:q.replace(":",""),options:Object.freeze({disableWarnings:L})}),L||function Ts(){function _(){const u=document.createElement("p"),d=u.style;u.innerText="Running in emulator mode. Do not use with production credentials.",d.position="fixed",d.width="100%",d.backgroundColor="#ffffff",d.border=".1em solid #000000",d.color="#b50000",d.bottom="0px",d.left="0px",d.margin="0px",d.zIndex="10000",d.textAlign="center",u.classList.add("firebase-emulator-warning"),document.body.appendChild(u)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,d,v)}applyActionCode(d){return function ur(_,u){return Pn.apply(this,arguments)}(this._delegate,d)}checkActionCode(d){return On(this._delegate,d)}confirmPasswordReset(d,v){return function Xt(_,u,d){return nn.apply(this,arguments)}(this._delegate,d,v)}createUserWithEmailAndPassword(d,v){var L=this;return(0,p.Z)(function*(){return xs(L._delegate,function di(_,u,d){return Wr.apply(this,arguments)}(L._delegate,d,v))})()}fetchProvidersForEmail(d){return this.fetchSignInMethodsForEmail(d)}fetchSignInMethodsForEmail(d){return function G(_,u){return O.apply(this,arguments)}(this._delegate,d)}isSignInWithEmailLink(d){return function Si(_,u){const d=ms.parseLink(u);return"EMAIL_SIGNIN"===d?.operation}(0,d)}getRedirectResult(){var d=this;return(0,p.Z)(function*(){Za(uu(),d._delegate,"operation-not-supported-in-this-environment");const v=yield function us(_,u){return zu.apply(this,arguments)}(d._delegate,Aa);return v?xs(d._delegate,Promise.resolve(v)):{credential:null,user:null}})()}addFrameworkForLogging(d){!function Hf(_,u){_r(_)._logFramework(u)}(this._delegate,d)}onAuthStateChanged(d,v,L){const{next:q,error:Te,complete:ze}=fu(d,v,L);return this._delegate.onAuthStateChanged(q,Te,ze)}onIdTokenChanged(d,v,L){const{next:q,error:Te,complete:ze}=fu(d,v,L);return this._delegate.onIdTokenChanged(q,Te,ze)}sendSignInLinkToEmail(d,v){return function gs(_,u,d){return _s.apply(this,arguments)}(this._delegate,d,v)}sendPasswordResetEmail(d,v){return function it(_,u,d){return vt.apply(this,arguments)}(this._delegate,d,v||void 0)}setPersistence(d){var v=this;return(0,p.Z)(function*(){let L;switch(function El(_,u){Da(Object.values(Hs).includes(u),_,"invalid-persistence-type"),(0,ne.b$)()?Da(u!==Hs.SESSION,_,"unsupported-persistence-type"):(0,ne.UG)()?Da(u===Hs.NONE,_,"unsupported-persistence-type"):ta()?Da(u===Hs.NONE||u===Hs.LOCAL&&(0,ne.hl)(),_,"unsupported-persistence-type"):Da(u===Hs.NONE||sd(),_,"unsupported-persistence-type")}(v._delegate,d),d){case Hs.SESSION:L=pr;break;case Hs.LOCAL:L=(yield Yt(cs)._isAvailable())?cs:Ua;break;case Hs.NONE:L=be;break;default:return De("argument-error",{appName:v._delegate.name})}return v._delegate.setPersistence(L)})()}signInAndRetrieveDataWithCredential(d){return this.signInWithCredential(d)}signInAnonymously(){return xs(this._delegate,function ql(_){return Gr.apply(this,arguments)}(this._delegate))}signInWithCredential(d){return xs(this._delegate,os(this._delegate,d))}signInWithCustomToken(d){return xs(this._delegate,function K(_,u){return E.apply(this,arguments)}(this._delegate,d))}signInWithEmailAndPassword(d,v){return xs(this._delegate,function gi(_,u,d){return(0,Y._isFirebaseServerApp)(_.app)?Promise.reject(Ye(_)):os((0,ne.m9)(_),ti.credential(u,d)).catch(function(){var v=(0,p.Z)(function*(L){throw"auth/password-does-not-meet-requirements"===L.code&&Ce(_),L});return function(L){return v.apply(this,arguments)}}())}(this._delegate,d,v))}signInWithEmailLink(d,v){return xs(this._delegate,function $n(_,u,d){return $i.apply(this,arguments)}(this._delegate,d,v))}signInWithPhoneNumber(d,v){return hu(this._delegate,function Zo(_,u,d){return po.apply(this,arguments)}(this._delegate,d,v))}signInWithPopup(d){var v=this;return(0,p.Z)(function*(){return Za(uu(),v._delegate,"operation-not-supported-in-this-environment"),xs(v._delegate,function Ea(_,u,d){return Oo.apply(this,arguments)}(v._delegate,d,Aa))})()}signInWithRedirect(d){var v=this;return(0,p.Z)(function*(){return Za(uu(),v._delegate,"operation-not-supported-in-this-environment"),yield Il(v._delegate),Xd(v._delegate,d,Aa)})()}updateCurrentUser(d){return this._delegate.updateCurrentUser(d)}verifyPasswordResetCode(d){return function Jr(_,u){return jr.apply(this,arguments)}(this._delegate,d)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=Hs,_})();function fu(_,u,d){let v=_;"function"!=typeof _&&({next:v,error:u,complete:d}=_);const L=v;return{next:Te=>L(Te&&Ca.getOrCreate(Te)),error:u,complete:d}}function Qa(_,u){const d=function Gf(_,u){const d=qa();if(!d)return[];const v=en(vs,_,u);switch(d.getItem(v)){case Hs.NONE:return[be];case Hs.LOCAL:return[cs,pr];case Hs.SESSION:return[pr];default:return[]}}(_,u);if(typeof self<"u"&&!d.includes(cs)&&d.push(cs),typeof window<"u")for(const v of[Ua,pr])d.includes(v)||d.push(v);return d.includes(be)||d.push(be),d}class Ya{constructor(){this.providerId="phone",this._delegate=new ja(Wf(te.Z.auth()))}static credential(u,d){return ja.credential(u,d)}verifyPhoneNumber(u,d){return this._delegate.verifyPhoneNumber(u,d)}unwrap(){return this._delegate}}Ya.PHONE_SIGN_IN_METHOD=ja.PHONE_SIGN_IN_METHOD,Ya.PROVIDER_ID=ja.PROVIDER_ID;const Tl=nt;class na{constructor(u,d,v=te.Z.app()){var L;Tl(null===(L=v.options)||void 0===L?void 0:L.apiKey,"invalid-api-key",{appName:v.name}),this._delegate=new ya(v.auth(),u,d),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function vc(_){_.INTERNAL.registerComponent(new ve.wA("auth-compat",u=>{const d=u.getProvider("app-compat").getImmediate(),v=u.getProvider("auth");return new od(d,v)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ti,FacebookAuthProvider:As,GithubAuthProvider:oo,GoogleAuthProvider:Ni,OAuthProvider:zr,SAMLAuthProvider:Rs,PhoneAuthProvider:Ya,PhoneMultiFactorGenerator:vm,RecaptchaVerifier:na,TwitterAuthProvider:La,Auth:od,AuthCredential:mi,Error:ne.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.5.9")}(te.Z)},5861:(Gt,Ue,k)=>{function p(Y,ne,ye,_e,ve,Pe,le){try{var ee=Y[Pe](le),ae=ee.value}catch(Ee){return void ye(Ee)}ee.done?ne(ae):Promise.resolve(ae).then(_e,ve)}function te(Y){return function(){var ne=this,ye=arguments;return new Promise(function(_e,ve){var Pe=Y.apply(ne,ye);function le(ae){p(Pe,_e,ve,le,ee,"next",ae)}function ee(ae){p(Pe,_e,ve,le,ee,"throw",ae)}le(void 0)})}}k.d(Ue,{Z:()=>te})},7582:(Gt,Ue,k)=>{function ne(Ne,Be){var ct={};for(var rt in Ne)Object.prototype.hasOwnProperty.call(Ne,rt)&&Be.indexOf(rt)<0&&(ct[rt]=Ne[rt]);if(null!=Ne&&"function"==typeof Object.getOwnPropertySymbols){var wt=0;for(rt=Object.getOwnPropertySymbols(Ne);wt<rt.length;wt++)Be.indexOf(rt[wt])<0&&Object.prototype.propertyIsEnumerable.call(Ne,rt[wt])&&(ct[rt[wt]]=Ne[rt[wt]])}return ct}function Ee(Ne,Be,ct,rt){return new(ct||(ct=Promise))(function(ut,jt){function yt(st){try{bn(rt.next(st))}catch(Zt){jt(Zt)}}function sr(st){try{bn(rt.throw(st))}catch(Zt){jt(Zt)}}function bn(st){st.done?ut(st.value):function wt(ut){return ut instanceof ct?ut:new ct(function(jt){jt(ut)})}(st.value).then(yt,sr)}bn((rt=rt.apply(Ne,Be||[])).next())})}function ue(Ne){return this instanceof ue?(this.v=Ne,this):new ue(Ne)}function De(Ne,Be,ct){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var wt,rt=ct.apply(Ne,Be||[]),ut=[];return wt={},yt("next"),yt("throw"),yt("return",function jt(In){return function(St){return Promise.resolve(St).then(In,Zt)}}),wt[Symbol.asyncIterator]=function(){return this},wt;function yt(In,St){rt[In]&&(wt[In]=function(Rt){return new Promise(function(Jn,Pt){ut.push([In,Rt,Jn,Pt])>1||sr(In,Rt)})},St&&(wt[In]=St(wt[In])))}function sr(In,St){try{!function bn(In){In.value instanceof ue?Promise.resolve(In.value.v).then(st,Zt):Yn(ut[0][2],In)}(rt[In](St))}catch(Rt){Yn(ut[0][3],Rt)}}function st(In){sr("next",In)}function Zt(In){sr("throw",In)}function Yn(In,St){In(St),ut.shift(),ut.length&&sr(ut[0][0],ut[0][1])}}function He(Ne){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ct,Be=Ne[Symbol.asyncIterator];return Be?Be.call(Ne):(Ne=function ht(Ne){var Be="function"==typeof Symbol&&Symbol.iterator,ct=Be&&Ne[Be],rt=0;if(ct)return ct.call(Ne);if(Ne&&"number"==typeof Ne.length)return{next:function(){return Ne&&rt>=Ne.length&&(Ne=void 0),{value:Ne&&Ne[rt++],done:!Ne}}};throw new TypeError(Be?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ne),ct={},rt("next"),rt("throw"),rt("return"),ct[Symbol.asyncIterator]=function(){return this},ct);function rt(ut){ct[ut]=Ne[ut]&&function(jt){return new Promise(function(yt,sr){!function wt(ut,jt,yt,sr){Promise.resolve(sr).then(function(bn){ut({value:bn,done:yt})},jt)}(yt,sr,(jt=Ne[ut](jt)).done,jt.value)})}}}k.d(Ue,{FC:()=>De,KL:()=>He,_T:()=>ne,mG:()=>Ee,qq:()=>ue}),"function"==typeof SuppressedError&&SuppressedError}},Gt=>{Gt(Gt.s=9694)}]);